{"_id": "doc-en-dart-ey-jNqh8yhESkymadGcpo301iSg", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nPaul, I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. I'm a little confused here. These are separate SSRCs, but all part of a single RTP session. So, wouldn’t the three SSRCs be reported in different report blocks in the sender report? Each of the SSRCs will report on all the others, unless the rtp-multi-stream-optimisation draft is used, but so what? Oh, I think I understand what you are saying. You're saying that each media flow (SSRC) would be responsible for sending its own RTCP packets and those packets would be marked in the same way as that media flow. In that case, I agree with you. Yes. That said, would we really require the sending SSRC to include any data for the other SSRCs if they're each sending RTCP packets separately? That seems redundant. Does RFC 3550 require that? (It’s been a while...) RFC 3550 does require that, and it is redundant (except that it indicates that the SSRCs are co-located); draft-ietf-avtcore-rtp-multi-stream-optimisation-04 offers an extension to avoid it in some cases. The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? For this, I would argue it should be whatever DSCP that has the lower drop precedence (in the case of assured forwarding). Otherwise, it should be the same as the media, I'd think. You mean the RTCP for each SSRC should use the DSCP with the lowest drop preference of those used for the media sent by that SSRC? That's what I'm suggesting. So, a video flow using AF4x would use AF41 for RTCP. I suggest that, since I assume we don't want to lose feedback information if we can avoid it. Makes sense. -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-sD9q9ghV4qPxg3VRRXJ1Ce9I8Kw", "text": "[Dart] draft-ietf-dart-dscp-rtp-02 - Section 4 data channel text\n-- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. Done, plus some more editing, here's the result in my working draft: A WebRTC application may use one or more RTP streams, as discussed above. In addition, it may include an SCTP-based data channel [I-D.ietf-rtcweb-data-channel] whose QoS treatment depends on the nature of the application. For example, best effort treatment of data channels is likely to suffice for messaging, shared white board, and guided browsing applications, whereas latency-sensitive games might desire better QoS for their data channels."}
{"_id": "doc-en-dart-i1_MiWbqwTe7hLD9WQhofslj5mU", "text": "[Dart] FW: New Version Notification for\n draft-ietf-dart-dscp-rtp-04.txt\nProgress in this version: [A] Work item: Gorry Fairhurst's item (1), a new Section 5.4 on \"single PHB/DSCP for a single TCP connection, SCTP association or DCCP connection\" - I need to write this text, and will try to do that over the weekend. I wound up adding this text to Section 5.1, and slimmed down the corresponding guideline in Section 6. I hope this suffices - Gorry should check the text in the -04. [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: http://www.ietf.org/mail-archive/web/dart/current/msg00156.html Still open, see Ben's recent message. [C] Work item: Request to Ben Campbell for \"additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4.\" Closed by additional text in -04. Ben should double-check that the result is acceptable. [D] Open issue: Question to Harald Alvestrand - Does CNAME need to be used in section 2.2 text? I hope not. Closed - this was actually in 2.1, and based on private discussion w/Harald, this issue has now been closed by a small edit in -04 to remove a problematic and unnecessary use of SSRC: OLD In addition, an RTP stream may contain multiple source streams that use the same reference clock (SSRC), e.g., components or programs in an MPEG Transport Stream [H.222.0]. NEW In addition, an RTP stream may contain multiple source streams, e.g., components or programs in an MPEG Transport Stream [H.222.0]. [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. Still open - Harald should post specific requests for text changes to the list. [F] Open issue: Harald Alvestrand's concerns about the RTCP multi-stream optimization text in section 5.2 . I don't think there's a problem here, but I'm not an expert on the RTCP technology involved, and Harald may not agree. This is a different RTCP issue than [B]. But, based on private discussion w/Harald, [F] depends on [B], and resolution of [B] is likely to lead to resolution of [F]. Ben's started a thread on [B], so I'll comment further there. Thanks, --David -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Monday, August 25, 2014 3:36 AM To: Black, David; Paul Jones; Black, David; Paul Jones Subject: New Version Notification for draft-ietf-dart-dscp-rtp-04.txt A new version of I-D, draft-ietf-dart-dscp-rtp-04.txt has been successfully submitted by David Black and posted to the IETF repository. Name: draft-ietf-dart-dscp-rtp Revision: 04 Title: Differentiated Services (DiffServ) and Real-time CommunicHtion Document date: 2014-08-25 Group: dart Pages: 26 URL: http://www.ietf.org/internet-drafts/draft-ietf-dart-dscp-rtp-04.txt Status: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ Htmlized: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-04 Diff: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-04 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirments using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id": "doc-en-dart-RXfmYT1WZlw7VgDo91NZhn4BtiM", "text": "Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02\nHi, Hi Colin, I've picked up your changes (including RTCWEB -> WebRTC globally) in my working draft, with two exceptions: (1) Items 3 and 4 in the list of what can be multiplexed. I don't think you suggested any changes to these two items, but they need significant attention for other reasons: - Ben's comment that item 3 ought to focus on the WebRTC data channel - STUN doesn't encapsulate WebRTC traffic (TURN does). I plan to merge these items 3 and 4 as part of revising them, and intend to move the topic of TURN encapsulation out to be discussed elsewhere, as it's independent of multiplexing. I'll propose specific text in a separate message. That’s fine. (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. One of the uses of RTCP is certainly to estimate the round-trip time, as described in Section 6.4.1 (page 41) of RFC 3550. The DSCP marking used for RTCP does need to take this use into account. Ideally, this would mean RTCP packets were marked the same as the corresponding RTP packets, as I suggested in the meeting. However, Paul is correct that this only works when all RTP packets have the same marking. Accordingly, I’m not sure what the right marking is for RTCP. One approach might be to say that an SSRC that sends RTP packets with different marking should use marking with the highest(lowest?) precedence of those is uses for RTCP, so the RTT estimate calculated from RTCP is representative of some RTP packets. I’m not sure that using a single DSCP for all RTCP packets would achieve that. Colin -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-mvvpZwMo5GrRunftILt5tSRcZw4", "text": "Re: [Dart] draft-ietf-dart-dscp-rtp-02 - Section 4 data channel text\n-- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. Done, plus some more editing, here's the result in my working draft: A WebRTC application may use one or more RTP streams, as discussed above. In addition, it may include an SCTP-based data channel [I-D.ietf-rtcweb-data-channel] whose QoS treatment depends on the nature of the application. For example, best effort treatment of data channels is likely to suffice for messaging, shared white board, and guided browsing applications, whereas latency-sensitive games might desire better QoS for their data channels. WFM."}
{"_id": "doc-en-dart-3Akl1bp4wBni3FA_Md7cQvNXUYc", "text": "[Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - 5.1 DCCP corrections\nSomeone was kind enough to privately point out an embarrassing DCCP thinko in Section 5.1: Unreliable datagram protocols (e.g., UDP, UDP-Lite, DCCP) are not sensitive to reordering in the network, because they do not provide reliable delivery or congestion control. That one's my fault - of course DCCP provides congestion control. The above sentence will be changed to: UDP and UDP-Lite are not sensitive to reordering in the network, because they do not provide reliable delivery or congestion control. The DCCP reference will be moved earlier in the section - in this text: In addition, congestion control functionality in transport protocols usually infers congestion when packets are lost, creating an additional sensitivity to significant reordering - such reordering may be (mis-)interpreted as indicating congestion-caused packet loss, causing a reduction in transmission rate. \"(including DCCP)\" will be inserted after \"in transport protocols\". Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 david.black@emc.com Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id": "doc-en-dart-bXY43aKoj0LKtaxTeq9WstpcpVI", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-05.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-05.txt Pages : 27 Date : 2014-08-29 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-05 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-05 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-SWLY5-oBbQDV1K0d6m75oJhptAM", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2)\nGood, I added a few words to be more explicit when I put the text into my working version of -03: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport protocol connection (e.g., DCCP) or transport protocol association (e.g., SCTP) is out of scope for this document. Thanks, --David -----Original Message----- From: gorry@erg.abdn.ac.uk [mailto:gorry@erg.abdn.ac.uk] Sent: Friday, August 22, 2014 3:13 PM To: Black, David Cc: gorry@erg.abdn.ac.uk; dart@ietf.org; Black, David Subject: RE: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) I could live with that - it would be even nicer if we actually had a document with set of recommendations to point to - but since we don't, this seems an appropriate statement. Gorry Here's the next to last paragraph in Section 5.3: SCTP [RFC4960] differs from TCP in a number of ways, including the ability to deliver messages in an order that differs from the order in which they were sent and support for unreliable streams. However, SCTP performs congestion control and retransmission across the entire association, and not on a per-stream basis. Although there may be advantages to using multiple drop precedence across SCTP streams or within an SCTP stream that does not use reliable ordered delivery, there is no practical operational experience in doing so (e.g., the SCTP sockets API [RFC6458] does not support use of more than one DSCP for an SCTP association). As a consequence, the impacts on SCTP protocol and implementation behavior are unknown and difficult to predict. Hence a single PHB and DSCP should be used for all packets in an SCTP association, independent of the number or nature of streams in that association. Similar reasoning applies to a DCCP connection; a single PHB and DSCP should be used because the scope of congestion control is the connection and there is no operational experience with using more than one PHB or DSCP. I propose to add the following new sentence as its own paragraph: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport connection (e.g., DCCP) or association (e.g., SCTP) is out of scope for this document. I could add examples of topics that could be addressed, but would prefer to leave that to the actual design activity. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 14, 2014 9:16 AM To: gorry@erg.abdn.ac.uk; Ruediger.Geib@telekom.de Cc: dart@ietf.org; Black, David Subject: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) Wearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of gorry@erg.abdn.ac.uk Sent: Thursday, August 14, 2014 9:06 AM To: Ruediger.Geib@telekom.de Cc: gorry@erg.abdn.ac.uk; dart@ietf.org Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may - Support the PHB and offer the same corresponding DSCP - Not support the PHB and use the DSCP for a different PHB - Not support the PHB and not use the DSCP - Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB - Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: dart@ietf.org Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-0GkY-7bka7jdqDcnNZ5ua3H00d4", "text": "Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02\nColin - many thanks for the review. I'll pick up your proposed changes, perhaps with minor edits. Ben, 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? WebRTC will only multiplex its data channels, and this numbered list is about WebRTC, so this text should focus on those data channels - I'll revise the draft accordingly. Other text elsewhere in the draft is broader (e.g., SCTP/UDP without DTLS, which is of interest, even though WebRTC always uses DTLS). Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Ben Campbell Sent: Monday, August 18, 2014 4:48 PM To: Colin Perkins Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <csp@csperkins.org> wrote: Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin Hi, The DART working group has started a last call for draft-ietf-dart-dscp- rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: draft-alias-bounces@tools.ietf.org From: Ben Campbell <ben@nostrum.com> Subject: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: ben@nostrum.com, david.black@emc.com, paulej@packetizer.com To: dart@ietf.org Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org, mls.ietf@gmail.com, Richard Barnes <rlb@ipv.sx> This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio/Video Transport Core Maintenance avt@ietf.org https://www.ietf.org/mailman/listinfo/avt -- Colin Perkins http://csperkins.org/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-koQ2Yc9m8bF2tYP2tJy4E1llHtc", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-02.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-02.txt Pages : 25 Date : 2014-08-08 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-02 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-02 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-zZn5bz4nkT5hFMCC8wHqjeol_FI", "text": "Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-07.txt,\nHi David, The draft is well written and I regard it as very helpful. There's one change I'd like to suggest: Section 3.1, list number 2. briefly explains AF. The section doesn't explicitly mention that traffic carried by one of the three PHBs of an AF class are not reordered. This feature, avoiding reordering packets belonging to different PHBs of an AF class, is however a kind of punch line whenever AF is referred to in later sections. So I'd welcome mentioning it in section 3.1, list point 2. ################# minor comments (no objection if ignored) ############################# Section 4. , second block. Why are I-frames marked AF41 and P-frames AF43 in the example? To me, AF42 for P makes more sense (or make it AF42 for I frames). AF43 could be used for B-frames (which aren't mentioned in the text). Section 5.1 second block after the bullet pointed list \".making reordering very likely.\" Would \"making reordering likely\" be sufficient? Section 5.1 There's at least one ECMP implementation I'm aware of which includes QoS bits to calculate the load balancing hash value. It reorders packets of a flow using multiple classes, if they are spaced less than the resulting delay difference. This is an exceptional implementation, the other solutions I'm aware of do ignore QoS bits when calculating ECMP hash values. ECMP is a proprietary feature, I think. And one editorial comment: Section 3., last bullet point and following section: the bullet point is focused on Lower Effort PHB marked by CS 1 and the following section continues by discussing CS 1 issues more general. This discussion may be added to the bullet point (to me the discussion doesn't seem to be related to the first bullet point). ######################################################## Sorry for being late with my review. Regards, Ruediger"}
{"_id": "doc-en-dart-nsPk2kN1N-C3wYkcBxK6_UiGp1U", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nI suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. Yes, something definitely needs to be done, as shaping excess traffic is not consistent with the EF service. In addition, RFC 3246 recommends against (SHOULD NOT) remarking EF traffic within a DS domain in one of the text excerpts that was in your email, so remarking should not be mentioned as a possibility. Further, RFC 3246 recommends that excess traffic SHOULD be dropped (section 3): To protect itself against denial of service attacks, the edge of a DS domain SHOULD strictly police all EF marked packets to a rate negotiated with the adjacent upstream domain. Packets in excess of the negotiated rate SHOULD be dropped. I'll reword the dart draft text as follows: OLD Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. NEW Both of these PHBs are based on pre-configured limited forwarding capacity; traffic in excess of that capacity is expected to be dropped. Thanks for noticing this, --David -----Original Message----- From: Ruediger.Geib@telekom.de [mailto:Ruediger.Geib@telekom.de] Sent: Monday, August 11, 2014 6:21 AM To: Black, David Cc: dart@ietf.org; tsvwg@ietf.org Subject: AW: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. - looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. - dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. ######################################## RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: dart@ietf.org Cc: Richard Barnes; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; mls.ietf@gmail.com Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-saQjRoQ-xIA4IN2FxqKq36zTxEk", "text": "Re: [Dart] [rtcweb] Fwd: WGLC: draft-ietf-dart-dscp-rtp-02\nThis is also of some interest to me at least, and perhaps some members of the AQM working group who are working out weighted fair queuing and wred like approaches to these needs. Anyway, I do try to track thinking in this area in the ongoing development of cerowrt's sqm system, which has pluggable modules for all the known aqm and fq schedulers, and a three tier system modeled on wondershaper for managing traffic, which uses what diffserv markings that I have observed make sense... Some relevant links: http://www.bufferbloat.net/projects/cerowrt/wiki/Wondershaper_Must_Die http://www.bufferbloat.net/projects/cerowrt/wiki/Setting_up_SQM_for_CeroWrt_310 http://www.bufferbloat.net/projects/cerowrt/wiki/Smart_Queue_Management Missing from this discussion so far is what is actually deployed out there... I am only familiar with stuff like the above as an egress/ingress queue management system... AND: in the case of linux based wireless routers, none of the AF codepoints are respected explicitly, and how the codepoints are mapped are described by 802.11e - and that is far more about scheduling priority for airtime rather than drop probability. It is kind of hard to wrap your head around how 802.11e actually works, but, this is a start: http://en.wikipedia.org/wiki/IEEE_802.11e-2005#Enhanced_distributed_channel_access_.28EDCA.29 In linux wifi at least: CS0, CS3 are mapped into the BE hw queue CS1, CS2 are mapped into the BK hw queue CS4, CS5 are mapped into the VI hw queue CS6, CS7 are mapped into the VO hw queue Bit patterns for the other classes to whatever extent they map into CSX are mapped into the underlying hardware queue. I am not saying this is an optimal state of affairs, (as notably VO should be as completely disabled as possible in the 802.11n and ac age), and am very interested in how other OSes (ios, osx, windows), and router/switch OSes do it, but the wireless scheduling aspect of all these codepoints does not seem to be well touched upon. On a personal note I tend to think that having 17+ ways to slice up traffic is about 13 or 14 too many, particularly those targetting a drop probability. When you have drop rates well below a few percentage points, adding another percentage point of granularity seems futile. Lastly, there is also an implementation issue in linux presently in that doing extensive diffserv classification basically requires one iptables or tc rule per class, which is inefficient. Someone (not me!) doing some code for doing diffserv saner there would go a long way... -- Dave Täht NSFW: https://w2.eff.org/Censorship/Internet_censorship_bills/russell_0296_indecent.article"}
{"_id": "doc-en-dart-5RGR-oGmjFSQhzXy5lWiIYyvVLs", "text": "[Dart] AD review of draft-ietf-dart-dscp-rtp-06\nI have reviewed this draft in preparation for IETF LC. Overall this looks very good. As someone who is not deeply familiar with DiffServ concepts, the document provided a helpful introduction and clearly justified its recommendations. I'll go ahead and request last call. Some minor comments are below. My main concern is that this document is so well populated with references that it will get stuck in MISSREF for years while others catch up :) Thanks, --Richard MINOR Section 6: \"\"\" The only use of multiple standardized PHBs and DSCPs that prevents network reordering among packets marked with different DSCPs is use of PHBs within a single AF class. \"\"\" It doesn't prevent reordering, right? It just makes reordering much more unlikely and more transient. (Unless you're using a strict definition of \"network reordering\" that ignores things like ECMP balancing.) The \"allow\" phrasing is used several times in this section. It would be helpful to clarify. EDITORIAL Abstract: \"\"\" Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. \"\"\" This sentence doesn't really parse. Maybe just delete \"the results (e.g., reordering)\"? Likewise for the same phrase in the introduction. Introduction: \"\"\" (Section 7 is an empty IANA Considerations section) \"\"\" Note to future self: Remove this parenthetical and renumber once this hits the RFC Editor. Section 5.1: \"\"\" In general, marking packets with different DSCPs results in different PHBs being applied at nodes in the network, making reordering possible due to use of different pools of forwarding resources for each PHB. \"\"\" This seems like a pretty import, so I would state it more strongly. It doesn't just make reordering possible, it makes it much more likely. (This is the flip side of the Section 6 comment above.) I have reviewed this draft in preparation for IETF LC. Overall this looks very good. As someone who is not deeply familiar with DiffServ concepts, the document provided a helpful introduction and clearly justified its recommendations. I'll go ahead and request last call.Some minor comments are below. My main concern is that this document is so well populated with references that it will get stuck in MISSREF for years while others catch up :)Thanks,--RichardMINORSection 6:\"\"\" The only use of multiple standardized PHBs and DSCPs that prevents network reordering among packets marked with different DSCPs is use of PHBs within a single AF class.\"\"\"It doesn't prevent reordering, right? It just makes reordering much more unlikely and more transient. (Unless you're using a strict definition of \"network reordering\" that ignores things like ECMP balancing.) The \"allow\" phrasing is used several times in this section. It would be helpful to clarify.EDITORIALAbstract:\"\"\" Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality.\"\"\"This sentence doesn't really parse. Maybe just delete \"the results (e.g., reordering)\"? Likewise for the same phrase in the introduction.Introduction:\"\"\" (Section 7 is an empty IANA Considerations section)\"\"\"Note to future self: Remove this parenthetical and renumber once this hits the RFC Editor.Section 5.1:\"\"\" In general, marking packets with different DSCPs results in different PHBs being applied at nodes in the network, making reordering possible due to use of different pools of forwarding resources for each PHB.\"\"\"This seems like a pretty import, so I would state it more strongly. It doesn't just make reordering possible, it makes it much more likely. (This is the flip side of the Section 6 comment above.)"}
{"_id": "doc-en-dart-oLcN11XZBEyMQQM6Ybz6zPD7Jo0", "text": "[Dart] Fwd: Document Action: 'Differentiated Services (DiffServ)\n and Real-time Communication' to Informational RFC\n (draft-ietf-dart-dscp-rtp-10.txt)\nYay! Many thanks to the authors, working group participants, and everyone else who played a part in this! Ben. Begin forwarded message: Resent-From: wg-alias-bounces@tools.ietf.org From: The IESG <iesg-secretary@ietf.org> Date: November 12, 2014 at 6:51:36 PM HST Resent-To: ben@nostrum.com To: IETF-Announce <ietf-announce@ietf.org> Cc: RFC Editor <rfc-editor@rfc-editor.org>, dart mailing list <dart@ietf.org>, dart chair <dart-chairs@tools.ietf.org> Subject: Document Action: 'Differentiated Services (DiffServ) and Real-time Communication' to Informational RFC (draft-ietf-dart-dscp-rtp-10.txt) The IESG has approved the following document: - 'Differentiated Services (DiffServ) and Real-time Communication' (draft-ietf-dart-dscp-rtp-10.txt) as Informational RFC This document is the product of the DiffServ Applied to Real-time Transports Working Group. The IESG contact persons are Richard Barnes and Alissa Cooper. A URL of this Internet Draft is: http://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ Technical Summary This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. Working Group Summary The DART working group was formed in April of 2014. The working group was chartered to focus on a constrained problem and conclude quickly. DART adopted this document with very little controversy. While the working group is nominally in the RAI area, it has been effectively a cross-area effort between RAI and TSV. This document resulted in lively discussion among a core group of experts from both areas. In general, the discussion converged quickly, and there were no unresolved controversies. In the shepherd's opinion, the only impediment to consensus was that discussion kept overturning rocks, forcing participants to think about new issues. One notable issue was whether this draft should offer guidance on the interaction between having multiple DSCPs in a stream and the multiple stream optimization work (draft-ietf-avtcore-rtp-multi-stream-optimisation.) The working group chose to avoid such guidance in this draft, and leave that for the multi-stream draft to solve. Document Quality During the working group last call, we solicited comments from RTCWEB, AVTCORE, MMUSIC, CLUE, TSVWG, and RMCAT. In the shepherd's opinion, it has been well reviewed, and represents a strong consensus. The shepherd does not think it needs any further specific reviews, other than the usual reviews it would receive during the IETF last call process (for example, Gen-ART and SecDir). Since the document does not specify protocol, it will not be directly implemented. However, we expect that at least the RTCWEB working group will incorporate guidance from this document into it's output. Personnel The Document Shepherd is Ben Campbell. The Responsible AD is Richard Barnes. Yay!Many thanks to the authors, working group participants, and everyone else who played a part in this!Ben.Begin forwarded message:Resent-From: wg-alias-bounces@tools.ietf.orgFrom: The IESG <iesg-secretary@ietf.org>Date: November 12, 2014 at 6:51:36 PM HSTResent-To: ben@nostrum.comTo: IETF-Announce <ietf-announce@ietf.org>Cc: RFC Editor <rfc-editor@rfc-editor.org>, dart mailing list <dart@ietf.org>, dart chair <dart-chairs@tools.ietf.org>Subject: Document Action: 'Differentiated Services (DiffServ) and Real-time Communication' to Informational RFC (draft-ietf-dart-dscp-rtp-10.txt)The IESG has approved the following document:- 'Differentiated Services (DiffServ) and Real-time Communication' (draft-ietf-dart-dscp-rtp-10.txt) as Informational RFCThis document is the product of the DiffServ Applied to Real-timeTransports Working Group.The IESG contact persons are Richard Barnes and Alissa Cooper.A URL of this Internet Draft is:http://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/Technical SummaryThis document describes the interaction between Differentiated Services(DiffServ) network quality of service (QoS) functionality and real-timenetwork communication, including communication based on the Real-timeTransport Protocol (RTP). DiffServ is based on network nodes applyingdifferent forwarding treatments to packets whose IP headers are markedwith different DiffServ Code Points (DSCPs). WebRTC applications, aswell as some conferencing applications, have begun using the SessionDescription Protocol (SDP) bundle negotiation mechanism to send multipletraffic streams with different QoS requirements using the same network5-tuple. Use of different DSCPs to obtain different QoS treatmentswithin a single network 5-tuple, the results (e.g., reordering) maycause transport protocol interactions, particularly with congestioncontrol functionality. In addition, DSCP markings may be changed orremoved between the traffic source and destination. This documentcovers the implications of these DiffServ aspects for real-time networkcommunication, including WebRTC.Working Group SummaryThe DART working group was formed in April of 2014. The working groupwas chartered to focus on a constrained problem and conclude quickly.DART adopted this document with very little controversy.While the working group is nominally in the RAI area, it has beeneffectively a cross-area effort between RAI and TSV. This documentresulted in lively discussion among a core group of experts from bothareas. In general, the discussion converged quickly, and there were nounresolved controversies.In the shepherd's opinion, the only impediment to consensus was thatdiscussion kept overturning rocks, forcing participants to think aboutnew issues. One notable issue was whether this draft should offerguidance on the interaction between having multiple DSCPs in a streamand the multiple stream optimization work(draft-ietf-avtcore-rtp-multi-stream-optimisation.) The working groupchose to avoid such guidance in this draft, and leave that for themulti-stream draft to solve.Document QualityDuring the working group last call, we solicited comments from RTCWEB,AVTCORE, MMUSIC, CLUE, TSVWG, and RMCAT. In the shepherd's opinion, ithas been well reviewed, and represents a strong consensus. The shepherddoes not think it needs any further specific reviews, other than theusual reviews it would receive during the IETF last call process (forexample, Gen-ART and SecDir).Since the document does not specify protocol, it will not be directlyimplemented. However, we expect that at least the RTCWEB working groupwill incorporate guidance from this document into it's output.PersonnelThe Document Shepherd is Ben Campbell. The Responsible AD is Richard Barnes."}
{"_id": "doc-en-dart-l1JgKo01aIix1b-s3g7BbXLn7NA", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-10.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-10.txt Pages : 27 Date : 2014-11-10 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple have transport protocol interactions, particularly with congestion control functionality (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-10 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-10 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-8u6caGf99IRgbMQsayjfor3_0a8", "text": "Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-01.txt\nThis -01 version has the editorial and content changes, primarily from a review by Gorry Fairhurst (who also supplied material on DCCP and UDP-Lite). The next -02 version will rearrange the section order and numbering along with any edits that are needed as a result - that should be ready for WG Last Call. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of internet- drafts@ietf.org Sent: Friday, August 08, 2014 7:04 PM To: i-d-announce@ietf.org Cc: dart@ietf.org Subject: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-01.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-01.txt Pages : 24 Date : 2014-08-08 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-01 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-01 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-0XpRvvIEFB7nMsGogBiAEfcyjd8", "text": "Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-00.txt\nAs promised, here's the -00 dart WG draft. I think I incorporated almost everything that was discussed in the meeting, but I've surely missed a few things - please comment (on list, or send me editorial changes directly). I want to call attention to this Editor's Note on draft organization: [Editor's Note: Current section structure skips around topics somewhat. The editor suggests restructuring to put real-time/RTP material first (new section 2, consisting of current sections 2, 2.1 and 3), then DiffServ Background (new section 3, consisting of current sections 2.2, 2.3, 2.6 and 2.7, followed by discussion of interactions (new section 4, consisting of current sections 2.4, 2.5 and 5) and guidelines (current section 4, renumbered to new section 5).] If this change is made, I will submit a version that only contains the text rearrangement before making any other changes. The \"game plan\" that I've discussed w/Ben (WG chair) is to revise the draft over about the next week with the resulting version going to WG Last Call, so reading this draft sooner rather than later might be a good idea. Thanks, --David -----Original Message----- From: I-D-Announce [mailto:i-d-announce-bounces@ietf.org] On Behalf Of internet-drafts@ietf.org Sent: Thursday, July 31, 2014 3:08 PM To: i-d-announce@ietf.org Cc: dart@ietf.org Subject: I-D Action: draft-ietf-dart-dscp-rtp-00.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-00.txt Pages : 23 Date : 2014-07-31 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-00 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ I-D-Announce mailing list I-D-Announce@ietf.org https://www.ietf.org/mailman/listinfo/i-d-announce Internet-Draft directories: http://www.ietf.org/shadow.html or ftp://ftp.ietf.org/ietf/1shadow-sites.txt"}
{"_id": "doc-en-dart-5fJ0Y__GbYayxteYNFwPtXhtq0w", "text": "[Dart] Progressing draft-ietf-dart-dscp-rtp-06.txt\nHi Everyone, I believe this version has closed all of the WGLC open issues, and fixed most or all of the reported editorial nits. I'm going to request publication. If anyone discovers additional issues, please continue to report them. We can address those as part of the IETF last call. Thanks! Ben. Begin forwarded message: From: internet-drafts@ietf.org Subject: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-06.txt Date: August 30, 2014 at 2:06:58 PM CDT To: i-d-announce@ietf.org Cc: dart@ietf.org A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-06.txt Pages : 27 Date : 2014-08-30 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-06 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-06 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-y1xeLHXieN1tVEPVqV0gD3R26uI", "text": "[Dart] Gen-art LC review: draft-ietf-dart-dscp-rtp-07\nI am the assigned Gen-ART reviewer for this draft. For background on Gen-ART, please see the FAQ at <http://wiki.tools.ietf.org/area/gen/trac/wiki/GenArtfaq>. Please resolve these comments along with any other Last Call comments you may receive. Document: draft-ietf-dart-dscp-rtp-07 Reviewer: Robert Sparks Review Date: 14-Oct-2014 IETF LC End Date: 14-Oct-2014 IESG Telechat date: not yet scheduled for a telechat Summary: Ready with nits These are very small nits to consider. Please feel free to leave the existing text alone if these suggestions don't help. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work?"}
{"_id": "doc-en-dart-k5en7RDX5H24sRc-J-ZC-8lVDdU", "text": "Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-08.txt\nThe -08 version of this draft responds to all of the IETF Last Call comments, which were primarily from the Gen-ART, OPS-Dir and secdir reviews. The changes from -07 are almost entirely editorial in nature, although a few more informative references were added (there are now about 4 pages of references in toto ...). Enjoy, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of internet- drafts@ietf.org Sent: Thursday, October 16, 2014 2:45 PM To: i-d-announce@ietf.org Cc: dart@ietf.org Subject: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-08.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-08.txt Pages : 26 Date : 2014-10-16 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering) have transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-08 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-08 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-KcGtqN8RvozCB14kRBRoQnSfja8", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nOn 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT? Cheers, Michael"}
{"_id": "doc-en-dart-qRKsNxLPyJxyFjJnNIavl7uXfKc", "text": "[Dart] draft-ietf-dart-dscp-rtp-03.txt - posted, not done editing,\n open issues\nI've posted a -03 version of draft-ietf-dart-dscp-rtp-03 to capture the editing completed today. Here's what I believe are still open issues or work to be done. [A] Work item: Gorry Fairhurst's item (1), a new Section 5.4 on \"single PHB/DSCP for a single TCP connection, SCTP association or DCCP connection\" - I need to write this text, and will try to do that over the weekend. [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: http://www.ietf.org/mail-archive/web/dart/current/msg00156.html [C] Work item: Request to Ben Campbell for \"additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4.\" [D] Open issue: Question to Harald Alvestrand - Does CNAME need to be used in section 2.2 text? I hope not. [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. [F] Open issue: Harald Alvestrand's concerns about the RTCP multi-stream optimization text in section 5.2 . I don't think there's a problem here, but I'm not an expert on the RTCP technology involved, and Harald may not agree. This is a different RTCP issue than [B]. For [D], [E] and [F], see my recent response to Harald: http://www.ietf.org/mail-archive/web/dart/current/msg00164.html I appreciate Harald's indulgence of the fact that I sent that response at an unreasonable hour for him and then immediately tagged him with responsibility for half the items above. I'm sure he'll find a way to \"return the favor\" ;-). Thanks, --David -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Friday, August 22, 2014 9:16 PM To: Black, David; Paul Jones; Black, David; Paul Jones Subject: New Version Notification for draft-ietf-dart-dscp-rtp-03.txt A new version of I-D, draft-ietf-dart-dscp-rtp-03.txt has been successfully submitted by David Black and posted to the IETF repository. Name: draft-ietf-dart-dscp-rtp Revision: 03 Title: Differentiated Services (DiffServ) and Real-time Communication Document date: 2014-08-22 Group: dart Pages: 25 URL: http://www.ietf.org/internet-drafts/draft-ietf-dart-dscp-rtp-03.txt Status: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ Htmlized: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-03 Diff: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-03 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id": "doc-en-dart-dfhaH6uCfGFRQek3Q6ghyWjkXt0", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - proposed text for\n section 2.1 mux items 3 and 4\nOk, \"signaling traffic for STUN [RFC5389] and TURN [RFC5766]\" --> \"STUN [RFC5389] and TURN [RFC5766] traffic\" It's even fewer words ;-) - consider that done. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:ben@nostrum.com] Sent: Friday, August 22, 2014 5:24 PM To: Black, David Cc: Colin Perkins; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: WGLC: draft-ietf-dart-dscp-rtp-02 - proposed text for section 2.1 mux items 3 and 4 I agree except where noted inline: On Aug 22, 2014, at 3:27 PM, Black, David <david.black@emc.com> wrote: Proposed new text (merging item 4 into item 3, which aligns with the structure of RFC 5764 and the rfc5764-mux-fixes draft): 3. An RTP session could be multiplexed with a single SCTP over DTLS association plus signaling traffic for STUN [RFC5389] and TURN [RFC5766] into a single transport level flow as described in [RFC5764] and [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]. STUN and TURN are used for NAT traversal. I agree with the direction here--but I'm not sure I would characterize STUN and TURN as signaling traffic. And STUN is used for connectivity checks, as well as NAT traversal. OTOH, maybe it would be better to just for this section to just say that STUN and TURN can be multiplexed in the flow without the additional comments about them? Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 21, 2014 9:06 PM To: Ben Campbell; Colin Perkins Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG; Black, David Subject: RE: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Colin - many thanks for the review. I'll pick up your proposed changes, perhaps with minor edits. Ben, 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? WebRTC will only multiplex its data channels, and this numbered list is about WebRTC, so this text should focus on those data channels - I'll revise the draft accordingly. Other text elsewhere in the draft is broader (e.g., SCTP/UDP without DTLS, which is of interest, even though WebRTC always uses DTLS). Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Ben Campbell Sent: Monday, August 18, 2014 4:48 PM To: Colin Perkins Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <csp@csperkins.org> wrote: Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin Hi, The DART working group has started a last call for draft-ietf-dart-dscp- rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: draft-alias-bounces@tools.ietf.org From: Ben Campbell <ben@nostrum.com> Subject: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: ben@nostrum.com, david.black@emc.com, paulej@packetizer.com To: dart@ietf.org Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org, mls.ietf@gmail.com, Richard Barnes <rlb@ipv.sx> This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio/Video Transport Core Maintenance avt@ietf.org https://www.ietf.org/mailman/listinfo/avt -- Colin Perkins http://csperkins.org/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-BNZ1i03puforzJ70ihWcN5JXoQY", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nThe more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. Thanks, --David -----Original Message----- From: Colin Perkins [mailto:csp@csperkins.org] Sent: Tuesday, August 26, 2014 12:19 PM To: Paul E. Jones Cc: Ben Campbell; Black, David; dart@ietf.org; avt@ietf.org WG; draft-ietf- dart-dscp-rtp.all@tools.ietf.org Subject: Re: Treatment of RTCP (was Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) Ben, Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don't agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It's in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Colin Since DSCP values cannot be assumed to any particular PHB behavior in the network, that makes answering that question challenging. My personal preference in a voice/video conference would be to use the same marking as is used for those flows -- and I would use the same value for both voice and video. However, if the app sharing video is considered more important by some applications, perhaps that's the value that should be used in those applications. I can accept the suggestion, leaving the specific selection as an implementation matter. I do wish there was something more concrete so that two devices would always follow the same approach to selecting a value, but I doubt we can get agreement very quickly. Paul -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-hqD0TFFlSb3Ph8Y-cjQT7_TwTeU", "text": "[Dart] Treatment of RTCP - proposed text\nTrying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:paulej@packetizer.com] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org>; \"Paul E. Jones\" <paulej@packetizer.com>; \"Black, David\" <david.black@emc.com> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org> Sent: 8/27/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-8Fnk2-37APEQU53TLru8jlSexKM", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nI don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Cheers, Michael On 27. aug. 2014, at 21:46, Ben Campbell <ben@nostrum.com> wrote: Hi, Where are we with this discussion? Are there conclusions buried in there somewhere? Thanks! Ben. On Aug 27, 2014, at 1:50 PM, Colin Perkins <csp@csperkins.org> wrote: On 27 Aug 2014, at 19:47, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 20:42, Colin Perkins <csp@csperkins.org> wrote: On 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable. You have the RTT estimate, irrespective of the other information you include along with the regular RTCP packets, although it’s relatively infrequent and coarse-grained. I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn’t check) It probably should talk about this, I agree. -- Colin Perkins http://csperkins.org/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-HtvUnJtwyeJuT8gOqPBIRz5rd2k", "text": "[Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nI can see good points raised on the details, instead I have some questions about the overall document strcuture: (1) This statement appears at the end of section 2: \"Multiplexing may reduce the complexity and resulting load on an endpoint. A single instance of STUN/ICE/TURN is simpler to execute and manage than multiple instances STUN/ICE/TURN operations happening in parallel, as the latter require synchronization and create more complex failure situations that have to be cleaned up by additional code.\" I suspect this is all true, but I'd like to ask that section 4 also makes a similar summary claim at the end - saying that using a single 5 tuple and multiplexing multiple streams with *different* QoS expectation and therefore different DSCP markings can complicate the transport protocol design, by requiring a transport to disambiguate the congestion state for each network QoS category that is used. It will also result in increased complexity at the transport layer to validate path integrity, where a 5-tuple could result in a different routing/forwarding path in order to validate that the individual 5-tuples are reachable. Of course, using DSCPs with an AF class can reduce some of the latter costs. etc according to what the draft says. I don't suggest that the extra complexity and additional algorithms are as big a problem as being unable to get through a NAPT/Firewall, but it seems that this nonetheless extra stuff that I don't recall having been worked upon before in the IETF - and a challenge I guess for the RMCAT WG. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry"}
{"_id": "doc-en-dart-Worq08EdX7nLrOeKeT_gd1lsUJY", "text": "[Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2)\nWearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of gorry@erg.abdn.ac.uk Sent: Thursday, August 14, 2014 9:06 AM To: Ruediger.Geib@telekom.de Cc: gorry@erg.abdn.ac.uk; dart@ietf.org Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may - Support the PHB and offer the same corresponding DSCP - Not support the PHB and use the DSCP for a different PHB - Not support the PHB and not use the DSCP - Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB - Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: dart@ietf.org Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-2GoElL1i7wOOkHjm-jtAOsJ1P-Q", "text": "Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02\nHi, [I’m not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow “The RTCWEB protocol suit encompasses a number of forms of multiplexing” seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing “unidirectional UDP packet flow” to “transport-layer flow” since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing “multiplexed over RTP sessions” to “multiplexed in a single RTP session” and “multiplexing of source streams in RTP sessions” to “multiplexing of source streams in a single RTP session”. In Section 6, the second bullet point refers to “an RTCP session”. There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it’s important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of “RTCWEB” in this draft need to change to “WebRTC”. Cheers, Colin Hi, The DART working group has started a last call for draft-ietf-dart-dscp-rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: draft-alias-bounces@tools.ietf.org From: Ben Campbell <ben@nostrum.com> Subject: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: ben@nostrum.com, david.black@emc.com, paulej@packetizer.com To: dart@ietf.org Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org, mls.ietf@gmail.com, Richard Barnes <rlb@ipv.sx> This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio/Video Transport Core Maintenance avt@ietf.org https://www.ietf.org/mailman/listinfo/avt -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-WbDr1mBcp03EQqTzGREFPSWPMVQ", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-00.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-00.txt Pages : 23 Date : 2014-07-31 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-00 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-51a8E9vNBrWCkABGhGGPdWPkdpg", "text": "[Dart] Milestones changed for dart WG\nChanged milestone \"Send Informational draft to IESG on DiffServ usage consideration\", resolved as \"Done\", added draft-ietf-dart-dscp-rtp to milestone. URL: http://datatracker.ietf.org/wg/dart/charter/"}
{"_id": "doc-en-dart-m7_2pFWvt3ou2HiNNBFlQ9ENaNQ", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-01.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-01.txt Pages : 24 Date : 2014-08-08 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-01 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-01 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-WTWFlifSbaYK5eciCDNC4dK0Oaw", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-08.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-08.txt Pages : 26 Date : 2014-10-16 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering) have transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-08 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-08 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-n6nAP2H5B4xxmbmNlUiWHDDkL18", "text": "Re: [Dart] Treatment of RTCP - proposed text\nI do not object to the text per se. But I do have a bit of a nagging concern that we may be offering too strong of guidance, given the thought process so far. Do we believe we understand this well enough to say the sender should to this or that, as opposed to say that these are things the implementer should think about, and that these are probably reasonable choices? Is this an area where we need more deployment experience to offer real guidance? (I think it's okay for the doc to say that, if needed.) But in any case, I will defer to Colin, Paul, and David. On Aug 27, 2014, at 8:58 PM, Black, David <david.black@emc.com> wrote: Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:paulej@packetizer.com] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org>; \"Paul E. Jones\" <paulej@packetizer.com>; \"Black, David\" <david.black@emc.com> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org> Sent: 8/27/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-dw-mGxneHA4p85373jMTcKn_Cug", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nI don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben."}
{"_id": "doc-en-dart-N2boZ4sC2svLq6qZ1HCCIrjmTkw", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nThe more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-I5QVBsb5E7aLhXgn8DlgaT6vvag", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-03.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-03.txt Pages : 25 Date : 2014-08-22 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-03 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-03 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-Joido0OU3XSB-Z2O1p6m5ZLissA", "text": "Re: [Dart] draft-ietf-dart-dscp-rtp-02 - Section 5.3 RTCP\n multi-stream optimization text\n<editor hat OFF> Colin writes: The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. Looking closer, that discussion in the current DART draft currently says: RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. That's based on this text from the last paragraph of Section 1 (Introduction) of the multi-stream optimization draft: This memo defines such an RTCP extension, RTCP Reporting Groups. This extension is used to indicate the SSRCs that originate from the same endpoint, and therefore have identical reception quality, hence allowing the endpoints to suppress unnecessary RTCP reception quality reports. When different DSCPs are used for SSRCs (RTP streams) that originate from the same source, the statement that they \"therefore have identical reception quality\" is clearly incorrect, so it looks like the current DART draft text is correct, IMHO. Harald? </editor hat OFF> Thanks, --David -----Original Message----- From: Colin Perkins [mailto:csp@csperkins.org] Sent: Tuesday, August 26, 2014 11:54 AM To: Black, David Cc: Ben Campbell; Paul E. Jones; dart@ietf.org; avt@ietf.org WG; draft-ietf- dart-dscp-rtp.all@tools.ietf.org Subject: Re: Treatment of RTCP (was Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? <editor hat off> Sure, when there's a notion of priority or importance. There won't always be one (e.g., is CS2 higher priority than AF2x? That depends ...). OTOH, we don't need to say much here, e.g., the class selector codepoints (CSx) are ordered, and adding a pointer to draft-ietf-tsvwg-rtcweb-qos will be helpful. </editor hat off> Turning to the other RTCP issue, [F] on multi-stream optimization, I wonder whether we inadvertently framed that issue backwards. Given the above, a single RTCP report on multiple RTP streams that use rather different DSCPs may not result in representative RTT values for all of the streams, because the report has to be sent with one DSCP. If that outcome is a problem, one should send separate RTCP reports (duh!). Each reporting SSRC sends a separate RTCP report block for each SSRC it receives, so this is not a problem. The question is what marking an SSRC uses for the RTCP packets it sends, given that it uses several different markings for the RTP media packets it sends. That statement seems valuable to make and can be made with a citation of RFC 3530, as opposed to the multi-stream optimization draft. Harald and Colin - what do you think? The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-fxQ769pjece9KuoTee48Vsib-PY", "text": "Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02\nHi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <csp@csperkins.org> wrote: Hi, [I’m not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow “The RTCWEB protocol suit encompasses a number of forms of multiplexing” seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing “unidirectional UDP packet flow” to “transport-layer flow” since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing “multiplexed over RTP sessions” to “multiplexed in a single RTP session” and “multiplexing of source streams in RTP sessions” to “multiplexing of source streams in a single RTP session”. In Section 6, the second bullet point refers to “an RTCP session”. There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it’s important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of “RTCWEB” in this draft need to change to “WebRTC”. Cheers, Colin Hi, The DART working group has started a last call for draft-ietf-dart-dscp-rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: draft-alias-bounces@tools.ietf.org From: Ben Campbell <ben@nostrum.com> Subject: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: ben@nostrum.com, david.black@emc.com, paulej@packetizer.com To: dart@ietf.org Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org, mls.ietf@gmail.com, Richard Barnes <rlb@ipv.sx> This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio/Video Transport Core Maintenance avt@ietf.org https://www.ietf.org/mailman/listinfo/avt -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-GbIYQnadFpng9JvoHpXCgkGaPh4", "text": "Re: [Dart] [rtcweb] Fwd: WGLC: draft-ietf-dart-dscp-rtp-02\n... It is kind of hard to wrap your head around how 802.11e actually works, but, this is a start: http://en.wikipedia.org/wiki/IEEE_802.11e-2005#Enhanced_distributed_channel_access_.28EDCA.29 In linux wifi at least: CS0, CS3 are mapped into the BE hw queue CS1, CS2 are mapped into the BK hw queue CS4, CS5 are mapped into the VI hw queue CS6, CS7 are mapped into the VO hw queue Bit patterns for the other classes to whatever extent they map into CSX are mapped into the underlying hardware queue. I am not saying this is an optimal state of affairs, Far from it. For example, if the host software is under the illusion that CS1 selects the LE behaviour (RFC 3662) it must be wrong to put it in the same hardware queue as CS2. It it is also a false assumption that the CSx bits map appropriately from other DSCP values - why should they? If diffserv is correctly implemented at level 3, all all packets should end up in the correct order in the output queue and hardware classes shouldn't be used at all IMHO. Brian (as notably VO should be as completely disabled as possible in the 802.11n and ac age), and am very interested in how other OSes (ios, osx, windows), and router/switch OSes do it, but the wireless scheduling aspect of all these codepoints does not seem to be well touched upon. On a personal note I tend to think that having 17+ ways to slice up traffic is about 13 or 14 too many, particularly those targetting a drop probability. When you have drop rates well below a few percentage points, adding another percentage point of granularity seems futile. Lastly, there is also an implementation issue in linux presently in that doing extensive diffserv classification basically requires one iptables or tc rule per class, which is inefficient. Someone (not me!) doing some code for doing diffserv saner there would go a long way..."}
{"_id": "doc-en-dart-Eo_YswzBEEmKtiQvDE2-6Qr6pZs", "text": "[Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (1)\nGorry Fairhurst commented: (1) This statement appears at the end of section 2: \"Multiplexing may reduce the complexity and resulting load on an endpoint. A single instance of STUN/ICE/TURN is simpler to execute and manage than multiple instances STUN/ICE/TURN operations happening in parallel, as the latter require synchronization and create more complex failure situations that have to be cleaned up by additional code.\" I suspect this is all true, but I'd like to ask that section 4 also makes a similar summary claim at the end - saying that using a single 5 tuple and multiplexing multiple streams with *different* QoS expectation and therefore different DSCP markings can complicate the transport protocol design, by requiring a transport to disambiguate the congestion state for each network QoS category that is used. It will also result in increased complexity at the transport layer to validate path integrity, where a 5-tuple could result in a different routing/forwarding path in order to validate that the individual 5-tuples are reachable. Of course, using DSCPs with an AF class can reduce some of the latter costs. etc. according to what the draft says. The draft's been reorganized since the version that Gorry reviewed, so the guidelines that were in Section 4 are now in Section 6. This does feel like a good discussion to add, as it strengthens the rationale for a single PHB/DSCP for a single TCP connection, SCTP association or DCCP connection. This discussion feels like it belongs in Section 5 somewhere, and I would say the same for some of the rationale for that single PHB/DSCP guideline, as it's not as clear as it could be about reordering (always a bad idea) and different drop precedences (complexity, lack of operational experience), and hence could use some elaboration. I'd suggest a new Section 5.4 on \"single PHB/DSCP for a single TCP connection, SCTP association or DCCP connection\" to expand that rationale and pick up discussion of Gorry's item (1), as it applies (in different ways) to both reordering and different drop precedences. That would be accompanied by a rewrite of the single PHB/DSCP guideline bullet. I'll try to work on some text offline w/Gorry with the goal of posting it to the list sometime next week. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Gorry Fairhurst Sent: Wednesday, August 13, 2014 4:33 PM To: dart@ietf.org Subject: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: (1) This statement appears at the end of section 2: \"Multiplexing may reduce the complexity and resulting load on an endpoint. A single instance of STUN/ICE/TURN is simpler to execute and manage than multiple instances STUN/ICE/TURN operations happening in parallel, as the latter require synchronization and create more complex failure situations that have to be cleaned up by additional code.\" I suspect this is all true, but I'd like to ask that section 4 also makes a similar summary claim at the end - saying that using a single 5 tuple and multiplexing multiple streams with *different* QoS expectation and therefore different DSCP markings can complicate the transport protocol design, by requiring a transport to disambiguate the congestion state for each network QoS category that is used. It will also result in increased complexity at the transport layer to validate path integrity, where a 5-tuple could result in a different routing/forwarding path in order to validate that the individual 5-tuples are reachable. Of course, using DSCPs with an AF class can reduce some of the latter costs. etc according to what the draft says. I don't suggest that the extra complexity and additional algorithms are as big a problem as being unable to get through a NAPT/Firewall, but it seems that this nonetheless extra stuff that I don't recall having been worked upon before in the IETF - and a challenge I guess for the RMCAT WG. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-0czSbM2k95gK6HQXpQ-xWPe7Tmk", "text": "Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02\nBen, Our charter is not to improve QoS or solve congestion issues. It's just to give guidance on DSCP choices for multiplexed media. So I think the question becomes, has RMCAT made decisions (or looks very likely to make decisions) to use RTCP in a way that would be impacted by our DSCP recommendations? I’m not aware of whether such a decision has been made. I don’t believe RMCAT has considered this issue. Ben, Colin, On (2) below, it might be a challenge to get agreement quickly, but it might be nice if we could. As this work relates to RMCAT, determining one-way delay or changes thereto will likely prove important. In general, I would expect perceived quality to be important and conveying quality metrics and/or providing feedback to the sender so that perceived quality improves (in whatever form) will be important. I'm suspicious of use of any RTT calculation for any mechanism that might be used to improve QoE. If so, then we should document the potential impact. If _not_, then it seems to me the best we could do is mention that RTCP treatments may or may not have an impact on RTT estimates, and that the implementer should think about it. If accurate RTT measurements could be made, they could be useful. The problem is that in some environments, we know that RTTs will not be accurate. Sometimes they are, of course. We could have some text as you suggest, but I would personally prefer we not encourage use of RTT values for any particular purpose. :-) Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-9YxCa5DbjauyxODzIYsqdHox7i8", "text": "Re: [Dart] Open Issue: Guidance for RTCP\n(as editor) I believe the core of this issue is the role of RTCP in providing RTT estimates. This is the core of open issue [B] and resolving it is likely to resolve much of open issue [F]. I believe the key question is: Is the role of RTCP in providing RTCP estimates important enough to serve as the primary basis for providing guidance on DSCP usage w/RTCP? Here's a summary of the \"yes it is\" viewpoint (from Colin Perkins): Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. And a summary of the \"no it isn't\" viewpoint (from Paul Jones): it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Thanks, --David (as editor) -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Ben Campbell Sent: Monday, August 25, 2014 1:00 AM To: dart@ietf.org Subject: [Dart] Open Issue: Guidance for RTCP (as chair) We have an open issue (Designated issue [B] by David) about what guidance to give about RTCP in draft-ietf-dart-dscp-rtp. We need to close this in order to progress the draft--meaning we need to do so ASAP. Please look at the the following quoted text for background, and offer an opinion: (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-knS9WsImLmE-R5ak3WT-1zMpYx4", "text": "Re: [Dart] WGLC Comments on draft-ietf-dart-dscp-rtp-02\nIt might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. Harald's suggestions improve the text. I agree with both."}
{"_id": "doc-en-dart-k-U0oVQ3kc9Vi_soaucKZhhfGqM", "text": "Re: [Dart] draft-ietf-dart-dscp-rtp-02 - Section 4 data channel text\nOn 08/26/2014 04:38 PM, Ben Campbell wrote: -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. Done, plus some more editing, here's the result in my working draft: A WebRTC application may use one or more RTP streams, as discussed above. In addition, it may include an SCTP-based data channel [I-D.ietf-rtcweb-data-channel] whose QoS treatment depends on the nature of the application. For example, best effort treatment of data channels is likely to suffice for messaging, shared white board, and guided browsing applications, whereas latency-sensitive games might desire better QoS for their data channels. WFM. Works for me too. If I was nitpicking, I would change \"it may include\" to \"it may use\" in sentence 2 too, but I can live with this just fine. -- Surveillance is pervasive. Go Dark."}
{"_id": "doc-en-dart-H8LAlt7bloICI8NbJ56U7VXhQqI", "text": "Re: [Dart] draft-ietf-dart-dscp-rtp-02 - Section 5.3 RTCP\n multi-stream optimization text\nDavid, On 26 Aug 2014, at 17:27, Black, David <david.black@emc.com> wrote: <editor hat OFF> Colin writes: The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. Looking closer, that discussion in the current DART draft currently says: RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. A quick follow-up to ensure this is clear: the multi-stream-optimisation cannot be used when reporting on received RTP streams where the different streams have different markings, since those streams are treated differently in the network. The marking I use for the RTP streams I send (and hence the marking I use for my RTCP packets) doesn’t influence whether I can use the multi-stream-optimisation, however. Colin That's based on this text from the last paragraph of Section 1 (Introduction) of the multi-stream optimization draft: This memo defines such an RTCP extension, RTCP Reporting Groups. This extension is used to indicate the SSRCs that originate from the same endpoint, and therefore have identical reception quality, hence allowing the endpoints to suppress unnecessary RTCP reception quality reports. When different DSCPs are used for SSRCs (RTP streams) that originate from the same source, the statement that they \"therefore have identical reception quality\" is clearly incorrect, so it looks like the current DART draft text is correct, IMHO. Harald? </editor hat OFF> Thanks, --David -----Original Message----- From: Colin Perkins [mailto:csp@csperkins.org] Sent: Tuesday, August 26, 2014 11:54 AM To: Black, David Cc: Ben Campbell; Paul E. Jones; dart@ietf.org; avt@ietf.org WG; draft-ietf- dart-dscp-rtp.all@tools.ietf.org Subject: Re: Treatment of RTCP (was Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? <editor hat off> Sure, when there's a notion of priority or importance. There won't always be one (e.g., is CS2 higher priority than AF2x? That depends ...). OTOH, we don't need to say much here, e.g., the class selector codepoints (CSx) are ordered, and adding a pointer to draft-ietf-tsvwg-rtcweb-qos will be helpful. </editor hat off> Turning to the other RTCP issue, [F] on multi-stream optimization, I wonder whether we inadvertently framed that issue backwards. Given the above, a single RTCP report on multiple RTP streams that use rather different DSCPs may not result in representative RTT values for all of the streams, because the report has to be sent with one DSCP. If that outcome is a problem, one should send separate RTCP reports (duh!). Each reporting SSRC sends a separate RTCP report block for each SSRC it receives, so this is not a problem. The question is what marking an SSRC uses for the RTCP packets it sends, given that it uses several different markings for the RTP media packets it sends. That statement seems valuable to make and can be made with a citation of RFC 3530, as opposed to the multi-stream optimization draft. Harald and Colin - what do you think? The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. -- Colin Perkins http://csperkins.org/ -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart--1-ex3eCsWEiKC3Hm8e56T1_xss", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2)\nI could live with that - it would be even nicer if we actually had a document with set of recommendations to point to - but since we don't, this seems an appropriate statement. Gorry Here's the next to last paragraph in Section 5.3: SCTP [RFC4960] differs from TCP in a number of ways, including the ability to deliver messages in an order that differs from the order in which they were sent and support for unreliable streams. However, SCTP performs congestion control and retransmission across the entire association, and not on a per-stream basis. Although there may be advantages to using multiple drop precedence across SCTP streams or within an SCTP stream that does not use reliable ordered delivery, there is no practical operational experience in doing so (e.g., the SCTP sockets API [RFC6458] does not support use of more than one DSCP for an SCTP association). As a consequence, the impacts on SCTP protocol and implementation behavior are unknown and difficult to predict. Hence a single PHB and DSCP should be used for all packets in an SCTP association, independent of the number or nature of streams in that association. Similar reasoning applies to a DCCP connection; a single PHB and DSCP should be used because the scope of congestion control is the connection and there is no operational experience with using more than one PHB or DSCP. I propose to add the following new sentence as its own paragraph: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport connection (e.g., DCCP) or association (e.g., SCTP) is out of scope for this document. I could add examples of topics that could be addressed, but would prefer to leave that to the actual design activity. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 14, 2014 9:16 AM To: gorry@erg.abdn.ac.uk; Ruediger.Geib@telekom.de Cc: dart@ietf.org; Black, David Subject: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) Wearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of gorry@erg.abdn.ac.uk Sent: Thursday, August 14, 2014 9:06 AM To: Ruediger.Geib@telekom.de Cc: gorry@erg.abdn.ac.uk; dart@ietf.org Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may - Support the PHB and offer the same corresponding DSCP - Not support the PHB and use the DSCP for a different PHB - Not support the PHB and not use the DSCP - Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB - Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: dart@ietf.org Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-u1FWMEiB2rf6iZRxfAY-ihiDROc", "text": "[Dart] WGLC Comments on draft-ietf-dart-dscp-rtp-02\n(As individual) Hi, Here are some WGLC comments on draft-ietf-dart-dscp-rtp-02. Thanks! Ben. ---------------- **** Substantive: -- General: I was going to ask if we can be more precise on what sort of layering (and muxing?) we expect to really happen on top of DTLS, especially for WebRTC use cases. But I think Colin's comments are on the right track, so I will comment in that thread. -- Abstract (and intro) It's probably worth mentioning that, other than mixing RTP/RTCP, RTP multiplexing is a relatively new thing. It's needed by new work such as WebRTC and clue, and it is enabled by bundle. The point being, this wasn't something we really needed to worry about until now. -- Section 2.1, list item 3: \"An RTP session could be multiplexed with other protocols ... \" What is likely to really happen here? I don't think we will see an arbitrary mixing of other protocols in the immediate future. What are the realistic constraints, and likely layerings? For example, with WebRTC, we are likely to see some number of RTP/RTCP streams, stun, turn, and dtls, with dtls carrying one or more SCTP associations (i.e. data channels) right? Do we have ways to signal more than that in sdp-bundle? OTOH, I guess one could argue that people might try to mix in more things in the future. -- 2.1, 2nd to last paragraph, last sentence (starting with \"In contrast...\" Is this specific to SCTP associations carried over DTLS packets a la RFC5764, or are we talking about SCTP/UDP in general? -- 2.2, third paragraph: Are we talking about TCP as the outer transport protocol, and muxing things on the TCP 5-tuple? Or are we considering TCP as something that might get multiplexed on the UDP 5-tuple? Where do Jonathan Lennox's comments about potentially falling back to an ICE TCP candidate fit? -- section 3, paragraph 5: Does the term \"network node\" include application endpoints that might do initial DiffServ marking? -- section 3, paragraph 12: \"... observable forwarding behavior (e.g., loss, delay, jitter) will often depend only on the relative loading of the link\" Relative to what? Other links? Relative load to the capacity of the link? -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. -- section 6, last bullet: Is there a such thing as \"less than best effort traffic\" where \"best effort\" treatments would be unacceptable? Actually, it's not clear to me from this paragraph if CS1 is ever appropriate, at least from the application endpoint perspective, as it seem to give completely unpredictable results. -- Normative References: Are these first two references both \"normative\" enough to block on them? **** Editorial: -- section 1, paragraph 1: \"As a result use of different DSCPs...\" Missing comma after \"result\". -- 3.2, paragraph 1: \"... and such nodes remark traffic ...\" May remark? Always remark? -- 3.2, paragraph 3, last sentence: Is this sentence redundant to the previous paragraph? -- 4, paragraph 1: 2nd and 3rd sentence These sentences seem to contradict. The first says that receiving audio early is not useful, but the second says it may be useful. -- 4, 2nd paragraph: \"... e.g., are in an AF class ...\" in the _same_ AF class? -- 5.1, 7th paragraph Is this paragraph redundant with previous discussions of AF classes? -- 5.2, third paragraph: Can you elaborate on what it means to be \"contained in a buffer\"? -- 5.2, around paragraph 5: There are words about why non-interactive media is likely to have larger jitter buffers, but the fact that interactive media may have smaller buffers us left to implication. -- 5.3, 1st and 2nd sentence: These seem redundant to previous discussions about AF classes. -- 5.3, 2nd paragraph: It's not clear to me what this paragraph means. Is drop likelihood the likelihood that anything is dropped in a session, or the chance of any given packet being dropped? I assume drop likelihood is relative to that of other sessions crossing the same path? And that under non congested conditions none of this will matter? -- 6, 1st paragraph: \" ... the following requirements ...\" Are these requirements per se, or guidelines? -- 6, bullet list Each bullet starts with a verb, but ommits the subject. E.g., in the first bullet, what is the actor that should not use different DSCPs within a different stream? -- 6, 1st bullet: The double negation is confusing (\"should not use\", \"If this is not done...\"). Also, 2nd bullet: Is \"use a single PHB and DSCP\" different than just saying \"use a single DSCP\"? 3rd bullet: Am I correct in assuming SCTP multihoming is not an issue here? Should we mention that explicitly?"}
{"_id": "doc-en-dart-GNC8bCFHkSW46USj5Q-LRmU5yV8", "text": "[Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - proposed text for\n section 2.1 mux items 3 and 4\nSection 2.1 of the draft currently has this text on WebRTC multiplexing: 3. An RTP session could be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. That text has at least a couple of problems: - This list is about WebRTC, so item 3 ought to specifically focus on the WebRTC data channel. - STUN doesn't encapsulate WebRTC traffic (TURN does). On the latter, for simplicity, I plan to remove the mention of encapsulation from here and deal with it elsewhere as part of discussion of what happens if TURN decides to send all the traffic over TCP (that'll be in a separate message, stay tuned). Proposed new text (merging item 4 into item 3, which aligns with the structure of RFC 5764 and the rfc5764-mux-fixes draft): 3. An RTP session could be multiplexed with a single SCTP over DTLS association plus signaling traffic for STUN [RFC5389] and TURN [RFC5766] into a single transport level flow as described in [RFC5764] and [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]. STUN and TURN are used for NAT traversal. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 21, 2014 9:06 PM To: Ben Campbell; Colin Perkins Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG; Black, David Subject: RE: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Colin - many thanks for the review. I'll pick up your proposed changes, perhaps with minor edits. Ben, 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? WebRTC will only multiplex its data channels, and this numbered list is about WebRTC, so this text should focus on those data channels - I'll revise the draft accordingly. Other text elsewhere in the draft is broader (e.g., SCTP/UDP without DTLS, which is of interest, even though WebRTC always uses DTLS). Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Ben Campbell Sent: Monday, August 18, 2014 4:48 PM To: Colin Perkins Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <csp@csperkins.org> wrote: Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin Hi, The DART working group has started a last call for draft-ietf-dart-dscp- rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: draft-alias-bounces@tools.ietf.org From: Ben Campbell <ben@nostrum.com> Subject: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: ben@nostrum.com, david.black@emc.com, paulej@packetizer.com To: dart@ietf.org Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org, mls.ietf@gmail.com, Richard Barnes <rlb@ipv.sx> This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio/Video Transport Core Maintenance avt@ietf.org https://www.ietf.org/mailman/listinfo/avt -- Colin Perkins http://csperkins.org/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-GB8N3PrzMdjzrLDlxakZWsnVlIM", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nHi Brian, we are in agreement in most points. Of course a provider could shape EF traffic on an interconnection. This may not be a solution which I favor, but it is possible. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Brian E Carpenter [mailto:brian.e.carpenter@gmail.com] Gesendet: Dienstag, 12. August 2014 22:35 An: Geib, Rüdiger Cc: david.black@emc.com; dart@ietf.org; tsvwg@ietf.org Betreff: Re: AW: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi Ruediger, On 12/08/2014 19:38, Ruediger.Geib@telekom.de wrote: Hi Brian, with EF I link an expectation of excess traffic being dropped. In general I agree; but that only makes sense if there is an agreement (or mechanism) to define the nominal rate, and rate control of some kind at the source. (An IP phone is in effect a rate controller, for example.) A rate scheduler with single digit millisecond buffer depth and tail drop like behavior is not an issue. To me, that's a shaper configured to be EF compliant. If such a constraint is not desired then the text may say \"if mapped to a non-EF PHB, excess traffic may be shaped\". I'd like to ask for some explaining text if shaping of EF excess traffic is regarded as a property to be expected for this PHB. Yes, technically that's correct - but a shaper could be inserted at the boundary between two DS domains, and for the end-to-end user that will appear as a property of the PHB. If an AF class is used to transport EF, then any potential remarking should be done in a way avoiding re-ordering (i.e. remark to DSCPs within the same AF class only). There's no point in remarking excess EF traffic to a PHB which may cause reordering. I fully agree. I think that's what a text on remarking of EF should express, if remarking is kept as an option to be expected (I've not yet heard of such a deployment). Yes. I'm not advocating such behaviour; my point is only that EF may not always be strictly conformant to RFC 3246. Brian Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Brian E Carpenter [mailto:brian.e.carpenter@gmail.com] Gesendet: Montag, 11. August 2014 22:13 An: Geib, Rüdiger Cc: david.black@emc.com; dart@ietf.org; tsvwg@ietf.org Betreff: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi Ruediger, Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. - looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. - dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. Well, it seems to me to be a SHOULD, with the MUST that you cite below being conditional on \"a mechanism that allows unlimited preemption of other traffic.\" So I would not be at all surprised by deployments that support shaping and remarking. Also, there are certainly implementations that are closer to RFC 2598 or RFC 3248 and therefore less strict. I think the draft should make it clear that there is likely to be variation in actual behaviour for EF traffic that exceeds the nominal rate. (Leaving aside the fact that without a string of matching SLAs along the path, the nominal rate might not even be well defined.) Brian I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. ######################################## RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: dart@ietf.org Cc: Richard Barnes; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; mls.ietf@gmail.com Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart ."}
{"_id": "doc-en-dart-qMSv0GGUv04QIWAyjvrIj6cw2ow", "text": "Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-02.txt\nAnd this one rearranges the text (plus makes some minor associated edits). It should be ready for WG Last Call. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of internet- drafts@ietf.org Sent: Friday, August 08, 2014 8:08 PM To: i-d-announce@ietf.org Cc: dart@ietf.org Subject: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-02.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-02.txt Pages : 25 Date : 2014-08-08 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-02 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-02 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-OPQpppW8Q1Ja3kGsC8yTFmfMwDA", "text": "[Dart] Last Call: <draft-ietf-dart-dscp-rtp-07.txt> (Differentiated\n Services (DiffServ) and Real-time Communication) to Informational RFC\nThe IESG has received a request from the DiffServ Applied to Real-time Transports WG (dart) to consider the following document: - 'Differentiated Services (DiffServ) and Real-time Communication' <draft-ietf-dart-dscp-rtp-07.txt> as Informational RFC The IESG plans to make a decision in the next few weeks, and solicits final comments on this action. Please send substantive comments to the ietf@ietf.org mailing lists by 2014-10-14. Exceptionally, comments may be sent to iesg@ietf.org instead. In either case, please retain the beginning of the Subject line to allow automated sorting. Abstract This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering) have transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The file can be obtained via http://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ IESG discussion can be tracked via http://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ballot/ No IPR declarations have been submitted directly on this I-D."}
{"_id": "doc-en-dart-x0FKvtctrtmXtSWteEIRzIbcqF4", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nHi Ruediger, Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. - looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. - dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. Well, it seems to me to be a SHOULD, with the MUST that you cite below being conditional on \"a mechanism that allows unlimited preemption of other traffic.\" So I would not be at all surprised by deployments that support shaping and remarking. Also, there are certainly implementations that are closer to RFC 2598 or RFC 3248 and therefore less strict. I think the draft should make it clear that there is likely to be variation in actual behaviour for EF traffic that exceeds the nominal rate. (Leaving aside the fact that without a string of matching SLAs along the path, the nominal rate might not even be well defined.) Brian I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. ######################################## RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: dart@ietf.org Cc: Richard Barnes; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; mls.ietf@gmail.com Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart ."}
{"_id": "doc-en-dart-zAyvnN_rktItb5gbYh9ycDLfK7s", "text": "[Dart] FW:  I-D Action: draft-ietf-dart-dscp-rtp-10.txt\nOne final pair of small edits - this -10 version should be good to go to the RFC Editor, Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of internet-drafts@ietf.org Sent: Monday, November 10, 2014 2:38 PM To: i-d-announce@ietf.org Cc: dart@ietf.org Subject: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-10.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-10.txt Pages : 27 Date : 2014-11-10 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple have transport protocol interactions, particularly with congestion control functionality (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-10 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-10 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-AAa7c_zM0aNrsC5xo3EQy1a1CkY", "text": "Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-07.txt\nHi Ruediger, Sorry for being late with my review. No apology necessary - you have the honor of submitting the first IETF Last Call comments on this draft. There's one change I'd like to suggest: Section 3.1, list number 2. briefly explains AF. The section doesn't explicitly mention that traffic carried by one of the three PHBs of an AF class are not reordered. This feature, avoiding reordering packets belonging to different PHBs of an AF class, is however a kind of punch line whenever AF is referred to in later sections. So I'd welcome mentioning it in section 3.1, list point 2. Sure, that's a good suggestion - I'll do that. That absence of reordering concept is covered elsewhere in the draft, but it first shows up in Section 5.1, so mentioning it earlier in Section 3.1 will help. On the minor comments, I'd just as soon not tinker with the example text in Section 4, our AD suggested emphasizing that point in Section 5.1 (but if other reviewers dislike \"very\", that word can be bit-bucketed), and the ECMP implementation described in your comments is one that cannot claim to support AF, as it does not meet the requirements of RFC 2597. It's a network operator responsibility to not run AF across such an implementation; I think that sort of DiffServ operational concern is best covered elsewhere. My current inclination is not to make any changes for these minor comments. And one editorial comment: Section 3., last bullet point and following section: the bullet point is focused on Lower Effort PHB marked by CS 1 and the following section continues by discussing CS 1 issues more general. This discussion may be added to the bullet point (to me the discussion doesn't seem to be related to the first bullet point). That's a good catch - the paragraph after that CS1 bullet point mixes two concepts that ought to be teased apart and merged into the two foregoing bullets to improve clarity: - Expanding on the non-requirements for different class selector code points to provide service differentiation. This text should be merged into the first bullet. - Expanding on the problems with assuming that CS1 selects a Lower Effort service. This text should be merged into the second (CS1) bullet. Thanks, --David -----Original Message----- From: Ruediger.Geib@telekom.de [mailto:Ruediger.Geib@telekom.de] Sent: Wednesday, October 01, 2014 3:14 AM To: Black, David Cc: dart@ietf.org; ietf@ietf.org Subject: Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-07.txt, Hi David, The draft is well written and I regard it as very helpful. There's one change I'd like to suggest: Section 3.1, list number 2. briefly explains AF. The section doesn't explicitly mention that traffic carried by one of the three PHBs of an AF class are not reordered. This feature, avoiding reordering packets belonging to different PHBs of an AF class, is however a kind of punch line whenever AF is referred to in later sections. So I'd welcome mentioning it in section 3.1, list point 2. ################# minor comments (no objection if ignored) ############################# Section 4. , second block. Why are I-frames marked AF41 and P-frames AF43 in the example? To me, AF42 for P makes more sense (or make it AF42 for I frames). AF43 could be used for B-frames (which aren't mentioned in the text). Section 5.1 second block after the bullet pointed list \".making reordering very likely.\" Would \"making reordering likely\" be sufficient? Section 5.1 There's at least one ECMP implementation I'm aware of which includes QoS bits to calculate the load balancing hash value. It reorders packets of a flow using multiple classes, if they are spaced less than the resulting delay difference. This is an exceptional implementation, the other solutions I'm aware of do ignore QoS bits when calculating ECMP hash values. ECMP is a proprietary feature, I think. And one editorial comment: Section 3., last bullet point and following section: the bullet point is focused on Lower Effort PHB marked by CS 1 and the following section continues by discussing CS 1 issues more general. This discussion may be added to the bullet point (to me the discussion doesn't seem to be related to the first bullet point). ######################################################## Sorry for being late with my review. Regards, Ruediger"}
{"_id": "doc-en-dart-reyANdoDF8AaDzZ_V49FMz-lQMY", "text": "Re: [Dart] Gen-art LC review: draft-ietf-dart-dscp-rtp-07\nRobert, Thanks for the review. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. Indeed, that sentence is problematic. I've edited the entire paragraph for clarity. Here's the new text: When PHBs that enable reordering are mixed within a single network 5-tuple, the effect is to mix QoS-based traffic classes within the scope of a single transport protocol connection or association. As these QoS-based traffic classes receive different network QoS treatments, they use different pools of network resources and hence may exhibit different levels of congestion. The result for congestion-controlled protocols is that a separate instance of congestion control functionality is needed per QoS-based traffic class. Current transport protocols support only a single instance of congestion control functionality for an entire connection or association; extending that support to multiple instances would add significant protocol complexity. Traffic in different QoS-based classes may use different paths through the network; this complicates path integrity checking in connection- or association-based protocols, as those paths may fail independently. In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work? Yes, and I've removed \"emission of\" from that proposed text. Thanks, --David -----Original Message----- From: Robert Sparks [mailto:rjsparks@nostrum.com] Sent: Tuesday, October 14, 2014 11:50 AM To: General Area Review Team; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; ietf@ietf.org; dart@ietf.org Subject: Gen-art LC review: draft-ietf-dart-dscp-rtp-07 I am the assigned Gen-ART reviewer for this draft. For background on Gen-ART, please see the FAQ at <http://wiki.tools.ietf.org/area/gen/trac/wiki/GenArtfaq>. Please resolve these comments along with any other Last Call comments you may receive. Document: draft-ietf-dart-dscp-rtp-07 Reviewer: Robert Sparks Review Date: 14-Oct-2014 IETF LC End Date: 14-Oct-2014 IESG Telechat date: not yet scheduled for a telechat Summary: Ready with nits These are very small nits to consider. Please feel free to leave the existing text alone if these suggestions don't help. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work?"}
{"_id": "doc-en-dart-Ih-gDHdtgekJJ5k_M8NPqh60H50", "text": "Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-00.txt\n(as individual) -- General I concur with the editor's note to reorganize sections. On my first reading, I was going to comment that I thought we needed more focus on what is really likely to happen, e.g. with WebRTC. On a second reading, I think that's mostly okay, but the consolidation of the RTP sections might make it more clear. -- Section 4, Bullets 3 and 4: Should STP in bullet 4 be SCTP? If yes, then doesn't this bullet more tightly constrain things than bullet 3, to the point of making bullet 3 redundant? Or am I misreading something? Thanks! Ben. As promised, here's the -00 dart WG draft. I think I incorporated almost everything that was discussed in the meeting, but I've surely missed a few things - please comment (on list, or send me editorial changes directly). I want to call attention to this Editor's Note on draft organization: [Editor's Note: Current section structure skips around topics somewhat. The editor suggests restructuring to put real-time/RTP material first (new section 2, consisting of current sections 2, 2.1 and 3), then DiffServ Background (new section 3, consisting of current sections 2.2, 2.3, 2.6 and 2.7, followed by discussion of interactions (new section 4, consisting of current sections 2.4, 2.5 and 5) and guidelines (current section 4, renumbered to new section 5).] If this change is made, I will submit a version that only contains the text rearrangement before making any other changes. The \"game plan\" that I've discussed w/Ben (WG chair) is to revise the draft over about the next week with the resulting version going to WG Last Call, so reading this draft sooner rather than later might be a good idea. Thanks, --David -----Original Message----- From: I-D-Announce [mailto:i-d-announce-bounces@ietf.org] On Behalf Of internet-drafts@ietf.org Sent: Thursday, July 31, 2014 3:08 PM To: i-d-announce@ietf.org Cc: dart@ietf.org Subject: I-D Action: draft-ietf-dart-dscp-rtp-00.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-00.txt Pages : 23 Date : 2014-07-31 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-00 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ I-D-Announce mailing list I-D-Announce@ietf.org https://www.ietf.org/mailman/listinfo/i-d-announce Internet-Draft directories: http://www.ietf.org/shadow.html or ftp://ftp.ietf.org/ietf/1shadow-sites.txt _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-Smp4ExR0fwvJkNJrk-g-oy-3j0s", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nThanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may - Support the PHB and offer the same corresponding DSCP - Not support the PHB and use the DSCP for a different PHB - Not support the PHB and not use the DSCP - Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB - Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: dart@ietf.org Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-4BgUspC3FJmKyf5ne1pavl9u0qo", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nHi Brian, standards agree on the PHB which unrecognised DSCPs should receive, which is default forwarding. RFC2474 however proposes to transport the DSCP without remarking: Packets received with an unrecognized codepoint SHOULD be forwarded as if they were marked for the Default behavior (see Sec. 4), and their codepoints should not be changed. Such packets MUST NOT cause the network node to malfunction. The MUST NOT cause malfunction clause leaves a way out and I personally favor rewrite to default DSCP. There has been a discussion whether a rewrite of several incoming DSCP to a single outgoing DSCP is DiffServ compatible or not. Here we have such a rewrite. It seems to be alright for not supported DSCPs and PHBs. As you mention, a TCA/SLA stating treatment of all DSCPs is important at network domain boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Brian E Carpenter Gesendet: Donnerstag, 14. August 2014 21:58 An: Geib, Rüdiger Cc: gorry@erg.abdn.ac.uk; dart@ietf.org Betreff: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Quoting RFC 2475: \"A DS domain has a well-defined boundary consisting of DS boundary nodes which classify and possibly condition ingress traffic to ensure that packets which transit the domain are appropriately marked to select a PHB from one of the PHB groups supported within the domain.\" In other words the assumption is that (unless there's an SLA that allows the receiving domain to trust the incoming DSCP), a classifier is needed. My assumption has always been that the default classifier will simply re-mark packets with the default DSCP. We also have \"A DS ingress node is responsible for ensuring that the traffic entering the DS domain conforms to any TCA between it and the other domain to which the ingress node is connected.\" and the definition of a TCA: \" Traffic Conditioning an agreement specifying classifier rules Agreement (TCA) and any corresponding traffic profiles and metering, marking, discarding and/or shaping rules which are to apply to the traffic streams selected by the classifier. A TCA encompasses all of the traffic conditioning rules explicitly specified within a SLA along with all of the rules implicit from the relevant service requirements and/or from a DS domain's service provisioning policy.\" In other words: the treatment of unrecognized DSCPs needs to be stated in the TCA part of the SLA. Of course you could suggest a default approach in diffserv-intercon. Brian _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-g4TfWB29-jaIcPIPbpT3rqHlUF0", "text": "Re: [Dart] WGLC Comments on draft-ietf-dart-dscp-rtp-02\nHi, comments inline. I deleted sections that do not need to seem further comment (or where the comment would have been \"okay\"). [...] -- Abstract (and intro) It's probably worth mentioning that, other than mixing RTP/RTCP, RTP multiplexing is a relatively new thing. It's needed by new work such as WebRTC and clue, and it is enabled by bundle. The point being, this wasn't something we really needed to worry about until now. Could you suggest text for the Introduction section, along with any additional references? Okay, how about something like the following (perhaps inserted after \"... including communication based on the Real-time Transport Protocol (RTP)\") \"Historically, distinct RTP streams have been sent over different transport level flows, sometimes multiplexed with RTCP. But recently WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) [RFC4566] bundle negotiation mechanism [I-D.ietf-mmusic-sdp-bundle-negotiation] to send multiple streams, potentially needing different QoS treatments, using the same IP 5-tuple.\" [...] -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB. \" -- section 6, last bullet: Is there a such thing as \"less than best effort traffic\" where \"best effort\" treatments would be unacceptable? I can come up with possible examples - background bulk transfer of something large that should not interfere with foreground WebRTC data that is being carried as best-effort. Actually, it's not clear to me from this paragraph if CS1 is ever appropriate, at least from the application endpoint perspective, as it seem to give completely unpredictable results. That was intended - would you like to see stronger language? No, if that is the intent, I am okay with the existing language. [...]"}
{"_id": "doc-en-dart-aJrFjMnMTTslSab8SYg7PRcMHOc", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nOn 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-BSO9VWgcFM2xBO64LtoRoLzVuEQ", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nRTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org>; \"Paul E. Jones\" <paulej@packetizer.com>; \"Black, David\" <david.black@emc.com> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org> Sent: 8/27/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-OvEUtuI16EJ_nR1yEu7YPlVedVc", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nHi, Where are we with this discussion? Are there conclusions buried in there somewhere? Thanks! Ben. On Aug 27, 2014, at 1:50 PM, Colin Perkins <csp@csperkins.org> wrote: On 27 Aug 2014, at 19:47, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 20:42, Colin Perkins <csp@csperkins.org> wrote: On 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable. You have the RTT estimate, irrespective of the other information you include along with the regular RTCP packets, although it’s relatively infrequent and coarse-grained. I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn’t check) It probably should talk about this, I agree. -- Colin Perkins http://csperkins.org/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-s4M7eVhu3E5J_e5aAvc8fGmDbSw", "text": "Re: [Dart] Treatment of RTCP - proposed text\nBen, I think the answer is really whether we can quickly reach consensus. I have an idea how I'd implement it if I didn't have guidance otherwise, which I explained in my last email. I think this can be resolved pretty quickly. If not, we can certainly leave it open. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Black, David\" <david.black@emc.com> Cc: \"Paul E. Jones\" <paulej@packetizer.com>; \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org>; \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org> Sent: 8/27/2014 10:28:07 PM Subject: Re: Treatment of RTCP - proposed text I do not object to the text per se. But I do have a bit of a nagging concern that we may be offering too strong of guidance, given the thought process so far. Do we believe we understand this well enough to say the sender should to this or that, as opposed to say that these are things the implementer should think about, and that these are probably reasonable choices? Is this an area where we need more deployment experience to offer real guidance? (I think it's okay for the doc to say that, if needed.) But in any case, I will defer to Colin, Paul, and David. On Aug 27, 2014, at 8:58 PM, Black, David <david.black@emc.com> wrote: Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:paulej@packetizer.com] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org>; \"Paul E. Jones\" <paulej@packetizer.com>; \"Black, David\" <david.black@emc.com> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org> Sent: 8/27/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-5SnIvZ-KWO8OWhiZceUIlODvCvI", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nColin, Ben, Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. I'm a little confused here. These are separate SSRCs, but all part of a single RTP session. So, wouldn't the three SSRCs be reported in different report blocks in the sender report? The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? For this, I would argue it should be whatever DSCP that has the lower drop precedence (in the case of assured forwarding). Otherwise, it should be the same as the media, I'd think. Paul"}
{"_id": "doc-en-dart-1PHBbRk6A_CfHO7XZ0kvy0a2XuE", "text": "Re: [Dart] WGLC Comments on draft-ietf-dart-dscp-rtp-02\nBen, Many thanks for the extensive review - comments inline ... Could you suggest some additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4? Thanks, --David -----Original Message----- From: Ben Campbell [mailto:ben@nostrum.com] Sent: Monday, August 18, 2014 5:49 PM To: draft-ietf-dart-dscp-rtp.all@tools.ietf.org Cc: dart@ietf.org Subject: WGLC Comments on draft-ietf-dart-dscp-rtp-02 (As individual) Hi, Here are some WGLC comments on draft-ietf-dart-dscp-rtp-02. Thanks! Ben. ---------------- **** Substantive: -- General: I was going to ask if we can be more precise on what sort of layering (and muxing?) we expect to really happen on top of DTLS, especially for WebRTC use cases. But I think Colin's comments are on the right track, so I will comment in that thread. Dealt with in other thread, on mux items 3 and 4 in Section 2.1. -- Abstract (and intro) It's probably worth mentioning that, other than mixing RTP/RTCP, RTP multiplexing is a relatively new thing. It's needed by new work such as WebRTC and clue, and it is enabled by bundle. The point being, this wasn't something we really needed to worry about until now. Could you suggest text for the Introduction section, along with any additional references? -- Section 2.1, list item 3: \"An RTP session could be multiplexed with other protocols ... \" What is likely to really happen here? I don't think we will see an arbitrary mixing of other protocols in the immediate future. What are the realistic constraints, and likely layerings? For example, with WebRTC, we are likely to see some number of RTP/RTCP streams, stun, turn, and dtls, with dtls carrying one or more SCTP associations (i.e. data channels) right? Do we have ways to signal more than that in sdp-bundle? OTOH, I guess one could argue that people might try to mix in more things in the future. Dealt with in other thread. -- 2.1, 2nd to last paragraph, last sentence (starting with \"In contrast...\" Is this specific to SCTP associations carried over DTLS packets a la RFC5764, or are we talking about SCTP/UDP in general? It's SCTP/UDP in general, clarified. -- 2.2, third paragraph: Are we talking about TCP as the outer transport protocol, and muxing things on the TCP 5-tuple? Or are we considering TCP as something that might get multiplexed on the UDP 5-tuple? Where do Jonathan Lennox's comments about potentially falling back to an ICE TCP candidate fit? It's TCP as the outer transport protocol, and this is part of the text that responds to Jonathan Lennox's comments (the rest of it is hidden in 5.3, and needs some more prominence, as it's missing from the guidelines). I added: When TURN selects use of TCP, the entire real-time communications session is carried over a single TCP 5-tuple. And added mention of this scenario (TURN selects TCP) to the guideline on TCP. -- section 3, paragraph 5: Does the term \"network node\" include application endpoints that might do initial DiffServ marking? No, changed to \"node in the network\". -- section 3, paragraph 12: \"... observable forwarding behavior (e.g., loss, delay, jitter) will often depend only on the relative loading of the link\" Relative to what? Other links? Relative load to the capacity of the link? Removed \"relative\" ;-). -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. -- section 6, last bullet: Is there a such thing as \"less than best effort traffic\" where \"best effort\" treatments would be unacceptable? I can come up with possible examples - background bulk transfer of something large that should not interfere with foreground WebRTC data that is being carried as best-effort. Actually, it's not clear to me from this paragraph if CS1 is ever appropriate, at least from the application endpoint perspective, as it seem to give completely unpredictable results. That was intended - would you like to see stronger language? -- Normative References: Are these first two references both \"normative\" enough to block on them? Well, the first one certainly is - if the relevant terminology in the rtp-grouping-taxonomy draft changes, this DART draft will change also, as has already been demonstrated. OTOH, I'll move both RFC 5764 and the rfc5764-mux-fixes draft to informative. **** Editorial: -- section 1, paragraph 1: \"As a result use of different DSCPs...\" Missing comma after \"result\". Fixed. -- 3.2, paragraph 1: \"... and such nodes remark traffic ...\" May remark? Always remark? It's \"may remark,\" but I rephrased for clarity - the sentence now reads: When DiffServ is used, the edge or boundary nodes of a network are responsible for ensuring that all traffic entering that network conforms to that network's policies for DSCP and PHB usage, and such nodes may change DSCP markings on traffic to achieve that result. -- 3.2, paragraph 3, last sentence: Is this sentence redundant to the previous paragraph? Not completely, but I moved the point about ignoring embedded headers into the previous paragraph and removed this sentence. -- 4, paragraph 1: 2nd and 3rd sentence These sentences seem to contradict. The first says that receiving audio early is not useful, but the second says it may be useful. Changed second sentence to talk about increased reliability of receiving audio ... because more reliable arrival of audio helps assure smooth audio rendering ... -- 4, 2nd paragraph: \"... e.g., are in an AF class ...\" in the _same_ AF class? Yes, changed to \"a single AF class\". -- 5.1, 7th paragraph Is this paragraph redundant with previous discussions of AF classes? I don't think the paragraph is redundant, but I removed \"as the three PHBs in an AF class differ solely in drop precedence.\" as that is redundant with 3.1. -- 5.2, third paragraph: Can you elaborate on what it means to be \"contained in a buffer\"? Added: \"because packets that arrive out of order are retrieved in order from the jitter buffer for rendering.\" -- 5.2, around paragraph 5: There are words about why non-interactive media is likely to have larger jitter buffers, but the fact that interactive media may have smaller buffers us left to implication. Elaborated first sentence in previous bullet - it now ends with \"such as interactive conversations for which small jitter buffers are necessary to preserve human perceptions of real-time interaction.\" -- 5.3, 1st and 2nd sentence: These seem redundant to previous discussions about AF classes. Tightened up - the point about same forwarding resources implying no latency variation needs to be made here. New text: Packets on the same 5-tuple that use PHBs within a single AF class can be expected to draw upon the same forwarding resources on network nodes (e.g., use the same router queue) and hence use of multiple drop precedences within an AF class is not expected to cause latency variation. -- 5.3, 2nd paragraph: It's not clear to me what this paragraph means. Is drop likelihood the likelihood that anything is dropped in a session, or the chance of any given packet being dropped? I assume drop likelihood is relative to that of other sessions crossing the same path? And that under non congested conditions none of this will matter? Deleted second sentence, and rephrased first to: When PHBs within a single AF class are mixed within a flow, the resulting overall likelihood that packets will be dropped from that flow is a mix of the drop likelihoods of the PHBs involved. I also joined it up w/the previous paragraph. -- 6, 1st paragraph: \" ... the following requirements ...\" Are these requirements per se, or guidelines? Guidelines. -- 6, bullet list Each bullet starts with a verb, but ommits the subject. E.g., in the first bullet, what is the actor that should not use different DSCPs within a different stream? The subject was factored out - \"applications and other traffic sources\". I moved it to start a new paragraph. -- 6, 1st bullet: The double negation is confusing (\"should not use\", \"If this is not done...\"). Also, Now reads: \" Should limit use of DSCPs within a single RTP stream to those whose PHBs do not allow packet reordering.\" 2nd bullet: Is \"use a single PHB and DSCP\" different than just saying \"use a single DSCP\"? The latter is better for \"applications and other traffic sources\" Extensive editing resulted,. 3rd bullet: Am I correct in assuming SCTP multihoming is not an issue here? Should we mention that explicitly? It's not an issue, and does not really need to be mentioned here. Switching among addresses involved in SCTP multihoming is a transient affect akin to (and possibly caused by) routing changes, and that's already mentioned in Section 5.1."}
{"_id": "doc-en-dart-TiIMEUi3Qgu2Z_HniEoSzkDzWJU", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - proposed text for\n section 2.1 mux items 3 and 4\nI agree except where noted inline: On Aug 22, 2014, at 3:27 PM, Black, David <david.black@emc.com> wrote: Proposed new text (merging item 4 into item 3, which aligns with the structure of RFC 5764 and the rfc5764-mux-fixes draft): 3. An RTP session could be multiplexed with a single SCTP over DTLS association plus signaling traffic for STUN [RFC5389] and TURN [RFC5766] into a single transport level flow as described in [RFC5764] and [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]. STUN and TURN are used for NAT traversal. I agree with the direction here--but I'm not sure I would characterize STUN and TURN as signaling traffic. And STUN is used for connectivity checks, as well as NAT traversal. OTOH, maybe it would be better to just for this section to just say that STUN and TURN can be multiplexed in the flow without the additional comments about them? Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 21, 2014 9:06 PM To: Ben Campbell; Colin Perkins Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG; Black, David Subject: RE: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Colin - many thanks for the review. I'll pick up your proposed changes, perhaps with minor edits. Ben, 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? WebRTC will only multiplex its data channels, and this numbered list is about WebRTC, so this text should focus on those data channels - I'll revise the draft accordingly. Other text elsewhere in the draft is broader (e.g., SCTP/UDP without DTLS, which is of interest, even though WebRTC always uses DTLS). Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Ben Campbell Sent: Monday, August 18, 2014 4:48 PM To: Colin Perkins Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <csp@csperkins.org> wrote: Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin Hi, The DART working group has started a last call for draft-ietf-dart-dscp- rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: draft-alias-bounces@tools.ietf.org From: Ben Campbell <ben@nostrum.com> Subject: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: ben@nostrum.com, david.black@emc.com, paulej@packetizer.com To: dart@ietf.org Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org, mls.ietf@gmail.com, Richard Barnes <rlb@ipv.sx> This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio/Video Transport Core Maintenance avt@ietf.org https://www.ietf.org/mailman/listinfo/avt -- Colin Perkins http://csperkins.org/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-snptCGr21FW9mNNxspXgpWXYq9Q", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nSince not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? <editor hat off> Sure, when there's a notion of priority or importance. There won't always be one (e.g., is CS2 higher priority than AF2x? That depends ...). OTOH, we don't need to say much here, e.g., the class selector codepoints (CSx) are ordered, and adding a pointer to draft-ietf-tsvwg-rtcweb-qos will be helpful. </editor hat off> Turning to the other RTCP issue, [F] on multi-stream optimization, I wonder whether we inadvertently framed that issue backwards. Given the above, a single RTCP report on multiple RTP streams that use rather different DSCPs may not result in representative RTT values for all of the streams, because the report has to be sent with one DSCP. If that outcome is a problem, one should send separate RTCP reports (duh!). Each reporting SSRC sends a separate RTCP report block for each SSRC it receives, so this is not a problem. The question is what marking an SSRC uses for the RTCP packets it sends, given that it uses several different markings for the RTP media packets it sends. That statement seems valuable to make and can be made with a citation of RFC 3530, as opposed to the multi-stream optimization draft. Harald and Colin - what do you think? The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-8FOeHJCYI4oL2jq1kyO3N3JTRwE", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2)\nGood, I added a few words to be more explicit when I put the text into my working version of -03: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport protocol connection (e.g., DCCP) or transport protocol association (e.g., SCTP) is out of scope for this document. It would be nice to add \"is a topic for future work\", but forward-looking statements should be avoided in RFCs. They turn out to be embarassing down the road far too often.... (however, the WG could recommend to the ADs that this subject be pursued by someone, somewhere, at some time....) Thanks, --David -----Original Message----- From: gorry@erg.abdn.ac.uk [mailto:gorry@erg.abdn.ac.uk] Sent: Friday, August 22, 2014 3:13 PM To: Black, David Cc: gorry@erg.abdn.ac.uk; dart@ietf.org; Black, David Subject: RE: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) I could live with that - it would be even nicer if we actually had a document with set of recommendations to point to - but since we don't, this seems an appropriate statement. Gorry Here's the next to last paragraph in Section 5.3: SCTP [RFC4960] differs from TCP in a number of ways, including the ability to deliver messages in an order that differs from the order in which they were sent and support for unreliable streams. However, SCTP performs congestion control and retransmission across the entire association, and not on a per-stream basis. Although there may be advantages to using multiple drop precedence across SCTP streams or within an SCTP stream that does not use reliable ordered delivery, there is no practical operational experience in doing so (e.g., the SCTP sockets API [RFC6458] does not support use of more than one DSCP for an SCTP association). As a consequence, the impacts on SCTP protocol and implementation behavior are unknown and difficult to predict. Hence a single PHB and DSCP should be used for all packets in an SCTP association, independent of the number or nature of streams in that association. Similar reasoning applies to a DCCP connection; a single PHB and DSCP should be used because the scope of congestion control is the connection and there is no operational experience with using more than one PHB or DSCP. I propose to add the following new sentence as its own paragraph: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport connection (e.g., DCCP) or association (e.g., SCTP) is out of scope for this document. I could add examples of topics that could be addressed, but would prefer to leave that to the actual design activity. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 14, 2014 9:16 AM To: gorry@erg.abdn.ac.uk; Ruediger.Geib@telekom.de Cc: dart@ietf.org; Black, David Subject: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) Wearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of gorry@erg.abdn.ac.uk Sent: Thursday, August 14, 2014 9:06 AM To: Ruediger.Geib@telekom.de Cc: gorry@erg.abdn.ac.uk; dart@ietf.org Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may - Support the PHB and offer the same corresponding DSCP - Not support the PHB and use the DSCP for a different PHB - Not support the PHB and not use the DSCP - Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB - Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: dart@ietf.org Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart -- Surveillance is pervasive. Go Dark."}
{"_id": "doc-en-dart-AWXDhymTUkr7phy_RiQqx1o2BG8", "text": "[Dart] HTA's Last Call review - drart-dscp-rtp-02\n* Last Call review - drat-ietf-dart-dscp-rtp-02 http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-02 Summary: This document is not ready for IETF Last Call, but close. The recommendations are reasonable and reasonably argued, but the precision and specificity of the language needs to be tightened up before publication. The below addresses some specific concerns. Section 2 nit: “communication in real-time” -> “communication in real time” nit: The complex example needs to mention that there may be non-media streams; suggest “there may be multiple media and non-media streams”. 2.1 Reference to SSRC for reference clock is wrong - “an RTP stream may contain multiple source streams that use the same reference clock (SSRC)” - this should be “clock, identified by the same CNAME”. The SSRC has to be different for each RTP stream in an RTP session. (The naming choice here is confusing….) The section needs to mention that RTP can be carried over a non-datagram protocol such as TCP, but that this document does not say more about this - just to show that its omission is deliberate, not accidental. (In fact 5.3 discusses TCP-encapsulated RTP. So it’s appropriate to mention it here.) STUN is not an encapsulation protocol, so should be omitted from the “encapsulated via STUN” sentence. TURN is. STUN packets are, however, multiplexed with the RTP packets. Agree that the UDP stream is not unidirectional. 2.2 STUN/TURN paragraph sits oddly here. It seems to belong outside the “reasons for multiplexing” flow. Perhaps move it to the beginning of the section? Again, STUN description needs tuning; STUN is used also for enabling communication without a relay server, by exchanging publicly-visible IP addresses and ports. 4. “receiving the audio packets ahead of the video is not useful” -> “is not very useful” - the next sentence gives a reason why it is somewhat useful. 5.1 Diffserv, Reordering and Transport Protocols The paragraph “Reordering also affects other forms of congestion control” is wrong. The content is OK, but the intro is not - it is the differential treatment (including drop probability) that creates problems for RMCAT, not (just) the reordering. DCCP is sensitive to differential treatment, since it does congestion control, so description of it as “problem free” is wrong. I think there are considerations coming from reordering (which affect protocols with immediate feedback, such as ACK-based protocols), and there are consdierations from diferential treatment (guessing wrong about what’s affected by a queue). The former applies to TCP; the latter applies to TCP, SCTP, DCCP, and (probably) whatever RMCAT comes to. These two should be separated. 5.2 DiffServ, reordering and real time communication The last paragraph of the section is somewhat misleading - network packet reordering done for *whatever* reason has no upper bound. If the authors think that packet reordering is more likely to be problematic with different DSCPs than with the same DSCP, that’s what they should say. The reference to RTCP multi-stream optimization seems completely wrong. The grouping into RTCP reporting groups is about receiver SSRCs that see the same set of packets, not about grouping reports about different SSRC together. (unless I’ve misunderstood something). When not using multi-stream optimization, these SSRCs send duplicate reports. 6. Guidelines The word “requirements” seems at odds with the headline “guidelines”. The word “session” is used several times without explanation - “RTCP session”, “reliable transport protoocol session”. From context, I guess “flow” or “connection” would be more appropriate. I wonder if the first requirement can be phrased in the positive? For instance: * Within a single RTP stream, should use a single PHB and DSCP, or a set of PHBs and DSCPs that do not allow reordering, for instance a single AF class. All in all, the document*'s recommendations are clear and reasonable, but the document can be improved. * * -- Surveillance is pervasive. Go Dark. Last Call review - drat-ietf-dart-dscp-rtp-02http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-02 Summary: This document is not ready for IETF Last Call, but close.The recommendations are reasonable and reasonably argued, but the precision and specificity of the language needs to be tightened up before publication. The below addresses some specific concerns. Section 2 nit: “communication in real-time” -> “communication in real time”nit: The complex example needs to mention that there may be non-media streams; suggest “there may be multiple media and non-media streams”. 2.1 Reference to SSRC for reference clock is wrong - “an RTP stream may contain multiple source streams that use the same reference clock (SSRC)” - this should be “clock, identified by the same CNAME”. The SSRC has to be different for each RTP stream in an RTP session. (The naming choice here is confusing….) The section needs to mention that RTP can be carried over a non-datagram protocol such as TCP, but that this document does not say more about this - just to show that its omission is deliberate, not accidental.(In fact 5.3 discusses TCP-encapsulated RTP. So it’s appropriate to mention it here.) STUN is not an encapsulation protocol, so should be omitted from the “encapsulated via STUN” sentence. TURN is. STUN packets are, however, multiplexed with the RTP packets. Agree that the UDP stream is not unidirectional. 2.2 STUN/TURN paragraph sits oddly here. It seems to belong outside the “reasons for multiplexing” flow. Perhaps move it to the beginning of the section?Again, STUN description needs tuning; STUN is used also for enabling communication without a relay server, by exchanging publicly-visible IP addresses and ports. 4. “receiving the audio packets ahead of the video is not useful” -> “is not very useful” - the next sentence gives a reason why it is somewhat useful. 5.1 Diffserv, Reordering and Transport Protocols The paragraph “Reordering also affects other forms of congestion control” is wrong. The content is OK, but the intro is not - it is the differential treatment (including drop probability) that creates problems for RMCAT, not (just) the reordering. DCCP is sensitive to differential treatment, since it does congestion control, so description of it as “problem free” is wrong. I think there are considerations coming from reordering (which affect protocols with immediate feedback, such as ACK-based protocols), and there are consdierations from diferential treatment (guessing wrong about what’s affected by a queue). The former applies to TCP; the latter applies to TCP, SCTP, DCCP, and (probably) whatever RMCAT comes to. These two should be separated. 5.2 DiffServ, reordering and real time communication The last paragraph of the section is somewhat misleading - network packet reordering done for *whatever* reason has no upper bound. If the authors think that packet reordering is more likely to be problematic with different DSCPs than with the same DSCP, that’s what they should say. The reference to RTCP multi-stream optimization seems completely wrong. The grouping into RTCP reporting groups is about receiver SSRCs that see the same set of packets, not about grouping reports about different SSRC together. (unless I’ve misunderstood something). When not using multi-stream optimization, these SSRCs send duplicate reports. 6. Guidelines The word “requirements” seems at odds with the headline “guidelines”. The word “session” is used several times without explanation - “RTCP session”, “reliable transport protoocol session”. From context, I guess “flow” or “connection” would be more appropriate. I wonder if the first requirement can be phrased in the positive? For instance: * Within a single RTP stream, should use a single PHB and DSCP, or a set of PHBs and DSCPs that do not allow reordering, for instance a single AF class. All in all, the document's recommendations are clear and reasonable, but the document can be improved. -- Surveillance is pervasive. Go Dark."}
{"_id": "doc-en-dart-tnT2ZLnPqVORVNGI-6FwyfxAih8", "text": "Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02\nBen, Our charter is not to improve QoS or solve congestion issues. It's just to give guidance on DSCP choices for multiplexed media. So I think the question becomes, has RMCAT made decisions (or looks very likely to make decisions) to use RTCP in a way that would be impacted by our DSCP recommendations? I'm not aware of whether such a decision has been made. Ben, Colin, On (2) below, it might be a challenge to get agreement quickly, but it might be nice if we could. As this work relates to RMCAT, determining one-way delay or changes thereto will likely prove important. In general, I would expect perceived quality to be important and conveying quality metrics and/or providing feedback to the sender so that perceived quality improves (in whatever form) will be important. I'm suspicious of use of any RTT calculation for any mechanism that might be used to improve QoE. If so, then we should document the potential impact. If _not_, then it seems to me the best we could do is mention that RTCP treatments may or may not have an impact on RTT estimates, and that the implementer should think about it. If accurate RTT measurements could be made, they could be useful. The problem is that in some environments, we know that RTTs will not be accurate. Sometimes they are, of course. We could have some text as you suggest, but I would personally prefer we not encourage use of RTT values for any particular purpose. :-) Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. David? :-) Paul"}
{"_id": "doc-en-dart-Lny3OhQo21BU_Zo22DP4etQtY88", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-04.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time CommunicHtion Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-04.txt Pages : 26 Date : 2014-08-25 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirments using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-04 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-04 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-ZCAgPZ913YY73kHMMXhhVmga3v0", "text": "Re: [Dart] WGLC Comments on draft-ietf-dart-dscp-rtp-02\nOn 08/24/2014 12:50 AM, Ben Campbell wrote: Hi, comments inline. I deleted sections that do not need to seem further comment (or where the comment would have been \"okay\"). [...] -- Abstract (and intro) It's probably worth mentioning that, other than mixing RTP/RTCP, RTP multiplexing is a relatively new thing. It's needed by new work such as WebRTC and clue, and it is enabled by bundle. The point being, this wasn't something we really needed to worry about until now. Could you suggest text for the Introduction section, along with any additional references? Okay, how about something like the following (perhaps inserted after \"... including communication based on the Real-time Transport Protocol (RTP)\") \"Historically, distinct RTP streams have been sent over different transport level flows, sometimes multiplexed with RTCP. But recently WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) [RFC4566] bundle negotiation mechanism [I-D.ietf-mmusic-sdp-bundle-negotiation] to send multiple streams, potentially needing different QoS treatments, using the same IP 5-tuple.\" [...] -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. -- section 6, last bullet: Is there a such thing as \"less than best effort traffic\" where \"best effort\" treatments would be unacceptable? I can come up with possible examples - background bulk transfer of something large that should not interfere with foreground WebRTC data that is being carried as best-effort. Actually, it's not clear to me from this paragraph if CS1 is ever appropriate, at least from the application endpoint perspective, as it seem to give completely unpredictable results. That was intended - would you like to see stronger language? No, if that is the intent, I am okay with the existing language. [...] _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-Y63PYWIpkoIqw2RN3UmOIczoNZk", "text": "[Dart] Treatment of RTCP (was Re: Colin Perkins comments - WGLC:\n draft-ietf-dart-dscp-rtp-02)\nGetting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? /Ben"}
{"_id": "doc-en-dart-Z5gBKihcWEdsbNdiyrKP74T3pXw", "text": "Re: [Dart] Treatment of RTCP - proposed text\nShould it be the DSCP value of the SSRC being reported on or the DSCP of the SSRC sender? It should be the SSRC/RTP stream DSCP. I think the proposed text covers that for both the SR and RR cases (Bob would use EF in your example), but I admit to thinking more about RRs when I wrote the proposed text. If there are 31 flows being reported on in a single RTCP RR, I think the receiver just picks a DSCP, as it may not know the DSCPs for any of the flows (e.g., if they've all been remarked enroute). I do like the idea of having the reporter use the DSCP that it would use to send a similar RTP stream - I'd be happy to slim the text down to only recommend that, as it's simpler and the RTCP sender should always know what DSCP it would use if it were sending similar media. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:paulej@packetizer.com] Sent: Wednesday, August 27, 2014 11:14 PM To: Black, David; Ben Campbell; Michael Welzl; Colin Perkins Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG; Black, David Subject: Re: Treatment of RTCP - proposed text David, Should it be the DSCP value of the SSRC being reported on or the DSCP of the SSRC sender? My thought that was if Alice and Bob are sending flows to each other and Bob is sending audio using EF, then when Bob sends out a Sender Report, the packet would be marked EF. The way this is worded, if Alice is sending packets using CS0, then Bob would mark his SR's using CS0. I'm not sure how to handle the RR's, though, particularly of a receive-only device. We could say it would be the same as the flow being reported on, but there might be 31 such flows being reported on. Perhaps if there is agreement that the RTCP packets will be marked in the same way as the sender would send its media, then we say the reports should be marked in the same was as it would if it did send media. So, do we want RTCP packets to be marked the same as the media flow transmitted or the same as the received media flow? Paul ------ Original Message ------ From: \"Black, David\" <david.black@emc.com> To: \"Paul E. Jones\" <paulej@packetizer.com>; \"Ben Campbell\" <ben@nostrum.com>; \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org>; \"Black, David\" <david.black@emc.com> Sent: 8/27/2014 9:58:34 PM Subject: Treatment of RTCP - proposed text Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:paulej@packetizer.com] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org>; \"Paul E. Jones\" <paulej@packetizer.com>; \"Black, David\" <david.black@emc.com> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org> Sent: 8/27/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-pJA6Jlg5aUXHomh3bo3fd3vnYA0", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nOn 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT? Yes, as I replied a couple of days ago. Colin"}
{"_id": "doc-en-dart-3cf5hSxC5F9orn49y9YY54sosLI", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nBen, Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Since DSCP values cannot be assumed to any particular PHB behavior in the network, that makes answering that question challenging. My personal preference in a voice/video conference would be to use the same marking as is used for those flows -- and I would use the same value for both voice and video. However, if the app sharing video is considered more important by some applications, perhaps that's the value that should be used in those applications. I can accept the suggestion, leaving the specific selection as an implementation matter. I do wish there was something more concrete so that two devices would always follow the same approach to selecting a value, but I doubt we can get agreement very quickly. Paul"}
{"_id": "doc-en-dart-tqvhbeoocUYqss2hfW2AQ0u6xBc", "text": "Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02\nBen, Colin, On (2) below, it might be a challenge to get agreement quickly, but it might be nice if we could. As this work relates to RMCAT, determining one-way delay or changes thereto will likely prove important. In general, I would expect perceived quality to be important and conveying quality metrics and/or providing feedback to the sender so that perceived quality improves (in whatever form) will be important. I'm suspicious of use of any RTT calculation for any mechanism that might be used to improve QoE. Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. There are several options we could consider: * Mark all RTCP packets as CS0 * Mark RTCP packets using a locally-defined \"highest priority\" marking * Mark RTCP packets the same as media flow for the first (active) SDP line (thus, if audio is the first m= line in SDP and that flow is active, all RTCP packets will be marked the same as audio) * Specify a value for all RTCP packets irrespective of any value used in RTP flows I think the right folks on the thread and on the list are present to help make that choice. We just need to decide if that is something we want to specify. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Colin Perkins\" <csp@csperkins.org> Cc: \"Black, David\" <david.black@emc.com>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org>; \"Paul E. Jones (paulej@packetizer.com)\" <paulej@packetizer.com>; \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org> Sent: 8/25/2014 2:12:01 PM Subject: Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02 (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. One of the uses of RTCP is certainly to estimate the round-trip time, as described in Section 6.4.1 (page 41) of RFC 3550. The DSCP marking used for RTCP does need to take this use into account. Ideally, this would mean RTCP packets were marked the same as the corresponding RTP packets, as I suggested in the meeting. However, Paul is correct that this only works when all RTP packets have the same marking. Accordingly, I’m not sure what the right marking is for RTCP. One approach might be to say that an SSRC that sends RTP packets with different marking should use marking with the highest(lowest?) precedence of those is uses for RTCP, so the RTT estimate calculated from RTCP is representative of some RTP packets. I’m not sure that using a single DSCP for all RTCP packets would achieve that. Can this working group reasonably answer this question? If not, we could list it as something implementors need to think about, and note that we do not have generic guidance."}
{"_id": "doc-en-dart-ei0DBxs4EHXZxvNpCgEZqc2_f2w", "text": "[Dart] FW: Document Action: 'Differentiated Services (DiffServ) and\n Real-time Communication' to Informational RFC\n (draft-ietf-dart-dscp-rtp-10.txt)\nThe DART working group was formed in April of 2014. The working group was chartered to focus on a constrained problem and conclude quickly. And we did it - two IETF meeting cycles from start to IESG approval! Many, many thanks to everyone who contributed - it's been a pleasure to work on this draft. Moreover, the one-and-only DART WG meeting in Toronto was the most fun I've had at the front of the room in an IETF WG meeting in a long time. Thank you! --David -----Original Message----- From: IETF-Announce [mailto:ietf-announce-bounces@ietf.org] On Behalf Of The IESG Sent: Wednesday, November 12, 2014 11:52 PM To: IETF-Announce Cc: dart mailing list; dart chair; RFC Editor Subject: Document Action: 'Differentiated Services (DiffServ) and Real-time Communication' to Informational RFC (draft-ietf-dart-dscp-rtp-10.txt) The IESG has approved the following document: - 'Differentiated Services (DiffServ) and Real-time Communication' (draft-ietf-dart-dscp-rtp-10.txt) as Informational RFC This document is the product of the DiffServ Applied to Real-time Transports Working Group. The IESG contact persons are Richard Barnes and Alissa Cooper. A URL of this Internet Draft is: http://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ Technical Summary This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. Working Group Summary The DART working group was formed in April of 2014. The working group was chartered to focus on a constrained problem and conclude quickly. DART adopted this document with very little controversy. While the working group is nominally in the RAI area, it has been effectively a cross-area effort between RAI and TSV. This document resulted in lively discussion among a core group of experts from both areas. In general, the discussion converged quickly, and there were no unresolved controversies. In the shepherd's opinion, the only impediment to consensus was that discussion kept overturning rocks, forcing participants to think about new issues. One notable issue was whether this draft should offer guidance on the interaction between having multiple DSCPs in a stream and the multiple stream optimization work (draft-ietf-avtcore-rtp-multi-stream-optimisation.) The working group chose to avoid such guidance in this draft, and leave that for the multi-stream draft to solve. Document Quality During the working group last call, we solicited comments from RTCWEB, AVTCORE, MMUSIC, CLUE, TSVWG, and RMCAT. In the shepherd's opinion, it has been well reviewed, and represents a strong consensus. The shepherd does not think it needs any further specific reviews, other than the usual reviews it would receive during the IETF last call process (for example, Gen-ART and SecDir). Since the document does not specify protocol, it will not be directly implemented. However, we expect that at least the RTCWEB working group will incorporate guidance from this document into it's output. Personnel The Document Shepherd is Ben Campbell. The Responsible AD is Richard Barnes."}
{"_id": "doc-en-dart-CjhkMDxG2Es2Dw2dVD-yMzStJpY", "text": "[Dart] FW:  I-D Action: draft-ietf-dart-dscp-rtp-09.txt\nThe -09 version contains some minor editorial changes resulting from IESG review. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of internet-drafts@ietf.org Sent: Monday, November 10, 2014 1:15 AM To: i-d-announce@ietf.org Cc: dart@ietf.org Subject: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-09.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-09.txt Pages : 27 Date : 2014-11-09 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering) have transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-09 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-09 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-3chrAN84RmWQ5gYL0PS1krSeyyk", "text": "Re: [Dart] AD review of draft-ietf-dart-dscp-rtp-06\nRichard, Thank you for the review, and I’m pleased that the draft provides a helpful introduction to DiffServ. Comments inline @ David> I’ll submit a -07 with these changes plus a version of Colin’s suggested change to the 5.4 text on RTCP RTT behavior. Thanks, --David From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Richard Barnes Sent: Tuesday, September 23, 2014 10:22 PM To: draft-ietf-dart-dscp-rtp@tools.ietf.org; dart@ietf.org Subject: [Dart] AD review of draft-ietf-dart-dscp-rtp-06 I have reviewed this draft in preparation for IETF LC. Overall this looks very good. As someone who is not deeply familiar with DiffServ concepts, the document provided a helpful introduction and clearly justified its recommendations. I'll go ahead and request last call. Some minor comments are below. My main concern is that this document is so well populated with references that it will get stuck in MISSREF for years while others catch up :) Thanks, --Richard MINOR Section 6: \"\"\" The only use of multiple standardized PHBs and DSCPs that prevents network reordering among packets marked with different DSCPs is use of PHBs within a single AF class. \"\"\" It doesn't prevent reordering, right? It just makes reordering much more unlikely and more transient. (Unless you're using a strict definition of \"network reordering\" that ignores things like ECMP balancing.) The \"allow\" phrasing is used several times in this section. It would be helpful to clarify. David> Will change “prevents” -> “does not enable” and change “allow” -> “enable” EDITORIAL Abstract: \"\"\" Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. \"\"\" This sentence doesn't really parse. Maybe just delete \"the results (e.g., reordering)\"? Likewise for the same phrase in the introduction. David> Oh dear, I’ve clearly been staring at the same text for too long :-(. Will rephrase to: The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering), have transport protocol interactions, particularly with congestion control functionality. Introduction: \"\"\" (Section 7 is an empty IANA Considerations section) \"\"\" Note to future self: Remove this parenthetical and renumber once this hits the RFC Editor. David> I’ll swap the order of sections 7 and 8, then delete this parenthetical remark now ;-). Section 5.1: \"\"\" In general, marking packets with different DSCPs results in different PHBs being applied at nodes in the network, making reordering possible due to use of different pools of forwarding resources for each PHB. \"\"\" This seems like a pretty import, so I would state it more strongly. It doesn't just make reordering possible, it makes it much more likely. (This is the flip side of the Section 6 comment above.) David> “possible” -> “very likely” Richard, Thank you for the review, and I’m pleased that the draft provides a helpful introduction to DiffServ. Comments inline @ David> I’ll submit a -07 with these changes plus a version of Colin’s suggested change to the 5.4 text on RTCP RTT behavior. Thanks,--David From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Richard BarnesSent: Tuesday, September 23, 2014 10:22 PMTo: draft-ietf-dart-dscp-rtp@tools.ietf.org; dart@ietf.orgSubject: [Dart] AD review of draft-ietf-dart-dscp-rtp-06 I have reviewed this draft in preparation for IETF LC. Overall this looks very good. As someone who is not deeply familiar with DiffServ concepts, the document provided a helpful introduction and clearly justified its recommendations. I'll go ahead and request last call.Some minor comments are below. My main concern is that this document is so well populated with references that it will get stuck in MISSREF for years while others catch up :)Thanks,--Richard MINOR Section 6:\"\"\" The only use of multiple standardized PHBs and DSCPs that prevents network reordering among packets marked with different DSCPs is use of PHBs within a single AF class.\"\"\"It doesn't prevent reordering, right? It just makes reordering much more unlikely and more transient. (Unless you're using a strict definition of \"network reordering\" that ignores things like ECMP balancing.) The \"allow\" phrasing is used several times in this section. It would be helpful to clarify.David> Will change “prevents” -> “does not enable” and change “allow” -> “enable”EDITORIALAbstract:\"\"\" Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality.\"\"\"This sentence doesn't really parse. Maybe just delete \"the results (e.g., reordering)\"? Likewise for the same phrase in the introduction.David> Oh dear, I’ve clearly been staring at the same text for too long :-(. Will rephrase to: The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering), have transport protocol interactions, particularly with congestion control functionality.Introduction:\"\"\" (Section 7 is an empty IANA Considerations section)\"\"\"Note to future self: Remove this parenthetical and renumber once this hits the RFC Editor.David> I’ll swap the order of sections 7 and 8, then delete this parenthetical remark now ;-).Section 5.1:\"\"\" In general, marking packets with different DSCPs results in different PHBs being applied at nodes in the network, making reordering possible due to use of different pools of forwarding resources for each PHB.\"\"\"This seems like a pretty import, so I would state it more strongly. It doesn't just make reordering possible, it makes it much more likely. (This is the flip side of the Section 6 comment above.)David> “possible” -> “very likely”"}
{"_id": "doc-en-dart-UsYfz6Z4wESnQi_HTIadgAH4UyQ", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nHi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. - looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. - dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. ######################################## RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: dart@ietf.org Cc: Richard Barnes; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; mls.ietf@gmail.com Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-oHyAEPRetXTN_zRaEyqWkODO2pg", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nHi Ruediger, On 12/08/2014 19:38, Ruediger.Geib@telekom.de wrote: Hi Brian, with EF I link an expectation of excess traffic being dropped. In general I agree; but that only makes sense if there is an agreement (or mechanism) to define the nominal rate, and rate control of some kind at the source. (An IP phone is in effect a rate controller, for example.) A rate scheduler with single digit millisecond buffer depth and tail drop like behavior is not an issue. To me, that's a shaper configured to be EF compliant. If such a constraint is not desired then the text may say \"if mapped to a non-EF PHB, excess traffic may be shaped\". I'd like to ask for some explaining text if shaping of EF excess traffic is regarded as a property to be expected for this PHB. Yes, technically that's correct - but a shaper could be inserted at the boundary between two DS domains, and for the end-to-end user that will appear as a property of the PHB. If an AF class is used to transport EF, then any potential remarking should be done in a way avoiding re-ordering (i.e. remark to DSCPs within the same AF class only). There's no point in remarking excess EF traffic to a PHB which may cause reordering. I fully agree. I think that's what a text on remarking of EF should express, if remarking is kept as an option to be expected (I've not yet heard of such a deployment). Yes. I'm not advocating such behaviour; my point is only that EF may not always be strictly conformant to RFC 3246. Brian Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Brian E Carpenter [mailto:brian.e.carpenter@gmail.com] Gesendet: Montag, 11. August 2014 22:13 An: Geib, Rüdiger Cc: david.black@emc.com; dart@ietf.org; tsvwg@ietf.org Betreff: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi Ruediger, Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. - looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. - dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. Well, it seems to me to be a SHOULD, with the MUST that you cite below being conditional on \"a mechanism that allows unlimited preemption of other traffic.\" So I would not be at all surprised by deployments that support shaping and remarking. Also, there are certainly implementations that are closer to RFC 2598 or RFC 3248 and therefore less strict. I think the draft should make it clear that there is likely to be variation in actual behaviour for EF traffic that exceeds the nominal rate. (Leaving aside the fact that without a string of matching SLAs along the path, the nominal rate might not even be well defined.) Brian I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. ######################################## RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: dart@ietf.org Cc: Richard Barnes; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; mls.ietf@gmail.com Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart ."}
{"_id": "doc-en-dart-Xr_GN7Rs2THIkW5RP7bzlSLtJlQ", "text": "[Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02\nHi Colin, I've picked up your changes (including RTCWEB -> WebRTC globally) in my working draft, with two exceptions: (1) Items 3 and 4 in the list of what can be multiplexed. I don't think you suggested any changes to these two items, but they need significant attention for other reasons: - Ben's comment that item 3 ought to focus on the WebRTC data channel - STUN doesn't encapsulate WebRTC traffic (TURN does). I plan to merge these items 3 and 4 as part of revising them, and intend to move the topic of TURN encapsulation out to be discussed elsewhere, as it's independent of multiplexing. I'll propose specific text in a separate message. (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. Thanks, --David -----Original Message----- From: Colin Perkins [mailto:csp@csperkins.org] Sent: Monday, August 18, 2014 11:18 AM To: dart@ietf.org Cc: avt@ietf.org WG; Ben Campbell; draft-ietf-dart-dscp-rtp.all@tools.ietf.org Subject: Re: [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin Hi, The DART working group has started a last call for draft-ietf-dart-dscp-rtp- 02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: draft-alias-bounces@tools.ietf.org From: Ben Campbell <ben@nostrum.com> Subject: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: ben@nostrum.com, david.black@emc.com, paulej@packetizer.com To: dart@ietf.org Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org, mls.ietf@gmail.com, Richard Barnes <rlb@ipv.sx> This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio/Video Transport Core Maintenance avt@ietf.org https://www.ietf.org/mailman/listinfo/avt -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-Ju-RE7XtBanemFnIUvvSmRndYZc", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2)\nHere's the next to last paragraph in Section 5.3: SCTP [RFC4960] differs from TCP in a number of ways, including the ability to deliver messages in an order that differs from the order in which they were sent and support for unreliable streams. However, SCTP performs congestion control and retransmission across the entire association, and not on a per-stream basis. Although there may be advantages to using multiple drop precedence across SCTP streams or within an SCTP stream that does not use reliable ordered delivery, there is no practical operational experience in doing so (e.g., the SCTP sockets API [RFC6458] does not support use of more than one DSCP for an SCTP association). As a consequence, the impacts on SCTP protocol and implementation behavior are unknown and difficult to predict. Hence a single PHB and DSCP should be used for all packets in an SCTP association, independent of the number or nature of streams in that association. Similar reasoning applies to a DCCP connection; a single PHB and DSCP should be used because the scope of congestion control is the connection and there is no operational experience with using more than one PHB or DSCP. I propose to add the following new sentence as its own paragraph: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport connection (e.g., DCCP) or association (e.g., SCTP) is out of scope for this document. I could add examples of topics that could be addressed, but would prefer to leave that to the actual design activity. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 14, 2014 9:16 AM To: gorry@erg.abdn.ac.uk; Ruediger.Geib@telekom.de Cc: dart@ietf.org; Black, David Subject: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) Wearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of gorry@erg.abdn.ac.uk Sent: Thursday, August 14, 2014 9:06 AM To: Ruediger.Geib@telekom.de Cc: gorry@erg.abdn.ac.uk; dart@ietf.org Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may - Support the PHB and offer the same corresponding DSCP - Not support the PHB and use the DSCP for a different PHB - Not support the PHB and not use the DSCP - Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB - Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: dart@ietf.org Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-DiXYO4_Ye5CqtN-lZqbslIlOwsc", "text": "Re: [Dart] Treatment of RTCP - proposed text\nPaul, David, On 28 Aug 2014, at 04:13, Paul E. Jones <paulej@packetizer.com> wrote: Should it be the DSCP value of the SSRC being reported on or the DSCP of the SSRC sender? My thought that was if Alice and Bob are sending flows to each other and Bob is sending audio using EF, then when Bob sends out a Sender Report, the packet would be marked EF. Agree. An SSRC should use the same marking it would use to send packets, and not the marking of the received packets. The way this is worded, if Alice is sending packets using CS0, then Bob would mark his SR's using CS0. I'm not sure how to handle the RR's, though, particularly of a receive-only device. We could say it would be the same as the flow being reported on, but there might be 31 such flows being reported on. Perhaps if there is agreement that the RTCP packets will be marked in the same way as the sender would send its media, then we say the reports should be marked in the same was as it would if it did send media. A receive-only device should mark in the way it would if it sent media, I agree. So, do we want RTCP packets to be marked the same as the media flow transmitted or the same as the received media flow? Transmitted, I think. Colin Paul ------ Original Message ------ From: \"Black, David\" <david.black@emc.com> To: \"Paul E. Jones\" <paulej@packetizer.com>; \"Ben Campbell\" <ben@nostrum.com>; \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org>; \"Black, David\" <david.black@emc.com> Sent: 8/27/2014 9:58:34 PM Subject: Treatment of RTCP - proposed text Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:paulej@packetizer.com] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org>; \"Paul E. Jones\" <paulej@packetizer.com>; \"Black, David\" <david.black@emc.com> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org> Sent: 8/27/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-x16ttyPFVnKArLZi2O6NIrXea_Q", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nOn 28 Aug 2014, at 18:31, Colin Perkins <csp@csperkins.org> wrote: On 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT? Yes, as I replied a couple of days ago. Wait, sorry, that was the email I replied to a couple of days ago reappearing… RTT probing, I guess :-) -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-b1oazwmr2a8B972C5XitU38FoQg", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nSince not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? <editor hat off> Sure, when there's a notion of priority or importance. There won't always be one (e.g., is CS2 higher priority than AF2x? That depends ...). OTOH, we don't need to say much here, e.g., the class selector codepoints (CSx) are ordered, and adding a pointer to draft-ietf-tsvwg-rtcweb-qos will be helpful. </editor hat off> Turning to the other RTCP issue, [F] on multi-stream optimization, I wonder whether we inadvertently framed that issue backwards. Given the above, a single RTCP report on multiple RTP streams that use rather different DSCPs may not result in representative RTT values for all of the streams, because the report has to be sent with one DSCP. If that outcome is a problem, one should send separate RTCP reports (duh!). That statement seems valuable to make and can be made with a citation of RFC 3530, as opposed to the multi-stream optimization draft. Harald and Colin - what do you think? Thanks, --David -----Original Message----- From: Ben Campbell [mailto:ben@nostrum.com] Sent: Tuesday, August 26, 2014 10:16 AM To: Colin Perkins; Paul E. Jones Cc: Black, David; dart@ietf.org; avt@ietf.org WG; draft-ietf-dart-dscp- rtp.all@tools.ietf.org Subject: Treatment of RTCP (was Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don't agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It's in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? /Ben"}
{"_id": "doc-en-dart-zfjhjAJ4eEecyDvI9xL8Dlt0SUI", "text": "Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02\n(2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. One of the uses of RTCP is certainly to estimate the round-trip time, as described in Section 6.4.1 (page 41) of RFC 3550. The DSCP marking used for RTCP does need to take this use into account. Ideally, this would mean RTCP packets were marked the same as the corresponding RTP packets, as I suggested in the meeting. However, Paul is correct that this only works when all RTP packets have the same marking. Accordingly, I’m not sure what the right marking is for RTCP. One approach might be to say that an SSRC that sends RTP packets with different marking should use marking with the highest(lowest?) precedence of those is uses for RTCP, so the RTT estimate calculated from RTCP is representative of some RTP packets. I’m not sure that using a single DSCP for all RTCP packets would achieve that. Can this working group reasonably answer this question? If not, we could list it as something implementors need to think about, and note that we do not have generic guidance."}
{"_id": "doc-en-dart-kwT5DG03b2iwLU7HC_kDB3od3k4", "text": "Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02\nOur charter is not to improve QoS or solve congestion issues. It's just to give guidance on DSCP choices for multiplexed media. So I think the question becomes, has RMCAT made decisions (or looks very likely to make decisions) to use RTCP in a way that would be impacted by our DSCP recommendations? On Aug 25, 2014, at 2:52 PM, Paul E. Jones <paulej@packetizer.com> wrote: Ben, Colin, On (2) below, it might be a challenge to get agreement quickly, but it might be nice if we could. As this work relates to RMCAT, determining one-way delay or changes thereto will likely prove important. In general, I would expect perceived quality to be important and conveying quality metrics and/or providing feedback to the sender so that perceived quality improves (in whatever form) will be important. I'm suspicious of use of any RTT calculation for any mechanism that might be used to improve QoE. If so, then we should document the potential impact. If _not_, then it seems to me the best we could do is mention that RTCP treatments may or may not have an impact on RTT estimates, and that the implementer should think about it. Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. There are several options we could consider: * Mark all RTCP packets as CS0 * Mark RTCP packets using a locally-defined \"highest priority\" marking * Mark RTCP packets the same as media flow for the first (active) SDP line (thus, if audio is the first m= line in SDP and that flow is active, all RTCP packets will be marked the same as audio) * Specify a value for all RTCP packets irrespective of any value used in RTP flows I think the right folks on the thread and on the list are present to help make that choice. We just need to decide if that is something we want to specify. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Colin Perkins\" <csp@csperkins.org> Cc: \"Black, David\" <david.black@emc.com>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org>; \"Paul E. Jones (paulej@packetizer.com)\" <paulej@packetizer.com>; \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org> Sent: 8/25/2014 2:12:01 PM Subject: Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02 (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. One of the uses of RTCP is certainly to estimate the round-trip time, as described in Section 6.4.1 (page 41) of RFC 3550. The DSCP marking used for RTCP does need to take this use into account. Ideally, this would mean RTCP packets were marked the same as the corresponding RTP packets, as I suggested in the meeting. However, Paul is correct that this only works when all RTP packets have the same marking. Accordingly, I’m not sure what the right marking is for RTCP. One approach might be to say that an SSRC that sends RTP packets with different marking should use marking with the highest(lowest?) precedence of those is uses for RTCP, so the RTT estimate calculated from RTCP is representative of some RTP packets. I’m not sure that using a single DSCP for all RTCP packets would achieve that. Can this working group reasonably answer this question? If not, we could list it as something implementors need to think about, and note that we do not have generic guidance."}
{"_id": "doc-en-dart-yyQjwRJmiYGU5nj2Ccc-bfhfv-8", "text": "[Dart] Open Issue: Guidance for RTCP\n(as chair) We have an open issue (Designated issue [B] by David) about what guidance to give about RTCP in draft-ietf-dart-dscp-rtp. We need to close this in order to progress the draft--meaning we need to do so ASAP. Please look at the the following quoted text for background, and offer an opinion: (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet."}
{"_id": "doc-en-dart-5jJi6_Ptz3bog0BB5MbkmrCXhL0", "text": "Re: [Dart] Open Issue: Guidance for RTCP\n(as editor) I believe the core of this issue is the role of RTCP in providing RTT estimates. This is the core of open issue [B] and resolving it is likely to resolve much of open issue [F]. I think we're just scratching at a deeper issue here: What is the role of the RTT estimate, and is RTT what we're looking for? In ack-based congestion control, RTT estimates are used to determine when we should say \"we have not seen the ACK we expected\" - which indicates either packet loss or increased congestion, either on the forward or the reverse path - the algorithm does not care which. The signal is only useful for end-of-packet-train packet loss (because otherwise there will be later packets leading to SACK indications of lost packets before the RTT timer runs out), so the exact value doesn't really matter - only that the false positive rate isn't too high. In delay-based, sender-side-only congestion control, however, RTT has to be used as a stand-in for the sender->receiver transit time (because we have nothing else). So any variation in return-path RTT is going to be interpreted as congestion change on the forward path - which means wrong decisions. My conclusions are two: - If delay-based senders-side-only is used, what matters is that the feedback signal gets there with as little delay variation as possible. The highest precedence available should be used. - Delay-based schemes need to have the timing done at receiver. RTT is just too sensitive to errors. The last argument belongs in RMCAT, not here. I'll leave the first argument for your consideration. I believe the key question is: Is the role of RTCP in providing RTCP estimates important enough to serve as the primary basis for providing guidance on DSCP usage w/RTCP? Here's a summary of the \"yes it is\" viewpoint (from Colin Perkins): Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. To which my comment is \"media has no round trip time\". Media goes one way. And a summary of the \"no it isn't\" viewpoint (from Paul Jones): it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Thanks, --David (as editor) -----Original Message----- From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Ben Campbell Sent: Monday, August 25, 2014 1:00 AM To: dart@ietf.org Subject: [Dart] Open Issue: Guidance for RTCP (as chair) We have an open issue (Designated issue [B] by David) about what guidance to give about RTCP in draft-ietf-dart-dscp-rtp. We need to close this in order to progress the draft--meaning we need to do so ASAP. Please look at the the following quoted text for background, and offer an opinion: (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-vQcX8EAWtfM4FEpUaoSSATtlNz4", "text": "Re: [Dart] [AVTCORE] Colin Perkins comments - WGLC:\n draft-ietf-dart-dscp-rtp-02\nI suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. Agreed. RTCP should not have any higher priority than RTP media. First, you don't want RTCP traffic to cause damage to RTP traffic. Second, not being in the same class, RTCP reported data wont reflect the reality for RTP traffic. If you want protection for RTCP packets, use redundancy or other techniques within the bounds allowed by 3550."}
{"_id": "doc-en-dart-sUOIxfF-LB1Fhop3ApkIrfnZDlg", "text": "[Dart] RFC 7657 on Differentiated Services (Diffserv) and Real-Time\n Communication\nA new Request for Comments is now available in online RFC libraries. RFC 7657 Title: Differentiated Services (Diffserv) and Real-Time Communication Author: D. Black, Ed., P. Jones Status: Informational Stream: IETF Date: November 2015 Mailbox: david.black@emc.com, paulej@packetizer.com Pages: 26 Characters: 67721 Updates/Obsoletes/SeeAlso: None I-D Tag: draft-ietf-dart-dscp-rtp-10.txt URL: https://www.rfc-editor.org/info/rfc7657 DOI: http://dx.doi.org/10.17487/RFC7657 This memo describes the interaction between Differentiated Services (Diffserv) network quality-of-service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). Diffserv is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different Diffserv Codepoints (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple have transport protocol interactions, particularly with congestion control functionality (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these Diffserv aspects for real-time network communication, including WebRTC. This document is a product of the DiffServ Applied to Real-time Transports Working Group of the IETF. INFORMATIONAL: This memo provides information for the Internet community. It does not specify an Internet standard of any kind. Distribution of this memo is unlimited. This announcement is sent to the IETF-Announce and rfc-dist lists. To subscribe or unsubscribe, see https://www.ietf.org/mailman/listinfo/ietf-announce https://mailman.rfc-editor.org/mailman/listinfo/rfc-dist For searching the RFC series, see https://www.rfc-editor.org/search For downloading RFCs, see https://www.rfc-editor.org/rfc.html Requests for special distribution should be addressed to either the author of the RFC in question, or to rfc-editor@rfc-editor.org. Unless specifically noted otherwise on the RFC itself, all RFCs are for unlimited distribution. The RFC Editor Team Association Management Solutions, LLC"}
{"_id": "doc-en-dart-0qoM7PySyVMHLs7CSVBHNWlbu8k", "text": "[Dart] Document Action: 'Differentiated Services (DiffServ) and\n Real-time Communication' to Informational RFC\n (draft-ietf-dart-dscp-rtp-10.txt)\nThe IESG has approved the following document: - 'Differentiated Services (DiffServ) and Real-time Communication' (draft-ietf-dart-dscp-rtp-10.txt) as Informational RFC This document is the product of the DiffServ Applied to Real-time Transports Working Group. The IESG contact persons are Richard Barnes and Alissa Cooper. A URL of this Internet Draft is: http://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ Technical Summary This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. Working Group Summary The DART working group was formed in April of 2014. The working group was chartered to focus on a constrained problem and conclude quickly. DART adopted this document with very little controversy. While the working group is nominally in the RAI area, it has been effectively a cross-area effort between RAI and TSV. This document resulted in lively discussion among a core group of experts from both areas. In general, the discussion converged quickly, and there were no unresolved controversies. In the shepherd's opinion, the only impediment to consensus was that discussion kept overturning rocks, forcing participants to think about new issues. One notable issue was whether this draft should offer guidance on the interaction between having multiple DSCPs in a stream and the multiple stream optimization work (draft-ietf-avtcore-rtp-multi-stream-optimisation.) The working group chose to avoid such guidance in this draft, and leave that for the multi-stream draft to solve. Document Quality During the working group last call, we solicited comments from RTCWEB, AVTCORE, MMUSIC, CLUE, TSVWG, and RMCAT. In the shepherd's opinion, it has been well reviewed, and represents a strong consensus. The shepherd does not think it needs any further specific reviews, other than the usual reviews it would receive during the IETF last call process (for example, Gen-ART and SecDir). Since the document does not specify protocol, it will not be directly implemented. However, we expect that at least the RTCWEB working group will incorporate guidance from this document into it's output. Personnel The Document Shepherd is Ben Campbell. The Responsible AD is Richard Barnes."}
{"_id": "doc-en-dart-VD1XhWw1EnYEG1hD5Vr8U8FIrhs", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-09.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-09.txt Pages : 27 Date : 2014-11-09 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering) have transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-09 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-09 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-C4f68HJEvWNYNKrH7xsKOQOGlrM", "text": "[Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nThis is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben."}
{"_id": "doc-en-dart-NHlPypQnKgif3NnG-fhi6R7uR7o", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nHi Brian, with EF I link an expectation of excess traffic being dropped. A rate scheduler with single digit millisecond buffer depth and tail drop like behavior is not an issue. To me, that's a shaper configured to be EF compliant. If such a constraint is not desired then the text may say \"if mapped to a non-EF PHB, excess traffic may be shaped\". I'd like to ask for some explaining text if shaping of EF excess traffic is regarded as a property to be expected for this PHB. If an AF class is used to transport EF, then any potential remarking should be done in a way avoiding re-ordering (i.e. remark to DSCPs within the same AF class only). There's no point in remarking excess EF traffic to a PHB which may cause reordering. I think that's what a text on remarking of EF should express, if remarking is kept as an option to be expected (I've not yet heard of such a deployment). Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Brian E Carpenter [mailto:brian.e.carpenter@gmail.com] Gesendet: Montag, 11. August 2014 22:13 An: Geib, Rüdiger Cc: david.black@emc.com; dart@ietf.org; tsvwg@ietf.org Betreff: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi Ruediger, Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. - looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. - dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. Well, it seems to me to be a SHOULD, with the MUST that you cite below being conditional on \"a mechanism that allows unlimited preemption of other traffic.\" So I would not be at all surprised by deployments that support shaping and remarking. Also, there are certainly implementations that are closer to RFC 2598 or RFC 3248 and therefore less strict. I think the draft should make it clear that there is likely to be variation in actual behaviour for EF traffic that exceeds the nominal rate. (Leaving aside the fact that without a string of matching SLAs along the path, the nominal rate might not even be well defined.) Brian I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. ######################################## RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: dart@ietf.org Cc: Richard Barnes; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; mls.ietf@gmail.com Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart ."}
{"_id": "doc-en-dart-rJ7URczAIY4lXfOL4PPvl9Xb2f0", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-07.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-07.txt Pages : 26 Date : 2014-09-24 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering) have transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-07 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-07 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-rSdl_Ec4waVZ-jFEGyP_GhKf63Q", "text": "Re: [Dart] Gen-art LC review: draft-ietf-dart-dscp-rtp-07\nRobert, Thanks for the review. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. Indeed, that sentence is problematic. I've edited the entire paragraph for clarity. Here's the new text: When PHBs that enable reordering are mixed within a single network 5-tuple, the effect is to mix QoS-based traffic classes within the scope of a single transport protocol connection or association. As these QoS-based traffic classes receive different network QoS treatments, they use different pools of network resources and hence may exhibit different levels of congestion. The result for congestion-controlled protocols is that a separate instance of congestion control functionality is needed per QoS-based traffic class. Current transport protocols support only a single instance of congestion control functionality for an entire connection or association; extending that support to multiple instances would add significant protocol complexity. Traffic in different QoS-based classes may use different paths through the network; this complicates path integrity checking in connection- or association-based protocols, as those paths may fail independently. That's great. Thanks! In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work? Yes, and I've removed \"emission of\" from that proposed text. Ack Thanks, --David -----Original Message----- From: Robert Sparks [mailto:rjsparks@nostrum.com] Sent: Tuesday, October 14, 2014 11:50 AM To: General Area Review Team; draft-ietf-dart-dscp-rtp.all@tools.ietf.org; ietf@ietf.org; dart@ietf.org Subject: Gen-art LC review: draft-ietf-dart-dscp-rtp-07 I am the assigned Gen-ART reviewer for this draft. For background on Gen-ART, please see the FAQ at <http://wiki.tools.ietf.org/area/gen/trac/wiki/GenArtfaq>. Please resolve these comments along with any other Last Call comments you may receive. Document: draft-ietf-dart-dscp-rtp-07 Reviewer: Robert Sparks Review Date: 14-Oct-2014 IETF LC End Date: 14-Oct-2014 IESG Telechat date: not yet scheduled for a telechat Summary: Ready with nits These are very small nits to consider. Please feel free to leave the existing text alone if these suggestions don't help. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work?"}
{"_id": "doc-en-dart-zz05ww6g4NbsyMWgWIC82wQaWTs", "text": "Re: [Dart] Gen-art LC review: draft-ietf-dart-dscp-rtp-07\nRobert - thank you very much for the review. And thanks David for taking the suggestions into account. I have balloted no-objection for this draft in today’s IESG telechat. Jari"}
{"_id": "doc-en-dart--F-_r4xdkgQF7SjXvYfgx7Ip8A0", "text": "[Dart] I-D Action: draft-ietf-dart-dscp-rtp-06.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-06.txt Pages : 27 Date : 2014-08-30 Abstract: This memo describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real- time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirements using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This memo covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-06 A diff from the previous version is available at: http://www.ietf.org/rfcdiff?url2=draft-ietf-dart-dscp-rtp-06 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/"}
{"_id": "doc-en-dart-9AV-jBY16DH1ckInmhRLn3gu9_o", "text": "Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-00.txt\nBen, Thank you for reviewing this draft. I concur with the editor's note to reorganize sections. Thank you - anyone else care to weigh in? -- Section 4, Bullets 3 and 4: Should STP in bullet 4 be SCTP? Yes, I'd plead gasoline fumes ;-), but I actually missed this in rapid-fire editing to try to pick up everything from the productive Toronto dart meeting. If yes, then doesn't this bullet more tightly constrain things than bullet 3, to the point of making bullet 3 redundant? Or am I misreading something? I think that's correct - bullets 3 and 4 should be combined. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:ben@nostrum.com] Sent: Tuesday, August 05, 2014 3:41 PM To: Black, David Cc: dart@ietf.org Subject: Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-00.txt (as individual) -- General I concur with the editor's note to reorganize sections. On my first reading, I was going to comment that I thought we needed more focus on what is really likely to happen, e.g. with WebRTC. On a second reading, I think that's mostly okay, but the consolidation of the RTP sections might make it more clear. -- Section 4, Bullets 3 and 4: Should STP in bullet 4 be SCTP? If yes, then doesn't this bullet more tightly constrain things than bullet 3, to the point of making bullet 3 redundant? Or am I misreading something? Thanks! Ben. As promised, here's the -00 dart WG draft. I think I incorporated almost everything that was discussed in the meeting, but I've surely missed a few things - please comment (on list, or send me editorial changes directly). I want to call attention to this Editor's Note on draft organization: [Editor's Note: Current section structure skips around topics somewhat. The editor suggests restructuring to put real-time/RTP material first (new section 2, consisting of current sections 2, 2.1 and 3), then DiffServ Background (new section 3, consisting of current sections 2.2, 2.3, 2.6 and 2.7, followed by discussion of interactions (new section 4, consisting of current sections 2.4, 2.5 and 5) and guidelines (current section 4, renumbered to new section 5).] If this change is made, I will submit a version that only contains the text rearrangement before making any other changes. The \"game plan\" that I've discussed w/Ben (WG chair) is to revise the draft over about the next week with the resulting version going to WG Last Call, so reading this draft sooner rather than later might be a good idea. Thanks, --David -----Original Message----- From: I-D-Announce [mailto:i-d-announce-bounces@ietf.org] On Behalf Of internet-drafts@ietf.org Sent: Thursday, July 31, 2014 3:08 PM To: i-d-announce@ietf.org Cc: dart@ietf.org Subject: I-D Action: draft-ietf-dart-dscp-rtp-00.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-00.txt Pages : 23 Date : 2014-07-31 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ There's also a htmlized version available at: http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-00 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp://ftp.ietf.org/internet-drafts/ _______________________________________________ I-D-Announce mailing list I-D-Announce@ietf.org https://www.ietf.org/mailman/listinfo/i-d-announce Internet-Draft directories: http://www.ietf.org/shadow.html or ftp://ftp.ietf.org/ietf/1shadow-sites.txt _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-e2KJmQFHVu-o_m0YRmcPdPJjt2M", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nHi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may - Support the PHB and offer the same corresponding DSCP - Not support the PHB and use the DSCP for a different PHB - Not support the PHB and not use the DSCP - Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB - Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:dart-bounces@ietf.org] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: dart@ietf.org Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-DhXF_POJl6SBP0dh8kmGReIU64w", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nAnother question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Quoting RFC 2475: \"A DS domain has a well-defined boundary consisting of DS boundary nodes which classify and possibly condition ingress traffic to ensure that packets which transit the domain are appropriately marked to select a PHB from one of the PHB groups supported within the domain.\" In other words the assumption is that (unless there's an SLA that allows the receiving domain to trust the incoming DSCP), a classifier is needed. My assumption has always been that the default classifier will simply re-mark packets with the default DSCP. We also have \"A DS ingress node is responsible for ensuring that the traffic entering the DS domain conforms to any TCA between it and the other domain to which the ingress node is connected.\" and the definition of a TCA: \" Traffic Conditioning an agreement specifying classifier rules Agreement (TCA) and any corresponding traffic profiles and metering, marking, discarding and/or shaping rules which are to apply to the traffic streams selected by the classifier. A TCA encompasses all of the traffic conditioning rules explicitly specified within a SLA along with all of the rules implicit from the relevant service requirements and/or from a DS domain's service provisioning policy.\" In other words: the treatment of unrecognized DSCPs needs to be stated in the TCA part of the SLA. Of course you could suggest a default approach in diffserv-intercon. Brian"}
{"_id": "doc-en-dart-yzsLkt-s-bGMisda0Higmf9oZVk", "text": "Re: [Dart] Treatment of RTCP - proposed text\nDavid, Should it be the DSCP value of the SSRC being reported on or the DSCP of the SSRC sender? My thought that was if Alice and Bob are sending flows to each other and Bob is sending audio using EF, then when Bob sends out a Sender Report, the packet would be marked EF. The way this is worded, if Alice is sending packets using CS0, then Bob would mark his SR's using CS0. I'm not sure how to handle the RR's, though, particularly of a receive-only device. We could say it would be the same as the flow being reported on, but there might be 31 such flows being reported on. Perhaps if there is agreement that the RTCP packets will be marked in the same way as the sender would send its media, then we say the reports should be marked in the same was as it would if it did send media. So, do we want RTCP packets to be marked the same as the media flow transmitted or the same as the received media flow? Paul ------ Original Message ------ From: \"Black, David\" <david.black@emc.com> To: \"Paul E. Jones\" <paulej@packetizer.com>; \"Ben Campbell\" <ben@nostrum.com>; \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org>; \"Black, David\" <david.black@emc.com> Sent: 8/27/2014 9:58:34 PM Subject: Treatment of RTCP - proposed text Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:paulej@packetizer.com] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: draft-ietf-dart-dscp-rtp.all@tools.ietf.org; dart@ietf.org; avt@ietf.org WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <ben@nostrum.com> To: \"Michael Welzl\" <michawe@ifi.uio.no>; \"Colin Perkins\" <csp@csperkins.org>; \"Paul E. Jones\" <paulej@packetizer.com>; \"Black, David\" <david.black@emc.com> Cc: \"draft-ietf-dart-dscp-rtp.all@tools.ietf.org\" <draft-ietf-dart-dscp-rtp.all@tools.ietf.org>; \"dart@ietf.org\" <dart@ietf.org>; \"avt@ietf.org WG\" <avt@ietf.org> Sent: 8/27/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-cttFvATnKrOa_A9FM1PdkwyXm3U", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nOn 27 Aug 2014, at 06:17, Paul E. Jones <paulej@packetizer.com> wrote: Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. I'm a little confused here. These are separate SSRCs, but all part of a single RTP session. So, wouldn’t the three SSRCs be reported in different report blocks in the sender report? Each of the SSRCs will report on all the others, unless the rtp-multi-stream-optimisation draft is used, but so what? The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? For this, I would argue it should be whatever DSCP that has the lower drop precedence (in the case of assured forwarding). Otherwise, it should be the same as the media, I'd think. You mean the RTCP for each SSRC should use the DSCP with the lowest drop preference of those used for the media sent by that SSRC? -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-RCawZSZBaubQDbVS7rfzC57usrE", "text": "Re: [Dart] HTA's Last Call review - drart-dscp-rtp-02\nHarald, Thank you for carefully reviewing this draft. Comments/responses are inline at DLB>. I’m about to post a -03 version which is not completely done. Thanks, --David From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Harald Alvestrand Sent: Friday, August 22, 2014 9:47 AM To: dart@ietf.org Subject: [Dart] HTA's Last Call review - drart-dscp-rtp-02 Last Call review - drat-ietf-dart-dscp-rtp-02 http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-02!<http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-02> <http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-02> Summary: This document is not ready for IETF Last Call, but close. The recommendations are reasonable and reasonably argued, but the precision and specificity of the language needs to be tightened up before publication. The below addresses some specific concerns. Section 2 nit: “communication in real-time” -> “communication in real time” nit: The complex example needs to mention that there may be non-media streams; suggest “there may be multiple media and non-media streams”. DLB> Fixed both. 2.1 Reference to SSRC for reference clock is wrong - “an RTP stream may contain multiple source streams that use the same reference clock (SSRC)” - this should be “clock, identified by the same CNAME”. The SSRC has to be different for each RTP stream in an RTP session. (The naming choice here is confusing….) DLB> The text refers to a single RTP stream that contains multiple source streams, but only one SSRC. DLB> Are you sure that this needs to change to CNAME from SSRC? I’d prefer not to introduce the CNAME DLB> concept if it’s not necessary. The section needs to mention that RTP can be carried over a non-datagram protocol such as TCP, but that this document does not say more about this - just to show that its omission is deliberate, not accidental. (In fact 5.3 discusses TCP-encapsulated RTP. So it’s appropriate to mention it here.) DLB> Done. STUN is not an encapsulation protocol, so should be omitted from the “encapsulated via STUN” sentence. TURN is. STUN packets are, however, multiplexed with the RTP packets. DLB> Agree, see text in separate message. Agree that the UDP stream is not unidirectional. DLB> Agree, and picked up Colin’s suggested change here. 2.2 STUN/TURN paragraph sits oddly here. It seems to belong outside the “reasons for multiplexing” flow. Perhaps move it to the beginning of the section? Again, STUN description needs tuning; STUN is used also for enabling communication without a relay server, by exchanging publicly-visible IP addresses and ports. DLB> Ok, I see “sits oddly”. I’ve moved this text into Section 2.1 and adjusted it - see the -03 draft when it’s posted. 4. “receiving the audio packets ahead of the video is not useful” -> “is not very useful” - the next sentence gives a reason why it is somewhat useful. DLB> Changed to “significantly ahead” and changed next sentence to be about reliability instead of timing (early). 5.1 Diffserv, Reordering and Transport Protocols The paragraph “Reordering also affects other forms of congestion control” is wrong. The content is OK, but the intro is not - it is the differential treatment (including drop probability) that creates problems for RMCAT, not (just) the reordering. DLB> I don’t think so. If RMCAT can’t cope with a video stream that uses multiple PHBs from an AF class, something is wrong. DLB> I’ll tag this as an open issue in the draft - could you start a separate thread that includes the RMCAT WG to sort this DLB> out? DCCP is sensitive to differential treatment, since it does congestion control, so description of it as “problem free” is wrong. DLB> Yup, serious thinko by yours truly, see other message on that specific topic for new text. I think there are considerations coming from reordering (which affect protocols with immediate feedback, such as ACK-based protocols), and there are consdierations from diferential treatment (guessing wrong about what’s affected by a queue). The former applies to TCP; the latter applies to TCP, SCTP, DCCP, and (probably) whatever RMCAT comes to. These two should be separated. DLB> I’m not sure that I understand what you’re asking for, and I’m not sure whether I agree. I believe that SCTP is DLB> TCP-like in being ACK-based, DCCP is covered by text in the other message on that topic, and “whatever RMCAT comes to” DLB> is speculative (although the draft does have text on Michael Welzl’s concern about coupled congestion controllers that DLB> don’t use measurements to detect bottlenecks). DLB> Is there specific text on this topic that can be identified as wrong or misleading and proposed alternative text? 5.2 DiffServ, reordering and real time communication The last paragraph of the section is somewhat misleading - network packet reordering done for *whatever* reason has no upper bound. If the authors think that packet reordering is more likely to be problematic with different DSCPs than with the same DSCP, that’s what they should say. DLB> Ok, paragraph now reads: Network packet reordering has no effective upper bound, and can exceed the size of any reasonable jitter buffer. In practice, the size of jitter buffers for replay is limited by external factors such as the amount of time that a human is willing to wait for replay to start. Use of different DSCPs that allow reordering is more likely to cause reordering problems than use of a single DSCP or set of DSCPs that does not allow reordering. The reference to RTCP multi-stream optimization seems completely wrong. The grouping into RTCP reporting groups is about receiver SSRCs that see the same set of packets, not about grouping reports about different SSRC together. (unless I’ve misunderstood something). When not using multi-stream optimization, these SSRCs send duplicate reports. DLB> The DART draft text does not mention SSRCs, and appears to be consistent with Section 3 and the first paragraph DLB> of Section 3.1 of draft-ietf-avtcore-rtp-multi-stream-optimisation-03. The point is that any use of different DSCPs DLB> for different RTP streams breaks the (twice-stated) requirement in that AVTCORE draft for an identical view of the DLB> network conditions” across the RTP streams involved, each of which has its own SSRC. DLB> I don’t think the current DART draft text is actually wrong, but I’d welcome editing suggestions that improve clarity. 6. Guidelines The word “requirements” seems at odds with the headline “guidelines”. DLB> Fixed. The word “session” is used several times without explanation - “RTCP session”, “reliable transport protoocol session”. From context, I guess “flow” or “connection” would be more appropriate. DLB> RTCP text will be fixed when open issue is resolved on list. I wonder if the first requirement can be phrased in the positive? For instance: * Within a single RTP stream, should use a single PHB and DSCP, or a set of PHBs and DSCPs that do not allow reordering, for instance a single AF class. DLB> Done, Ben also noticed this. All in all, the document's recommendations are clear and reasonable, but the document can be improved. DLB> Thank you. -- Surveillance is pervasive. Go Dark. Harald, Thank you for carefully reviewing this draft. Comments/responses are inline at DLB>. I’m about to post a -03 version which is not completely done. Thanks,--David From: Dart [mailto:dart-bounces@ietf.org] On Behalf Of Harald AlvestrandSent: Friday, August 22, 2014 9:47 AMTo: dart@ietf.orgSubject: [Dart] HTA's Last Call review - drart-dscp-rtp-02 Last Call review - drat-ietf-dart-dscp-rtp-02http://tools.ietf.org/html/draft-ietf-dart-dscp-rtp-02! Summary: This document is not ready for IETF Last Call, but close.The recommendations are reasonable and reasonably argued, but the precision and specificity of the language needs to be tightened up before publication. The below addresses some specific concerns. Section 2 nit: “communication in real-time” -> “communication in real time”nit: The complex example needs to mention that there may be non-media streams; suggest “there may be multiple media and non-media streams”. DLB> Fixed both. 2.1 Reference to SSRC for reference clock is wrong - “an RTP stream may contain multiple source streams that use the same reference clock (SSRC)” - this should be “clock, identified by the same CNAME”. The SSRC has to be different for each RTP stream in an RTP session. (The naming choice here is confusing….) DLB> The text refers to a single RTP stream that contains multiple source streams, but only one SSRC.DLB> Are you sure that this needs to change to CNAME from SSRC? I’d prefer not to introduce the CNAMEDLB> concept if it’s not necessary. The section needs to mention that RTP can be carried over a non-datagram protocol such as TCP, but that this document does not say more about this - just to show that its omission is deliberate, not accidental.(In fact 5.3 discusses TCP-encapsulated RTP. So it’s appropriate to mention it here.) DLB> Done. STUN is not an encapsulation protocol, so should be omitted from the “encapsulated via STUN” sentence. TURN is. STUN packets are, however, multiplexed with the RTP packets. DLB> Agree, see text in separate message. Agree that the UDP stream is not unidirectional. DLB> Agree, and picked up Colin’s suggested change here. 2.2 STUN/TURN paragraph sits oddly here. It seems to belong outside the “reasons for multiplexing” flow. Perhaps move it to the beginning of the section?Again, STUN description needs tuning; STUN is used also for enabling communication without a relay server, by exchanging publicly-visible IP addresses and ports. DLB> Ok, I see “sits oddly”. I’ve moved this text into Section 2.1 and adjusted it - see the -03 draft when it’s posted. 4. “receiving the audio packets ahead of the video is not useful” -> “is not very useful” - the next sentence gives a reason why it is somewhat useful. DLB> Changed to “significantly ahead” and changed next sentence to be about reliability instead of timing (early). 5.1 Diffserv, Reordering and Transport Protocols The paragraph “Reordering also affects other forms of congestion control” is wrong. The content is OK, but the intro is not - it is the differential treatment (including drop probability) that creates problems for RMCAT, not (just) the reordering. DLB> I don’t think so. If RMCAT can’t cope with a video stream that uses multiple PHBs from an AF class, something is wrong.DLB> I’ll tag this as an open issue in the draft - could you start a separate thread that includes the RMCAT WG to sort thisDLB> out? DCCP is sensitive to differential treatment, since it does congestion control, so description of it as “problem free” is wrong. DLB> Yup, serious thinko by yours truly, see other message on that specific topic for new text. I think there are considerations coming from reordering (which affect protocols with immediate feedback, such as ACK-based protocols), and there are consdierations from diferential treatment (guessing wrong about what’s affected by a queue). The former applies to TCP; the latter applies to TCP, SCTP, DCCP, and (probably) whatever RMCAT comes to. These two should be separated. DLB> I’m not sure that I understand what you’re asking for, and I’m not sure whether I agree. I believe that SCTP isDLB> TCP-like in being ACK-based, DCCP is covered by text in the other message on that topic, and “whatever RMCAT comes to”DLB> is speculative (although the draft does have text on Michael Welzl’s concern about coupled congestion controllers thatDLB> don’t use measurements to detect bottlenecks). DLB> Is there specific text on this topic that can be identified as wrong or misleading and proposed alternative text? 5.2 DiffServ, reordering and real time communication The last paragraph of the section is somewhat misleading - network packet reordering done for *whatever* reason has no upper bound. If the authors think that packet reordering is more likely to be problematic with different DSCPs than with the same DSCP, that’s what they should say. DLB> Ok, paragraph now reads: Network packet reordering has no effective upper bound, and can exceed the size of any reasonable jitter buffer. In practice, the size of jitter buffers for replay is limited by external factors such as the amount of time that a human is willing to wait for replay to start. Use of different DSCPs that allow reordering is more likely to cause reordering problems than use of a single DSCP or set of DSCPs that does not allow reordering. The reference to RTCP multi-stream optimization seems completely wrong. The grouping into RTCP reporting groups is about receiver SSRCs that see the same set of packets, not about grouping reports about different SSRC together. (unless I’ve misunderstood something). When not using multi-stream optimization, these SSRCs send duplicate reports. DLB> The DART draft text does not mention SSRCs, and appears to be consistent with Section 3 and the first paragraphDLB> of Section 3.1 of draft-ietf-avtcore-rtp-multi-stream-optimisation-03. The point is that any use of different DSCPsDLB> for different RTP streams breaks the (twice-stated) requirement in that AVTCORE draft for an identical view of theDLB> network conditions” across the RTP streams involved, each of which has its own SSRC. DLB> I don’t think the current DART draft text is actually wrong, but I’d welcome editing suggestions that improve clarity. 6. Guidelines The word “requirements” seems at odds with the headline “guidelines”. DLB> Fixed. The word “session” is used several times without explanation - “RTCP session”, “reliable transport protoocol session”. From context, I guess “flow” or “connection” would be more appropriate. DLB> RTCP text will be fixed when open issue is resolved on list. I wonder if the first requirement can be phrased in the positive? For instance: * Within a single RTP stream, should use a single PHB and DSCP, or a set of PHBs and DSCPs that do not allow reordering, for instance a single AF class. DLB> Done, Ben also noticed this. All in all, the document's recommendations are clear and reasonable, but the document can be improved. DLB> Thank you. -- Surveillance is pervasive. Go Dark."}
{"_id": "doc-en-dart-kQDuJ_GqEx7COMshOGfAuvtFqG4", "text": "Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02\nHi, The WGLC concludes today. Thank's to everyone who made comments I understand that David will publish a new version in the next few days, incorporating the WGLC feedback. Everyone who commented, please check that version when it comes out and let us know if it reasonably addresses your feedback. If all goes well, we will hand this off to the IESG shortly afterwards. Thanks! Ben. This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: https://datatracker.ietf.org/doc/draft-ietf-dart-dscp-rtp/ The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list Dart@ietf.org https://www.ietf.org/mailman/listinfo/dart"}
{"_id": "doc-en-dart-G098GmycIPnDbmUa2noa_GPwa0g", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nBen, Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Colin Since DSCP values cannot be assumed to any particular PHB behavior in the network, that makes answering that question challenging. My personal preference in a voice/video conference would be to use the same marking as is used for those flows -- and I would use the same value for both voice and video. However, if the app sharing video is considered more important by some applications, perhaps that's the value that should be used in those applications. I can accept the suggestion, leaving the specific selection as an implementation matter. I do wish there was something more concrete so that two devices would always follow the same approach to selecting a value, but I doubt we can get agreement very quickly. Paul -- Colin Perkins http://csperkins.org/"}
{"_id": "doc-en-dart-C3ut32bikzpowXgWJuPxbNYObT0", "text": "Re: [Dart] WGLC Comments on draft-ietf-dart-dscp-rtp-02\n-- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB. \" Oops, I meant to add draft-ietf-rtcweb-data-channel-11 as a reference for WebRTC data channels."}
{"_id": "doc-en-dart-xwkPxTw0j_qoLpcC26YnhvIOu7I", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nOn 27. aug. 2014, at 20:42, Colin Perkins <csp@csperkins.org> wrote: On 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote: On 26 Aug 2014, at 17:38, Black, David <david.black@emc.com> wrote: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable. I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn't check) Cheers, Michael On 27. aug. 2014, at 20:42, Colin Perkins <csp@csperkins.org> wrote:On 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote:On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote:The more difficult case is when an SSRC is sending video using differentmarkings for RTP packets carrying the I- and P-frames. Should that SSRC thenmark its RTCP packets like the RTP packets carrying I-frames, like the RTPpackets carrying P-frames, or what?Answering a question w/a question :-), how are those reports likely to be used?For example, if the primary use of these reports is to adjust a variable ratecodec's sending rate, the P-frame info is probably more useful as indicativeof what's happening to the traffic that the network drops first when the goinggets rough (or whose delivery w/o loss indicates that a sending rate increasemay be reasonable), which suggests P-frame-like RTCP report marking.I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT?I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation.I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable.I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn't check)Cheers,Michael"}
{"_id": "doc-en-dart-50SK71J25lDPDoZC5b1PFHyqPKU", "text": "Re: [Dart] Treatment of RTCP (was Re: Colin Perkins comments -\n WGLC: draft-ietf-dart-dscp-rtp-02)\nColin I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. I'm a little confused here. These are separate SSRCs, but all part of a single RTP session. So, wouldn’t the three SSRCs be reported in different report blocks in the sender report? Each of the SSRCs will report on all the others, unless the rtp-multi-stream-optimisation draft is used, but so what? Oh, I think I understand what you are saying. You're saying that each media flow (SSRC) would be responsible for sending its own RTCP packets and those packets would be marked in the same way as that media flow. In that case, I agree with you. That said, would we really require the sending SSRC to include any data for the other SSRCs if they're each sending RTCP packets separately? That seems redundant. Does RFC 3550 require that? (It's been a while...) The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? For this, I would argue it should be whatever DSCP that has the lower drop precedence (in the case of assured forwarding). Otherwise, it should be the same as the media, I'd think. You mean the RTCP for each SSRC should use the DSCP with the lowest drop preference of those used for the media sent by that SSRC? That's what I'm suggesting. So, a video flow using AF4x would use AF41 for RTCP. I suggest that, since I assume we don't want to lose feedback information if we can avoid it. Paul"}
{"_id": "doc-en-dart-O-7LLnW18JLa7jNwrUiNDfwt6dY", "text": "Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins\n comments - WGLC: draft-ietf-dart-dscp-rtp-02)\nOn 27 Aug 2014, at 19:47, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 20:42, Colin Perkins <csp@csperkins.org> wrote: On 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote: On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote: On 26 Aug 2014, at 17:38, Black, David <david.black@emc.com> wrote: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable. You have the RTT estimate, irrespective of the other information you include along with the regular RTCP packets, although it’s relatively infrequent and coarse-grained. I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn’t check) It probably should talk about this, I agree. -- Colin Perkins http://csperkins.org/ On 27 Aug 2014, at 19:47, Michael Welzl <michawe@ifi.uio.no> wrote:On 27. aug. 2014, at 20:42, Colin Perkins <csp@csperkins.org> wrote:On 27 Aug 2014, at 19:39, Michael Welzl <michawe@ifi.uio.no> wrote:On 27. aug. 2014, at 18:00, Colin Perkins <csp@csperkins.org> wrote:The more difficult case is when an SSRC is sending video using differentmarkings for RTP packets carrying the I- and P-frames. Should that SSRC thenmark its RTCP packets like the RTP packets carrying I-frames, like the RTPpackets carrying P-frames, or what?Answering a question w/a question :-), how are those reports likely to be used?For example, if the primary use of these reports is to adjust a variable ratecodec's sending rate, the P-frame info is probably more useful as indicativeof what's happening to the traffic that the network drops first when the goinggets rough (or whose delivery w/o loss indicates that a sending rate increasemay be reasonable), which suggests P-frame-like RTCP report marking.I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP / RTCP is allowed?! So can we send extra packets to probe for the RTT?I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation.I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable.You have the RTT estimate, irrespective of the other information you include along with the regular RTCP packets, although it’s relatively infrequent and coarse-grained.I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn’t check)It probably should talk about this, I agree.-- Colin Perkinshttp://csperkins.org/"}
{"_id": "doc-en-dart-1JNyM6ctimkEBhpN-kbSeABORD8", "text": "In addition to his helpful comments to the list, Colin Perkins sent me a private suggestion to double check the DART dscp-rtp draft text against this requirement in Section 2 of draft-ietf-rmcat-cc-requirements-05.txt on Congestion Control Requirements For RMCAT: 9. Flows managed by this algorithm and flows competing against at a bottleneck may have different DSCP[RFC5865] markings depending on the type of traffic, or may be subject to flow-based QoS. A particular bottleneck or section of the network path may or may not honor DSCP markings. The algorithm should attempt to leverage DSCP markings when they're available. I think the DART dscp-rtp draft text is ok wrt that RMCAT draft text, as the RMCAT draft uses the unmodified word \"flow\" and hence is silent on presence, absence, and/or scope of multiplexing. It's also the case that the DART draft is supposed to document the present state of things, whereas this RMCAT requirements draft concerns future congestion control mechanisms. OTOH, the text in the DART draft on coupled congestion controllers appears to be somewhat off, as the guideline on avoidance of reordering within the scope of a common (coupled) congestion controller only applies when all bottlenecks are assumed to be shared, as opposed to when measurements are used to detect them. That makes the second half of the first guideline bullet in Section 6 too broad, and may suggest some additional edits to the text on shared bottleneck detection in Section 5.1. Here are the text changes that should correct this situation: -- Section 5.1 OLD Shared bottlenecks can be detected via correlations of measured metrics such as one-way delay. An alternative approach assumes that the set of packets on a single 5-tuple marked with DSCPs that do not allow reordering will utilize a common network path and common forwarding resources at each network node. NEW Shared bottlenecks can be detected via techniques such as correlation of one-way delay measurements across RTP streams. An alternate approach is to assume that the set of packets on a single 5-tuple marked with DSCPs that do not allow reordering will utilize a common network path and common forwarding resources at each network node. -- Section 6 After: o Should not use different PHBs and DSCPs that allow reordering within a single RTP stream. If this is not done, significant network reordering may overwhelm implementation assumptions about reordering limits, e.g., jitter buffer size, causing poor user experiences, see Section 5.2 above. OLD When a common (coupled) congestion controller is used across multiple RTP streams, this recommendation against use of PHBs and DSCPs that allow reordering applies across all of the RTP streams that are within the scope of a single common (coupled) congestion controller. NEW This guideline applies to all of the RTP streams that are within the scope of a common (coupled) congestion controller that does not use per-RTP-stream measurements for bottleneck detection. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id": "doc-en-dart-RJLU3rQbhhhuG4SrAlDHRgn_e7o", "text": "Looking at the list discussion, I think I see enough info to produce a -05 version of this draft that should address all the last call items. Reminder - we had 6 WG LC open issues and work items: [A] Work item: Gorry Fairhurst's item (1), a new Section 5.4 on \"single PHB/DSCP for a single TCP connection, SCTP association or DCCP connection\" - I need to write this text, and will try to do that over the weekend. --Done, as noted previously, this text wound up in section 5.1 of the ---04 draft, along with slimming down of the corresponding guideline in --section 6. I haven't seen a note from Gorry indicating that he's --checked it, though. [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: --I think I see rough agreement that for RTCP SRs, the same DSCP should --be used as the RTP stream being reported on, and for RTCP RRs, the --DSCP to use should be the one that would be used to send a similar --RTP stream. --Beyond that, when an AF class is used, the DSCP with least likelihood --of drop should be used, and for a single RTCP report on multiple RTP --streams for which different DSCPs apply, it's up to the RTCP --implementation to choose one. --There's enough text to write here, including mentioning that RTCP --feedback is not currently used for congestion control, that I think --this should be in a new section 5.4, along with a rewritten guideline --item in Section 6. I hope to send draft text later today. [C] Work item: Request to Ben Campbell for \"additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4.\" --Done, text is in -04, with some minor edits coming in -05. [D] Open issue: Question to Harald Alvestrand - Does CNAME need to be used in section 2.2 text? I hope not. --Closed via a small text deletion in section 2.1 of -04 draft. [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. [F] Open issue: Harald Alvestrand's concerns about the RTCP multi-stream optimization text in section 5.2 . I don't think there's a problem here, but I'm not an expert on the RTCP technology involved, and Harald may not agree. This is a different RTCP issue than [B]. --Not an issue - At least Colin Perkins and I believe the existing --DART draft text is fine, so I don't think there's anything that needs --to be done for this. I'm about to vanish for 2.5 weeks of vacation w/little to no email access, so my goal is to get the -05 version submitted either tomorrow or Saturday. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id": "doc-en-dart-IaxawYK99WrKZlLzhEgxM60wIlM", "text": "On 28 Aug 2014, at 19:12, Black, David <: Looking at the list discussion, I think I see enough info to produce a -05 version of this draft that should address all the last call items. Reminder - we had 6 WG LC open issues and work items: [A] Work item: Gorry Fairhurst's item (1), a new Section 5.4 on \"single PHB/DSCP for a single TCP connection, SCTP association or DCCP connection\" - I need to write this text, and will try to do that over the weekend. --Done, as noted previously, this text wound up in section 5.1 of the ---04 draft, along with slimming down of the corresponding guideline in --section 6. I haven't seen a note from Gorry indicating that he's --checked it, though. [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: --I think I see rough agreement that for RTCP SRs, the same DSCP should --be used as the RTP stream being reported on, and for RTCP RRs, the --DSCP to use should be the one that would be used to send a similar --RTP stream. The distinction between RTCP SR and RR isn’t useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn’t send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. --Beyond that, when an AF class is used, the DSCP with least likelihood --of drop should be used, and for a single RTCP report on multiple RTP --streams for which different DSCPs apply, it's up to the RTCP —implementation to choose one. No. An SSRC that uses different DSCPs in the RTP packets it sends needs to use the DCSP with the least likelihood of drop from that set when sending its RTCP packets. In both cases, the marking of the RTP packets you receive does not affect how you mark the RTCP packets you send. You chose the marking for your RTCP packets based on the marking of the RTP packet you send, not those you receive. Colin --There's enough text to write here, including mentioning that RTCP --feedback is not currently used for congestion control, that I think --this should be in a new section 5.4, along with a rewritten guideline --item in Section 6. I hope to send draft text later today. [C] Work item: Request to Ben Campbell for \"additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4.\" --Done, text is in -04, with some minor edits coming in -05. [D] Open issue: Question to Harald Alvestrand - Does CNAME need to be used in section 2.2 text? I hope not. --Closed via a small text deletion in section 2.1 of -04 draft. [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. [F] Open issue: Harald Alvestrand's concerns about the RTCP multi-stream optimization text in section 5.2 . I don't think there's a problem here, but I'm not an expert on the RTCP technology involved, and Harald may not agree. This is a different RTCP issue than [B]. --Not an issue - At least Colin Perkins and I believe the existing --DART draft text is fine, so I don't think there's anything that needs --to be done for this. I'm about to vanish for 2.5 weeks of vacation w/little to no email access, so my goal is to get the -05 version submitted either tomorrow or Saturday. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ---------------------------------------------------- -- Colin Perkins"}
{"_id": "doc-en-dart-dGuERPYke18kB0xc-NCZjmwDUuM", "text": "On Aug 28, 2014, at 1:22 PM, Colin Perkins <: [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: --I think I see rough agreement that for RTCP SRs, the same DSCP should --be used as the RTP stream being reported on, and for RTCP RRs, the --DSCP to use should be the one that would be used to send a similar --RTP stream. The distinction between RTCP SR and RR isn’t useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn’t send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do?"}
{"_id": "doc-en-dart-SCwTXYLzqp8ryHcbmwLALf1bCuA", "text": "The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do? Yes, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:34 PM To: Colin Perkins Cc: Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On Aug 28, 2014, at 1:22 PM, Colin Perkins <: [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: --I think I see rough agreement that for RTCP SRs, the same DSCP should --be used as the RTP stream being reported on, and for RTCP RRs, the --DSCP to use should be the one that would be used to send a similar --RTP stream. The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do?"}
{"_id": "doc-en-dart-gfgkljL-fDxMVZasaGQJO4LxyVc", "text": "Here's the proposed new section 5.4, with the RTCP multi-stream reporting optimizations text moved into that new section from its current location at the end of 5.3, plus the rewritten Section 6 guideline bullet: 5.4. DiffServ and RTCP The RTP Control Protocol (RTCP) [RFC3550] is used with RTP to monitor quality of service and convey information about RTP session participants. A sender of RTCP packets that also sends RTP packets (i.e., originates an RTP stream) should use the same DSCP marking for both types of packets. If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. If the RTCP sender uses or would use multiple DSCPs that differ only in drop precedence for RTP, then it should use the DSCP with the least likelihood of drop for RTCP to increase the likelihood of RTCP packet delivery. This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same network behavior, including packet loss. This mechanism is highly inappropriate when the RTP streams involved use different DSCPs, even if the corresponding PHBs differ solely in drop precedence. 6. Guidelines [... snip ...] o Should use a single DSCP for RTCP packets, which should be a DSCP used for RTP packets that are or would be sent by the same sender, see Section 5.4. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id": "doc-en-dart-4r_HcRXNy_ESlqbWNC0aSMDt4hI", "text": "On Aug 28, 2014, at 2:41 PM, Black, David <: The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do? Yes, --David Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? (Right now I am not sending audio, video, or interactive-holodeck-with-smell-o-vision)."}
{"_id": "doc-en-dart-imxqG20BQpQuZ7wDmS6BcKUlQLA", "text": "Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? Seems reasonable to me. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:48 PM To: Black, David Cc: Colin Perkins; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On Aug 28, 2014, at 2:41 PM, Black, David <: The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do? Yes, --David Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? (Right now I am not sending audio, video, or interactive-holodeck-with-smell- o-vision)."}
{"_id": "doc-en-dart-2LnD0JyDd8JICDK4i7en93GkHKw", "text": "On 28 Aug 2014, at 20:48, Ben Campbell <: On Aug 28, 2014, at 2:41 PM, Black, David <: The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn’t send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn’t going to do? Yes, --David Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? Yes, that’s how RTP works. -- Colin Perkins"}
{"_id": "doc-en-dart-R5ixVaLoRkzldyu6UPgEy11G5s0", "text": "I'll go add a sentence to explain that to the draft 5.4 text ... Thanks, --David -----Original Message----- From: Colin Perkins [mailto:] Sent: Thursday, August 28, 2014 4:27 PM To: Ben Campbell Cc: Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 28 Aug 2014, at 20:48, Ben Campbell <: On Aug 28, 2014, at 2:41 PM, Black, David <: The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do? Yes, --David Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? Yes, that's how RTP works. -- Colin Perkins"}
{"_id": "doc-en-dart-Y7xA34gqz6ZJCyfFlcRTvOhXpAM", "text": "Minor edit to proposed text below: OLD If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. NEW If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets with media similar to the RTP traffic that it receives. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 28, 2014 3:45 PM To: ; WG () Cc: Black, David; Colin Perkins (); Subject: DART dscp-rtp draft: Proposed RTCP text Here's the proposed new section 5.4, with the RTCP multi-stream reporting optimizations text moved into that new section from its current location at the end of 5.3, plus the rewritten Section 6 guideline bullet: 5.4. DiffServ and RTCP The RTP Control Protocol (RTCP) [RFC3550] is used with RTP to monitor quality of service and convey information about RTP session participants. A sender of RTCP packets that also sends RTP packets (i.e., originates an RTP stream) should use the same DSCP marking for both types of packets. If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. If the RTCP sender uses or would use multiple DSCPs that differ only in drop precedence for RTP, then it should use the DSCP with the least likelihood of drop for RTCP to increase the likelihood of RTCP packet delivery. This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same network behavior, including packet loss. This mechanism is highly inappropriate when the RTP streams involved use different DSCPs, even if the corresponding PHBs differ solely in drop precedence. 6. Guidelines [... snip ...] o Should use a single DSCP for RTCP packets, which should be a DSCP used for RTP packets that are or would be sent by the same sender, see Section 5.4. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id": "doc-en-dart-1JDfiYLOUiKoGEGQveWO3O5ES4Q", "text": "That works for me, thanks! On Aug 28, 2014, at 3:36 PM, Black, David <: Minor edit to proposed text below: OLD If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. NEW If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets with media similar to the RTP traffic that it receives. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 28, 2014 3:45 PM To: ; WG () Cc: Black, David; Colin Perkins (); Subject: DART dscp-rtp draft: Proposed RTCP text Here's the proposed new section 5.4, with the RTCP multi-stream reporting optimizations text moved into that new section from its current location at the end of 5.3, plus the rewritten Section 6 guideline bullet: 5.4. DiffServ and RTCP The RTP Control Protocol (RTCP) [RFC3550] is used with RTP to monitor quality of service and convey information about RTP session participants. A sender of RTCP packets that also sends RTP packets (i.e., originates an RTP stream) should use the same DSCP marking for both types of packets. If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. If the RTCP sender uses or would use multiple DSCPs that differ only in drop precedence for RTP, then it should use the DSCP with the least likelihood of drop for RTCP to increase the likelihood of RTCP packet delivery. This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same network behavior, including packet loss. This mechanism is highly inappropriate when the RTP streams involved use different DSCPs, even if the corresponding PHBs differ solely in drop precedence. 6. Guidelines [... snip ...] o Should use a single DSCP for RTCP packets, which should be a DSCP used for RTP packets that are or would be sent by the same sender, see Section 5.4. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id": "doc-en-dart-N2-PLOhoQ7ubw_7uJKe7NLnwskY", "text": "On 28 Aug 2014, at 20:45, Black, David <: Here's the proposed new section 5.4, with the RTCP multi-stream reporting optimizations text moved into that new section from its current location at the end of 5.3, plus the rewritten Section 6 guideline bullet: 5.4. DiffServ and RTCP The RTP Control Protocol (RTCP) [RFC3550] is used with RTP to monitor quality of service and convey information about RTP session participants. A sender of RTCP packets that also sends RTP packets (i.e., originates an RTP stream) should use the same DSCP marking for both types of packets. If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. If the RTCP sender uses or would use multiple DSCPs that differ only in drop precedence for RTP, then it should use the DSCP with the least likelihood of drop for RTCP to increase the likelihood of RTCP packet delivery. This looks okay (the correction in your next message is good also). You might also add something along the lines of “If the SDP bundle extension [cite] is used to negotiate sending multiple types of media in a single RTP session, then the receivers will send separate RTCP reports for each type of media, using a separate SSRC for each media type; those RTCP reports need to be marked with the DSCP corresponding to the type of media handled by the reporting SSRC.” This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. I don’t think this is a problem. The media doesn’t get consistent network QoS treatment in both directions, and the RTCP is trying to sample the RTT seen by the media, so this is fine. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same network behavior, including packet loss. This mechanism is highly inappropriate when the RTP streams involved use different DSCPs, even if the corresponding PHBs differ solely in drop precedence. This could maybe say “received RTP streams”, since it’s okay to use the rtp-multi-stream-optimisation if you send with different DSCPs (the optimisation is optimising how you send reports about what you receive). 6. Guidelines [... snip ...] o Should use a single DSCP for RTCP packets, which should be a DSCP used for RTP packets that are or would be sent by the same sender, see Section 5.4. Perhaps “Each SSRC should use a single DSCP for RTCP … used by RTP packets that are or would be sent by that SSRC…”? Just “sender\" could be ambiguous, since an endpoint could be a sender for several streams, each of which has a separate SSRC and could use a different DSCP. -- Colin Perkins"}
{"_id": "doc-en-dart-5ugORoGH4WtUpPwgnYHlz9TVneo", "text": "I think the text in -04 looks reasonable. I would like to do two things: The justification for \"single DSCP\" in SCTP and DCCP is \"we don't know what will happen\". A logical consequence is that this recommendation might change as the result of further study, so we might want to add near the bottom of section 5 a sentence saying \"This recommendation may be revisited if experiments and analysis shows compelling reasons to change it.\" I still think the ban against RTCP multi-stream reporting optimization is completely wrong. The reports will correctly reflect the differing packet loss behaviours of the incoming RTP streams, and that's all they should be required to do. I regard the latter as somewhat important. The former is more a matter of taste (if we're arguing based on ignorance, allow for the case where ignorance becomes knowledge). On 08/28/2014 10:25 PM, Ben Campbell wrote: Okay, works for me. Thanks! Ben. On Aug 28, 2014, at 3:15 PM, Black, David <: If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. In private discussion, both Harald and I favored saying less (rather than more) about RMCAT in this DART draft. For that reason I think \"at least not an issue we plan to address\" is a valid characterization of this item. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:44 PM To: Black, David; Harald Tveit Alvestrand Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward (as chair) On Aug 28, 2014, at 1:12 PM, Black, David <: [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. I have mixed feelings on this. If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. David, thoughts? Harald, do you care to comment further?"}
{"_id": "doc-en-dart-cmRrkXoVYy8zqdiuBUaBOe8wti8", "text": "It would be nice if we could close on the multi-stream question really soon now. I don't think I see a consensus here so far. Perhaps this is an area where we should punt and indicate it needs further study? Thanks! Ben. On Aug 29, 2014, at 10:14 AM, Black, David <: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimization text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 6:49 AM To: Ben Campbell; Black, David Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward I think the text in -04 looks reasonable. I would like to do two things: The justification for \"single DSCP\" in SCTP and DCCP is \"we don't know what will happen\". A logical consequence is that this recommendation might change as the result of further study, so we might want to add near the bottom of section 5 a sentence saying \"This recommendation may be revisited if experiments and analysis shows compelling reasons to change it.\" I still think the ban against RTCP multi-stream reporting optimization is completely wrong. The reports will correctly reflect the differing packet loss behaviours of the incoming RTP streams, and that's all they should be required to do. I regard the latter as somewhat important. The former is more a matter of taste (if we're arguing based on ignorance, allow for the case where ignorance becomes knowledge). On 08/28/2014 10:25 PM, Ben Campbell wrote: Okay, works for me. Thanks! Ben. On Aug 28, 2014, at 3:15 PM, Black, David <: If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. In private discussion, both Harald and I favored saying less (rather than more) about RMCAT in this DART draft. For that reason I think \"at least not an issue we plan to address\" is a valid characterization of this item. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:44 PM To: Black, David; Harald Tveit Alvestrand Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward (as chair) On Aug 28, 2014, at 1:12 PM, Black, David <: [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. I have mixed feelings on this. If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. David, thoughts? Harald, do you care to comment further? _______________________________________________ Dart mailing list"}
{"_id": "doc-en-dart-o41g9ipLWjxrD1RpLQFi-TB8B58", "text": "On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimization text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 6:49 AM To: Ben Campbell; Black, David Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward I think the text in -04 looks reasonable. I would like to do two things: The justification for \"single DSCP\" in SCTP and DCCP is \"we don't know what will happen\". A logical consequence is that this recommendation might change as the result of further study, so we might want to add near the bottom of section 5 a sentence saying \"This recommendation may be revisited if experiments and analysis shows compelling reasons to change it.\" I still think the ban against RTCP multi-stream reporting optimization is completely wrong. The reports will correctly reflect the differing packet loss behaviours of the incoming RTP streams, and that's all they should be required to do. I regard the latter as somewhat important. The former is more a matter of taste (if we're arguing based on ignorance, allow for the case where ignorance becomes knowledge). On 08/28/2014 10:25 PM, Ben Campbell wrote: Okay, works for me. Thanks! Ben. On Aug 28, 2014, at 3:15 PM, Black, David <: If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. In private discussion, both Harald and I favored saying less (rather than more) about RMCAT in this DART draft. For that reason I think \"at least not an issue we plan to address\" is a valid characterization of this item. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:44 PM To: Black, David; Harald Tveit Alvestrand Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward (as chair) On Aug 28, 2014, at 1:12 PM, Black, David <: [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. I have mixed feelings on this. If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. David, thoughts? Harald, do you care to comment further?"}
{"_id": "doc-en-dart-q6mAvLe2yJfGKkNlT7rDHLRHJoI", "text": "On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I’m about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I’m about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I’m not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it’s not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I’m not sure that’s the sentence we have above. -- Colin Perkins"}
{"_id": "doc-en-dart-sPHD0dSrTqMKmcujza_9q19Vrkk", "text": "If DSCP choice for the reduced number of reports is orthogonal to use of the RTCP multi-stream optimisation, then I think the DART draft paragraph on that optimisation can be removed. Consideration of the DSCP that will be used to send the reports may be a consideration in selecting the SSRC that reports on behalf of the reporting group (as we've tied the DSCP for RTCP to the originating SSRC), but that's probably better addressed (if relevant) in the multi-stream optimisation draft. Further comments? Thanks, --David +++Sent from Blackberry ----- Original Message ----- From: Colin Perkins [mailto:] Sent: Friday, August 29, 2014 12:04 PM To: Harald Alvestrand <: Black, David; Ben Campbell <; <: Re: [Dart] draft-dart-dscp-rtp - way forward On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I’m about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I’m about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I’m not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it’s not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I’m not sure that’s the sentence we have above. -- Colin Perkins"}
{"_id": "doc-en-dart-Pn0QpmsDjSJP3tQO7ymlMkwRg44", "text": "On Aug 29, 2014, at 1:23 PM, Black, David <: If DSCP choice for the reduced number of reports is orthogonal to use of the RTCP multi-stream optimisation, then I think the DART draft paragraph on that optimisation can be removed. Consideration of the DSCP that will be used to send the reports may be a consideration in selecting the SSRC that reports on behalf of the reporting group (as we've tied the DSCP for RTCP to the originating SSRC), but that's probably better addressed (if relevant) in the multi-stream optimisation draft. Further comments? From the conversation so far, I agree."}
{"_id": "doc-en-dart-QbcJc5XSE0l8YEfjAts9q2Usw0w", "text": "On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I’m about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I’m about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I’m not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it’s not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I’m not sure that’s the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id": "doc-en-dart-OtTG35iBDn6qG9KdKMELKpKrYjg", "text": "Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id": "doc-en-dart-j7E6VXIQ8mjbjfxm-ER0tN-a9Mc", "text": "On 08/29/2014 10:09 PM, Black, David wrote: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Looks good to me! Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. -- Surveillance is pervasive. Go Dark."}
{"_id": "doc-en-dart-s7ar86FqFc2sqNOlml_9H0STC3s", "text": "Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id": "doc-en-dart-3peUmbgkskrMR5Q5WgkAUwv7XyE", "text": "Correct!! Thanks, --David +++Sent from Blackberry ----- Original Message ----- From: Ben Campbell [mailto:] Sent: Friday, August 29, 2014 04:16 PM To: Black, David Cc: Harald Tveit Alvestrand <; Colin Perkins <; <: Re: [Dart] draft-dart-dscp-rtp - way forward Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id": "doc-en-dart-cx_txSFUhvAzRPrwiDSLmmeyDAo", "text": "Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id": "doc-en-dart-du42Ipw_vTtvYWVaQ0LOio6P0Ns", "text": "Ben, The guidance looks fine to me, but the explanatory text in the last paragraph of Section 5.4 is perhaps not quite right. The text: This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. suggests that the RTT estimate derived from RTCP will be unrepresentative, since it may not have consistent network QoS in each direction. However, since the RTP media packets can use different QoS in each direction, the RTCP also needs to do so, to be representative! If the media used different QoS markings for different directions and the RTCP used the same marking, the RTT estimate wouldn’t match that of the media. I suggest the paragraph be changed to: This guidance may result in different DSCP markings for RTP streams and the RTCP packets reporting on those RTP streams. The resulting variation in network QoS treatment by traffic direction is necessary to get representative round trip time (RTT) estimates that correspond to the media path RTT. RTCP receiver reports may be relatively infrequent and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is important that RTCP receiver reports sent by an SSRC receive the same network QoS treatment as the RTP stream being sent by that SSRC. Colin On 31 Aug 2014, at 01:26, Ben Campbell <: Colin and Harald, I see David has submitted version 06. Can you verify that you are okay with the language in this version? Thanks! Ben. On Aug 29, 2014, at 4:55 PM, Colin Perkins <: Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. _______________________________________________ Dart mailing list -- Colin Perkins"}
{"_id": "doc-en-dart-FsmlSnHFDQ74D7Jg6Vj9vMEQhao", "text": "This illustrates well the thought that media RTT is not a good concept - each media stream goes only one way.... On 1. september 2014 13:10:41 CEST, Colin Perkins <: Ben, The guidance looks fine to me, but the explanatory text in the last paragraph of Section 5.4 is perhaps not quite right. The text: This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. suggests that the RTT estimate derived from RTCP will be unrepresentative, since it may not have consistent network QoS in each direction. However, since the RTP media packets can use different QoS in each direction, the RTCP also needs to do so, to be representative! If the media used different QoS markings for different directions and the RTCP used the same marking, the RTT estimate wouldn’t match that of the media. I suggest the paragraph be changed to: This guidance may result in different DSCP markings for RTP streams and the RTCP packets reporting on those RTP streams. The resulting variation in network QoS treatment by traffic direction is necessary to get representative round trip time (RTT) estimates that correspond to the media path RTT. RTCP receiver reports may be relatively infrequent and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is important that RTCP receiver reports sent by an SSRC receive the same network QoS treatment as the RTP stream being sent by that SSRC. Colin On 31 Aug 2014, at 01:26, Ben Campbell <: Colin and Harald, I see David has submitted version 06. Can you verify that you are okay with the language in this version? Thanks! Ben. On Aug 29, 2014, at 4:55 PM, Colin Perkins <: Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. _______________________________________________ Dart mailing list -- Colin Perkins -- Sent from my Android device with K-9 Mail. Please excuse my brevity."}
{"_id": "doc-en-dart-L7j222pAKh4QKB8HI_BcyjoiWcM", "text": "Makes sense - let me see if I can find time for one more edit this evening ... Thanks, --David +++Sent from Blackberry ----- Original Message ----- From: Colin Perkins [mailto:] Sent: Monday, September 01, 2014 07:10 AM To: Ben Campbell <: Harald Tveit Alvestrand <; Black, David; <: Re: [Dart] draft-dart-dscp-rtp - way forward Ben, The guidance looks fine to me, but the explanatory text in the last paragraph of Section 5.4 is perhaps not quite right. The text: This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. suggests that the RTT estimate derived from RTCP will be unrepresentative, since it may not have consistent network QoS in each direction. However, since the RTP media packets can use different QoS in each direction, the RTCP also needs to do so, to be representative! If the media used different QoS markings for different directions and the RTCP used the same marking, the RTT estimate wouldn’t match that of the media. I suggest the paragraph be changed to: This guidance may result in different DSCP markings for RTP streams and the RTCP packets reporting on those RTP streams. The resulting variation in network QoS treatment by traffic direction is necessary to get representative round trip time (RTT) estimates that correspond to the media path RTT. RTCP receiver reports may be relatively infrequent and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is important that RTCP receiver reports sent by an SSRC receive the same network QoS treatment as the RTP stream being sent by that SSRC. Colin On 31 Aug 2014, at 01:26, Ben Campbell <: Colin and Harald, I see David has submitted version 06. Can you verify that you are okay with the language in this version? Thanks! Ben. On Aug 29, 2014, at 4:55 PM, Colin Perkins <: Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. _______________________________________________ Dart mailing list -- Colin Perkins"}
{"_id": "doc-en-dart-xSD7B7H6r9FhChndE7ni8eYPwdo", "text": "I already requested publication on 06, so please hold off on submitting a new version for the moment. I want to coordinate any updates with Richard. I think this is something we can update in any new revision from his AD review, or as part of the IETF last call. On Sep 1, 2014, at 6:22 AM, Black, David <: Makes sense - let me see if I can find time for one more edit this evening ... Thanks, --David +++Sent from Blackberry ----- Original Message ----- From: Colin Perkins [mailto:] Sent: Monday, September 01, 2014 07:10 AM To: Ben Campbell <: Harald Tveit Alvestrand <; Black, David; <: Re: [Dart] draft-dart-dscp-rtp - way forward Ben, The guidance looks fine to me, but the explanatory text in the last paragraph of Section 5.4 is perhaps not quite right. The text: This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. suggests that the RTT estimate derived from RTCP will be unrepresentative, since it may not have consistent network QoS in each direction. However, since the RTP media packets can use different QoS in each direction, the RTCP also needs to do so, to be representative! If the media used different QoS markings for different directions and the RTCP used the same marking, the RTT estimate wouldn’t match that of the media. I suggest the paragraph be changed to: This guidance may result in different DSCP markings for RTP streams and the RTCP packets reporting on those RTP streams. The resulting variation in network QoS treatment by traffic direction is necessary to get representative round trip time (RTT) estimates that correspond to the media path RTT. RTCP receiver reports may be relatively infrequent and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is important that RTCP receiver reports sent by an SSRC receive the same network QoS treatment as the RTP stream being sent by that SSRC. Colin On 31 Aug 2014, at 01:26, Ben Campbell <: Colin and Harald, I see David has submitted version 06. Can you verify that you are okay with the language in this version? Thanks! Ben. On Aug 29, 2014, at 4:55 PM, Colin Perkins <: Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08/29/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08/29/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. _______________________________________________ Dart mailing list -- Colin Perkins"}
