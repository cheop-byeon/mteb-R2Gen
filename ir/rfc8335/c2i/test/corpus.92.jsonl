{"_id":"doc-en-intarea-1djGS7zjt8M-Okz4BDA0M2AP07A","title":"","text":"Re: [Int-area] Opsdir telechat review of draft-ietf-intarea-probe-07\nStephan, Thanks for the thoughtful review. Responses inline. Rpn -----Original Message----- From: ietf [mailto:ietf-bounces@ietf.org] On Behalf Of Stefan Winter Sent: Monday, December 4, 2017 9:02 AM To: ops-dir@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Opsdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Stefan Winter Review result: Has Issues Issues: * Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. [RB ] If the L-bit is clear, the proxy interface does not ping the probed interface. Instead, the node upon which the proxy interface resides executes the following procedure: - Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. - If no entry is found, send a reply stating No Such Interface - If an entry is found, send a reply stating that the interface is active As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table \/ Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table \/ Neighbor Cache. So, I recommend that we change the procedure as follows: - Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. - If no entry is found, send a reply stating No Such ARP \/ NC Entry (This is a new error code) - If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you? * Request -> L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. [RB ] Sometimes, this is not possible. For example, assume that a router has interfaces ge-0\/0\/0.0 and ge-0\/0\/1.0. The local side of ge-0\/0\/0.0 had the IPv6 link local address fe80::dead:beef. The remote side of the interface ge-0\/0\/1.0 has the same IPv6 link local address. The user can set or clear the L-bit to indicate which interface is being probed. Without the L-but, PROBE would return an error (Multiple Interfaces Satisfy Query). [RB ] > Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; [RB ] See above the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] [RB ] How are these contradictory? The user sets the L-bit if the proxy and probed interfaces are on the same node. The user clears the L-bit of the proxy interface is on a node that is directly connected to the probed interface? b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] [RB ] I don't see the contradiction. If you are querying a non-local interface, you are going to search the ARP Table \/ Neighbor Cache. So, you need to query by address. You don't know the remote interface name or interface index. The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L- Bit clear is default off already. [RB ] I'm not sure that I follow this paragraph * Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). [RB ] Fair enough. I will change them to 4-bit and 6-bit Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. [RB ] This objection may be cleared up as a side effect of clearing the previous objection * Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. [RB ] It is a dictionary attack using a very small dictionary ;-) My point wasn't so much to explain how an attacker might discover interface names, but to warn that it is possible. Nits: * Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous. [RB ] Good catch. Fixed in the next version."}
{"_id":"doc-en-intarea-WrQdz8tngsjC2B-NiU1GiHftyWs","title":"","text":"Re: [Int-area] [Gen-art] Genart telechat review of\n draft-ietf-intarea-probe-07\nStewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:stewart.bryant@gmail.com] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <rbonica@juniper.net>; Joel M. Halpern <jmh@joelhalpern.com>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org; pals-chairs@tools.ietf.org; mpls-chairs@ietf.org; l2tpext-chairs@ietf.org; The IESG <iesg@ietf.org> Subject: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. - Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:jmh@joelhalpern.com] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <rbonica@juniper.net>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list Gen-art@ietf.org https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_mail man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e="}
{"_id":"doc-en-intarea-v62fZ6RknI_udrf4ZL2aMqrg3ek","title":"","text":"Re: [Int-area] New Version Notification for\n draft-ietf-intarea-probe-02.txt\nIt's partly there, but not quite ready. If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. First, you and I talked about it being required to be an ifName, where above still has a SHOULD. Second, ifName is defined as a DisplayString, and DisplayString is defined as 0-255 ASCII characters, so the truncation part is irrelevant. I would replace the paragraph with just: If the Interface Identification Object identifies the probed interface by name, the object payload MUST be the MIB-II [RFC2863] ifName. Dave -----Original Message----- From: Ron Bonica [mailto:rbonica@juniper.net] Sent: Saturday, July 22, 2017 12:29 PM To: intarea-chairs@ietf.org; int-area@ietf.org; Dave Thaler <dthaler@microsoft.com> Subject: FW: New Version Notification for draft-ietf-intarea-probe-02.txt Folks, I have updated draft-intarea-probe-02 to reflect Dave Thaler' s comment. Dave, Please look at the diff to see of this change reflects your recommendation. Chairs, If Dave thinks that his comment has been addressed, could we initiate a WG last call? Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Saturday, July 22, 2017 9:21 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-02.txt A new version of I-D, draft-ietf-intarea-probe-02.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 02 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-07-22 Group: intarea Pages: 17 URL: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fwww.i etf.org%2Finternet-drafts%2Fdraft-ietf-intarea-probe- 02.txt&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f35 5b08d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636 363485276071855&sdata=3l%2Fi4WAtbXZ2uVedTddXWgVRjPSoHDCcavUH2lp Lf90%3D&reserved=0 Status: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fdatatr acker.ietf.org%2Fdoc%2Fdraft-ietf-intarea- probe%2F&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b 1f355b08d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C 636363485276071855&sdata=sYgNOiyesuofXlBYj%2F9LhZ6yDsyx6VDS9nV%2B 17uRbcY%3D&reserved=0 Htmlized: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Ftools.i etf.org%2Fhtml%2Fdraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=ri9slj0Joixtj7k3cpd4PP56eduGh941783bRVAK9mY%3D &reserved=0 Htmlized: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fdatatr acker.ietf.org%2Fdoc%2Fhtml%2Fdraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=LAIOJahlwvEKNYddfaJ7ARDmYZSR%2FiG%2B3JqP6kAG DZI%3D&reserved=0 Diff: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fwww.i etf.org%2Frfcdiff%3Furl2%3Ddraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=5ZOJy6AIPCx9pErz7Mw96t8u6eB7gZvWUJ%2F9V%2Bq DmRw%3D&reserved=0 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-I6JNdkY54QaVw5qESXHEWbxf4wo","title":"","text":"[Int-area] [IANA #992480] FW: New Version Notification for\n draft-ietf-intarea-probe-08.txt\nHi Ron, We need to ask for one more thing that we didn't ask for in our review, and it's because there's an error in the registration procedure data in the registries. Both https:\/\/www.iana.org\/assignments\/icmpv6-parameters and https:\/\/www.iana.org\/assignments\/icmp-parameters incorrectly state that the IESG Approval or Standards Action are the registration procedures for all \"Code\" registries. However, RFC 4443 and RFC 2780 state that \"The policy for assigning Code values for new IPv6 ICMP Types not defined in this document should be defined in the document defining the new Type\" (https:\/\/tools.ietf.org\/html\/rfc4443#section-6.1) and \"The policy for assigning Code values for new IPv4 ICMP Types should be defined in the document defining the new Type value\" (https:\/\/tools.ietf.org\/html\/rfc2780, section 6). Can you provide registration procedures for all of the Code registries? For our purposes, these could be added to the document as late as after IESG approval, when we're completing the actions, if that's more convenient\/appropriate. Was our identification of 15 as the maximum values for the Code registries correct? Amanda Folks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-08 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-08 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-08 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-yJG_d3tk3AoCEKuM5k_MTgNsJ8o","title":"","text":"Re: [Int-area] question about xping (draft-bonica-intarea-eping)\nSowmini, You have convinced me that there should be no information leaking at all. So, I think that the next version of the draft should enforce the following rules: - If the destination and probed interfaces are in the same VRF\/routing instance\/namespace, the ICMP Extended Echo Reply message will reflect the state of the probe interface - Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. Do you agree? Yes, that's a much more consistent model (esp since the same IP address can itself exist in multiple VRFs) and also extends without loss of generality to other virtualization models. thanks for addressing this! --Sowmini"}
{"_id":"doc-en-intarea-EEIw03PO1mBPQEJGap1ciqPQrY8","title":"","text":"Re: [Int-area] question about xping (draft-bonica-intarea-eping)\nGood point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: - If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface - If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface - Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ok, but what about other forms of VRF-like virtualization like network namespaces? Things can get a bit trickier here because the same ifname can exist in multiple virtual objects. Also, interface ownership can be more blurry for some of these virtualization models like network namespaces- it's not always clear that the hypervisor (\"default netns\") owns the interface, when the interface is virtual. --Sowmini"}
{"_id":"doc-en-intarea-z_bCq77HjiTB6MgZVqrj30v-kuc","title":"","text":"Re: [Int-area] An extension to  PROBE [RFC8335] diagnostic tool\nDear Manoj, We have posted 01 version of the draft “Probing IP Interfaces By Vendor Specific Identifiers”. This draft is extension to PROBE [RFC8335] diagnostic tool. The tool is extended so that the tool can identify the probed interface by Vendor Specific Identifiers , i.e Virtual Function Index (VFI) [SR-IOV]. This version of the draft has taken care of review comments provided for 00 version of the draft. Our draft is available at: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__www.ietf.org_internet-2Ddrafts_draft-2Dnayak-2Dintarea-2Dprobe-2Dby-2Dvfi-2D00.txt&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=yA4ZWVIeZge8k5n5C9m5Z-zj1dDJa0l6co6CaJ-JuJI&m=XUXYC3xqcaLYKixeq5vjqYz44nVjof_RBcsgZEe5Mw0&s=-V7zNXS7z4KClqgl40QrcWV4ZKfFZ_esDg_BAYZYmbU&e= The Abstract is: This document enhances the PROBE diagnostic tool so that it can identify the probed interface by Vendor Specific Identifiers. In order to achieve that goal, this document also extends the Interface Identification Object. The Interface Identification Object is an ICMP Extension Object class. Any comments will be welcome. I've not been able to find any implementations of the PROBE tool so far, (I also shared that observation here https:\/\/www.spinics.net\/lists\/ietf\/msg86865.html) I'm not sure what's being standardized and what IETF's role is if there is no running code, but hopefully I'm behind the times! Can you perhaps share interopability reports, or show what testing between vendors has been done in context of PROBE? Are there open source implementations by now? Kind regards, Job"}
{"_id":"doc-en-intarea-8jcJLM_a82XxLPjLT2RO9Dg2l58","title":"","text":"Re: [Int-area] \n =?utf-8?q?Mirja_K=C3=BChlewind=27s_No_Objection_on_dr?=\n =?utf-8?q?aft-ietf-intarea-probe-09=3A_=28with_COMMENT=29?=\nHi Mirja, The bit lengths are in the RFC 4884 Object Header, along with Class-num and c-type. Ron -----Original Message----- From: Mirja Kühlewind [mailto:ietf@kuehlewind.net] Sent: Thursday, December 14, 2017 7:28 AM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Mirja Kühlewind's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Mirja Kühlewind has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_iesg_statement_discuss- 2Dcriteria.html&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=wagsA7kXLCdoNtV0n85HcSoIuslPMmwR7Eo8Af __X3s&s=jXHhgSCYDvkd1s2Fm7b3SLmbqU8wul5-ZOOunwtOkgs&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=wagsA7kXLCdoNtV0n85HcSoIuslPMmwR7Eo8Af __X3s&s=dywj-fNrHXVcnSy65NvAMNEyI1au-yphW1XjT9rn1SM&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I just had a very brief read of this document, but otherwise I'm missing something, I believe the bit lengths of the fields of the Interface Identification Object are not specified. Is there maybe an image missing?"}
{"_id":"doc-en-intarea-pBkduai-bpy44NlafI77_4sbfCU","title":"","text":"Re: [Int-area] Eric Rescorla's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nHi Eric, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Eric Rescorla [mailto:ekr@rtfm.com] Sent: Tuesday, December 12, 2017 7:21 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Eric Rescorla's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection [RB ] [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? [RB ] The ACL doesn't list all probe-capable nodes. It is configure on a probe-capable node and it enumerates the prefixes from which it will accept an ICMP Extended Echo Request. For example, assume that an ISP deploys PROBE capable software on its routers. By default, these routers won't accept an ICMP Extended Echo Request from anybody. The ISP will probably want to enable PROBE, but only if the ICMP Extended Echo Request comes from the NOC or from a few other trusted prefixes. So, the ISP will put those prefixes into the ACL. I am thinking that the number of prefixes will typically be very small (e.g., the NOC). or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. [RB ] The proxy node could ping the probed interface, but that would require the router to main state. We don't want to go there for scaling and security reasons. Rather than doing that, PROBE looks for an entry in the ARP Table and Neighbor Cache. Prior version 08 of this draft, the proxy node assumed that the probed interface does not exist if it is not in the ARP Table and Neighbor Cache. IETF LC reviewers pointed out that this assumption is not safe. So now, the proxy node reports that the table entry does not exist. In no longer reports that the interface does not exist. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? [RB ] This is a parameter to the Probe application. See the appendix. View Inlinedraft-ietf-intarea-probe.txt:365 Ethernet is running on the probed interface. Otherwise, the E-bit is clear. This seems pretty limited. Does \"WiFi\" count for instance? [RB ] The E-bit was removed in response to last call comments"}
{"_id":"doc-en-intarea-F9hMdkjkCeqt9liSgHqkHKNLfDU","title":"","text":"[Int-area] =?utf-8?q?Mirja_K=C3=BChlewind=27s_No_Objection_on_dra?=\n =?utf-8?q?ft-ietf-intarea-probe-09=3A_=28with_COMMENT=29?=\nMirja Kühlewind has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/www.ietf.org\/iesg\/statement\/discuss-criteria.html for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I just had a very brief read of this document, but otherwise I'm missing something, I believe the bit lengths of the fields of the Interface Identification Object are not specified. Is there maybe an image missing?"}
{"_id":"doc-en-intarea-6yfr1DOifwyea-TDThgfZtcxW80","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-10.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-10.txt Pages : 17 Date : 2017-12-15 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-10 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-10 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-10 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-4lelSBfewJ_Do6SJLL36nMdg5-s","title":"","text":"Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt\nHi, Ron, Authors, As I was reading over draft-ietf-intarea-probe-00, and wanted to share a couple of observations for your consideration. * Have you considered the tradeoff of defining new ICMP Types versus extending existing ICMP Types? If using existing ICMPv6 Echo Request\/Reply and extending them instead of defining brand new types, the backwards interoperability achieved is higher * Have you considered using other protocols as well in addition to ICMP for the PROBE message, which can elicit ICMP errors or responses with appropriate extensions? In particular UDP is a protocol much used and desired for probes. These two points actually reminded me of https:\/\/tools.ietf.org\/html\/draft-shen-traceroute-ping-ext-04 (and the ICMP-only predecessor draft-shen-udp-traceroute-ext-01) that defines a probe extension applied to ICMP Echo Request and UDP, and RFC 4884 extensions to responses. That approach seems somewhat more generic. Additionally, I was also reminded of the ICMP AUP at RFC 7279, it would be useful to map against that doc to show how this is (as it is the case) a really good use of ICMP. Thanks! — Carlos. On Jun 23, 2017, at 3:55 PM, internet-drafts@ietf.org<mailto:internet-drafts@ietf.org> wrote: A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-00.txt Pages : 17 Date : 2017-06-23 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-00 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-00 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/ _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/www.ietf.org\/mailman\/listinfo\/int-area — Carlos Pignataro, carlos@cisco.com<mailto:carlos@cisco.com> “Sometimes I use big words that I do not fully understand, to make myself sound more photosynthesis.\" Hi, Ron, Authors, As I was reading over draft-ietf-intarea-probe-00, and wanted to share a couple of observations for your consideration. Have you considered the tradeoff of defining new ICMP Types versus extending existing ICMP Types? If using existing ICMPv6 Echo Request\/Reply and extending them instead of defining brand new types, the backwards interoperability achieved is higherHave you considered using other protocols as well in addition to ICMP for the PROBE message, which can elicit ICMP errors or responses with appropriate extensions? In particular UDP is a protocol much used and desired for probes. These two points actually reminded me of https:\/\/tools.ietf.org\/html\/draft-shen-traceroute-ping-ext-04 (and the ICMP-only predecessor draft-shen-udp-traceroute-ext-01) that defines a probe extension applied to ICMP Echo Request and UDP, and RFC 4884 extensions to responses. That approach seems somewhat more generic. Additionally, I was also reminded of the ICMP AUP at RFC 7279, it would be useful to map against that doc to show how this is (as it is the case) a really good use of ICMP. Thanks! — Carlos. A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-00.txt Pages : 17 Date : 2017-06-23 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-00 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-00 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/ _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/www.ietf.org\/mailman\/listinfo\/int-area — Carlos Pignataro, carlos@cisco.com “Sometimes I use big words that I do not fully understand, to make myself sound more photosynthesis.\""}
{"_id":"doc-en-intarea-i2Y_KrbC3qm6VAlBWxvMau5n_R0","title":"","text":"Re: [Int-area] \n =?utf-8?q?Mirja_K=C3=BChlewind=27s_No_Objection_on_dr?=\n =?utf-8?q?aft-ietf-intarea-probe-09=3A_=28with_COMMENT=29?=\nAh, thanks! Missed that! Am 14.12.2017 um 18:22 schrieb Ron Bonica <rbonica@juniper.net>: Hi Mirja, The bit lengths are in the RFC 4884 Object Header, along with Class-num and c-type. Ron -----Original Message----- From: Mirja Kühlewind [mailto:ietf@kuehlewind.net] Sent: Thursday, December 14, 2017 7:28 AM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Mirja Kühlewind's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Mirja Kühlewind has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_iesg_statement_discuss- 2Dcriteria.html&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=wagsA7kXLCdoNtV0n85HcSoIuslPMmwR7Eo8Af __X3s&s=jXHhgSCYDvkd1s2Fm7b3SLmbqU8wul5-ZOOunwtOkgs&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=wagsA7kXLCdoNtV0n85HcSoIuslPMmwR7Eo8Af __X3s&s=dywj-fNrHXVcnSy65NvAMNEyI1au-yphW1XjT9rn1SM&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I just had a very brief read of this document, but otherwise I'm missing something, I believe the bit lengths of the fields of the Interface Identification Object are not specified. Is there maybe an image missing?"}
{"_id":"doc-en-intarea-wRIILdKf83LGixejhL9kOICx5jg","title":"","text":"Re: [Int-area] [OPS-DIR] Opsdir telechat review of\n draft-ietf-intarea-probe-07\nHello, I've taken a look at -10 now. All of my nittry-gritty has cleared. The one thing I'm still not sure about the \/wording\/ is the L-bit question. With your explanations below, I think I now get the intent of the L-bit and understand its usefulness. The text I see in -10 still doesn't seem to be in line with those explanations. Maybe it's just English grammar issues, feel free to tell me if I'm on the wrong side of the language barrier. * I understood your explanations to mean: with the L-Bit, the probING interface directs the PROXY interface: - L-Bit set: probing interface requests that proxy interface only considers the internal state of (its own) probED interface - L-Bit not set: probING interface instructs PROXY interface to consult ARP\/NC to infer the state of probED interface It is then a simple corollary that clearing the L-bit only makes sense when probing by address; because that's the only identifier that is contained in the ARP \/ NC databases. But when I read chapter 2 \/ ICMP fields: L bit text: \"The L-bit is set if the probed interface resides on the proxy node. The L-bit is clear if the probed interface is directly connected to the proxy node.\" And this is where I difficulties. The relationship between proxy and probed is either \"resides-on\" or \"connected-to\". So the probING device does almost never have a degree of freedom when populating the L-bit. The only opportunity when it can make a choice is if it is identifying the probed interface by-address, and the address exists both on the proxy node and on a link on a directly connected node. Then, and only then, the L-Bit actually signals \"I mean the remote one \/ I mean the local one\". In all other cases, the L-Bit is superfluous as its set\/notset state is dictated by the network architecture. This is, ultimately, what the quoted text above says - but it's written in a back-to-front way IMHO; it doesn't tell an implementer what to \/do\/ with the L-bit, but rather where it's value came from. With my interpretation of the intent, a text which fits much more naturally to me would be along the lines of: \"If the L-bit is set, the proxy interface must infer the most adequate reply from its internal state; if it is not set, the proxy interface must consult the ARP and\/or Neighbor Cache databases for the probed interface address to determine its state.\" If I'm still totally besides the point, I'm prepared to give up and let go on this point :-) The only other significant point I'd like some more discussion on is: \"As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table \/ Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table \/ Neighbor Cache. So, I recommend that we change the procedure as follows: - Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. - If no entry is found, send a reply stating No Such ARP \/ NC Entry (This is a new error code) - If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you?\" That's much better than before! It now comes out clearer that any reply that's given does not have certainty (\"No such Entry\" != \"doesn't exist\"; \"No error\" != \"Interface active right now\". That reply has a low operational value though (it had that before the wording change already). I.e. I sent a PROBE to find out if address X is alive and kicking, but the reply is \"maybe\" because old entries in ARP\/NC might not reflect current reality. I wouldn't trust PROBE's results if operating in cleared-L-Bit mode (and, ultimately, wouldn't care to use it at all in many circumstances). I believe the draft could do more to get actual, fresh data from directly connected probed interfaces: it could allow the proxy interface to execute a PING of its own towards the address to get an \/actual, real-time\/ status. That's an information I would trust much more than merely looking at ARP\/NC. Text-wise, it's simple to retrofit this: just before the ARP\/NC lookup introduce a MAY execute PING4\/6 which updates the DB if active. Of course, this does generate extra traffic, and it's a question if this is desirable. IMHO, the freshness of the resulting data warrants it. It might make sense to add - a Request flag \"Active Probing\" (probing node allows proxy node to actively reach out to probed interface) - a Reply flag \"Real-Time\" (proxy interface signals that it has fresh data; arguably one could then also set the \"A\" flag as the interface is then known to be active) I realise I'm feature-creeping here. Do what you like with it :-) Greetings, Stefan Stephan, Thanks for the thoughtful review. Responses inline. Rpn -----Original Message----- From: ietf [mailto:ietf-bounces@ietf.org] On Behalf Of Stefan Winter Sent: Monday, December 4, 2017 9:02 AM To: ops-dir@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Opsdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Stefan Winter Review result: Has Issues Issues: * Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. [RB ] If the L-bit is clear, the proxy interface does not ping the probed interface. Instead, the node upon which the proxy interface resides executes the following procedure: - Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. - If no entry is found, send a reply stating No Such Interface - If an entry is found, send a reply stating that the interface is active As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table \/ Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table \/ Neighbor Cache. So, I recommend that we change the procedure as follows: - Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. - If no entry is found, send a reply stating No Such ARP \/ NC Entry (This is a new error code) - If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you? * Request -> L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. [RB ] Sometimes, this is not possible. For example, assume that a router has interfaces ge-0\/0\/0.0 and ge-0\/0\/1.0. The local side of ge-0\/0\/0.0 had the IPv6 link local address fe80::dead:beef. The remote side of the interface ge-0\/0\/1.0 has the same IPv6 link local address. The user can set or clear the L-bit to indicate which interface is being probed. Without the L-but, PROBE would return an error (Multiple Interfaces Satisfy Query). [RB ] > Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; [RB ] See above the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] [RB ] How are these contradictory? The user sets the L-bit if the proxy and probed interfaces are on the same node. The user clears the L-bit of the proxy interface is on a node that is directly connected to the probed interface? b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] [RB ] I don't see the contradiction. If you are querying a non-local interface, you are going to search the ARP Table \/ Neighbor Cache. So, you need to query by address. You don't know the remote interface name or interface index. The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L- Bit clear is default off already. [RB ] I'm not sure that I follow this paragraph * Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). [RB ] Fair enough. I will change them to 4-bit and 6-bit Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. [RB ] This objection may be cleared up as a side effect of clearing the previous objection * Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. [RB ] It is a dictionary attack using a very small dictionary ;-) My point wasn't so much to explain how an attacker might discover interface names, but to warn that it is possible. Nits: * Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous. [RB ] Good catch. Fixed in the next version. -- Stefan WINTER Ingenieur de Recherche Fondation RESTENA - Réseau Téléinformatique de l'Education Nationale et de la Recherche 2, avenue de l'Université L-4365 Esch-sur-Alzette Tel: +352 424409 1 Fax: +352 422473 PGP key updated to 4096 Bit RSA - I will encrypt all mails if the recipient's key is known to me http:\/\/pgp.mit.edu:11371\/pks\/lookup?op=get&search=0xC0DE6A358A39DC66"}
{"_id":"doc-en-intarea-GAdCfN8qTegP2SxydPUHcnRrkyQ","title":"","text":"Re: [Int-area] Alexey Melnikov's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nAlexey, Fair enough. I will remove that line from version 09 of the draft. Ron -----Original Message----- From: Alexey Melnikov [mailto:aamelnikov@fastmail.fm] Sent: Tuesday, December 12, 2017 5:15 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Alexey Melnikov's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Alexey Melnikov has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_iesg_statement_discuss- 2Dcriteria.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=tYqLuiLGP5ryn5YjLRZDgQ4YgHPGNH- PvJoZ6Lmdv40&s=VXzQ1GPdLfSyyTt0k6fakiOSv-BFM1UlcthsVo-0Zwg&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=tYqLuiLGP5ryn5YjLRZDgQ4YgHPGNH- PvJoZ6Lmdv40&s=BawWqfTZOwsssnphTacOSGi2w- IqRbtWw8adfqmcwFc&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- This is a fine document. One small comment about the note in the IANA Considerations section suggesting that the whole section is to be removed before publication. This note is not correct, as IANA needs to be able to point to documents which originated various IANA actions."}
{"_id":"doc-en-intarea-I8ihR82CRqGEyWAY00GmmHKKjDY","title":"","text":"Re: [Int-area] [IANA #992480] FW: New Version Notification for\n draft-ietf-intarea-probe-08.txt\nAll codes a First Come First Serve (FCFS). I will spin a new version and submit it ASAP. Ron -----Original Message----- From: Amanda Baber via RT [mailto:iana-issues-comment@iana.org] Sent: Tuesday, December 12, 2017 4:36 PM Cc: draft-ietf-intarea-probe.all@ietf.org; stefan.winter@restena.lu; jeanmichel.combes@gmail.com; yaronf.ietf@gmail.com; stewart.bryant@gmail.com; int-area@ietf.org; Ron Bonica <rbonica@juniper.net>; michelle.cotton@iana.org Subject: [IANA #992480] FW: New Version Notification for draft-ietf-intarea- probe-08.txt Hi Ron, We need to ask for one more thing that we didn't ask for in our review, and it's because there's an error in the registration procedure data in the registries. Both https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.iana.org_assignments_icmpv6- 2Dparameters&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=TLb_jHVPHe0Dj7nQ4Cxwyrf8kdC5iiojQPhDvNKJtTc&e= and https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.iana.org_assignments_icmp- 2Dparameters&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=caVCOf9tFAN8f24EMxRMHvTiDs5J4_xCxb1H9wrRdy0&e= incorrectly state that the IESG Approval or Standards Action are the registration procedures for all \"Code\" registries. However, RFC 4443 and RFC 2780 state that \"The policy for assigning Code values for new IPv6 ICMP Types not defined in this document should be defined in the document defining the new Type\" (https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__tools.ietf.org_html_rfc4443-23section- 2D6.1&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=pbDiItpJesJOl2L2iBx1kDXKkeb1C7z0OI5HymB1tmw&e=) and \"The policy for assigning Code values for new IPv4 ICMP Types should be defined in the document defining the new Type value\" (https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__tools.ietf.org_html_rfc2780&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjB XeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=mcXN5Wq_JQeqJYW6SKSDoqHccqV9BSu4TL55DhDzBRk&e=, section 6). Can you provide registration procedures for all of the Code registries? For our purposes, these could be added to the document as late as after IESG approval, when we're completing the actions, if that's more convenient\/appropriate. Was our identification of 15 as the maximum values for the Code registries correct? Amanda Folks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__datatracker.ietf. org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh 0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8 &m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=4sUgvChAKXjuVzWPrGKqb fqt_jA6PiVIL6DZPsAjZ5w&e= There are also htmlized versions available at: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__tools.ietf.org_ht ml_draft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0 UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8& m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=INWpBt9CzwPXJTZhxfmFY- cu3M3T0JhFasMgfRuRyWg&e= https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__datatracker.ietf. org_doc_html_draft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rs uhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHc AwrDThKP8&m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=LUCrIXP0TerM 3OMtBViTNxSMap1b9A7NYTunO5SiyAo&e= A diff from the previous version is available at: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_rfcd iff-3Furl2-3Ddraft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rs uhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHc AwrDThKP8&m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=WlzMSjovLFmc yOO7nNHeov_N1fzX_wHL3DSfor0vEsE&e= Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-thdKwcO_PM-o7t5gemKcJAMsFf4","title":"","text":"Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt\nBTW, RFC 7564 is being updated by https:\/\/tools.ietf.org\/html\/draft-ietf-precis-7564bis-09 which is in IESG evaluation. -----Original Message----- From: Dave Thaler Sent: Thursday, July 20, 2017 10:01 AM To: 'Ron Bonica' <rbonica@juniper.net>; int-area@ietf.org Subject: RE: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt Section 2.1: If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. The interface name MAY be some other human- meaningful name of the interface. The interface name MUST be represented in the UTF-8 charset [RFC3629] using the Default Language [RFC2277]. As I mentioned during the meeting today, the above text has a bunch of problems as written: 1) Saying UTF-8 is not sufficient, you need to discuss normalization form, etc. See RFC 7564. You can't just copy a paragraph from some other spec, you have to determine what properties you actually want, but the Precis WG defined a number of reusable classes. There are precis experts that can help the WG determine what profile is most appropriate. 2) You can't truncate a UTF-8 string at 255 octets and still have a valid UTF-8 string, since characters can span multiple octets and you might truncate in the middle and get a partial character, which leaves you with an invalid string. 3) The length restriction is only part of the SHOULD. Does that mean that if you follow the MAY, there is no such length restriction? Dave -----Original Message----- From: Int-area [mailto:int-area-bounces@ietf.org] On Behalf Of Ron Bonica Sent: Wednesday, July 12, 2017 5:46 PM To: int-area@ietf.org; Carlos Pignataro (cpignata) <cpignata@cisco.com> Subject: Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt Hi Carlos, Thanks for the review. Inline, below. Ron Hi, Ron, Authors, As I was reading over draft-ietf-intarea-probe-00, and wanted to share a couple of observations for your consideration. * Have you considered the tradeoff of defining new ICMP Types versus extending existing ICMP Types? If using existing ICMPv6 Echo Request\/Reply and extending them instead of defining brand new types, the backwards interoperability achieved is higher [ [RB ] I thought about extending the existing ICMP messages, but decided against it for backward compatibility reasons. Both existing messages end with a variable length data field. This field begins at a fixed position, but doesn't have a length attribute of its own. Therefore, we can't add any more fields after it. There may be ways to dance around the problem, but they all involve redefining the existing field in the existing message. * Have you considered using other protocols as well in addition to ICMP for the PROBE message, which can elicit ICMP errors or responses with appropriate extensions? In particular UDP is a protocol much used and desired for probes. [RB ] ICMP and UDP would both work. I chose ICMP because ICMP already supports legacy echo\/echo reply. But I'm not feeling religious about this. In the final analysis, I am willing to use whatever protocol the WG prefers. These two points actually reminded me of https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Ftools .ietf.org%2Fhtml%2Fdraft-&data=02%7C01%7Cdthaler%40microsoft.com%7C4f6 74c9180bf4a15581408d4c93d18ff%7C72f988bf86f141af91ab2d7cd011db47%7C1%7 C0%7C636354711627226706&sdata=G5vSnrYbaFBryTvzh5pn3AVaJz3hURtt1PJYLVah rnM%3D&reserved=0 shen-traceroute-ping-ext-04 (and the ICMP-only predecessor draft-shen- udp-traceroute-ext-01) that defines a probe extension applied to ICMP Echo Request and UDP, and RFC 4884 extensions to responses. That approach seems somewhat more generic. Additionally, I was also reminded of the ICMP AUP at RFC 7279, it would be useful to map against that doc to show how this is (as it is the case) a really good use of ICMP. [RB ] Section 3 of 7279 suggests that ICMP can be used for diagnostics. It calls out PING as being an acceptable use. But again, I don't feel religious about this. The protocol works over UDP just as well as it works over ICMP. Ron Thanks! ? Carlos. ******************************* _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fwww.ietf.org%2Fmailman%2Flistinfo%2Fint-area&data=02%7C01%7Cdthaler%40microsoft.com%7C4f674c9180bf4a15581408d4c93d18ff%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636354711627226706&sdata=xSDwSJAGRkBNGO9IO9FfArdLkywAnaHf8AZ5OWcsDsk%3D&reserved=0"}
{"_id":"doc-en-intarea-k_Ghxg3d1GgRCtPH5sHyAncwy5o","title":"","text":"[Int-area] Eric Rescorla's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nEric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/www.ietf.org\/iesg\/statement\/discuss-criteria.html for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? View Inlinedraft-ietf-intarea-probe.txt:365 Ethernet is running on the probed interface. Otherwise, the E-bit is clear. This seems pretty limited. Does \"WiFi\" count for instance?"}
{"_id":"doc-en-intarea-AGVtR9Ts8MQny6TOgDY4sRJP-ws","title":"","text":"Re: [Int-area] WG Last Call on draft-ietf-intarea-probe-04\nFolks, Reji Thomas has reported the following typo in the draft. The following text: OLD> o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <OLD Should be: NEW> o E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear. <NEW Ron"}
{"_id":"doc-en-intarea-xfz4RfsiQTjOurgpbXHjn4uI7c8","title":"","text":"Re: [Int-area] Secdir telechat review of draft-ietf-intarea-probe-07\nHello Yaron, Thanks for the thoughtful review. Responses inline...... Ron -----Original Message----- From: Yaron Sheffer [mailto:yaronf.ietf@gmail.com] Sent: Saturday, December 2, 2017 4:35 PM To: secdir@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Secdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) * The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. [RB ] I agree with all of the points that you raise above, except for the part about white listing. This isn't security theater. It's real. For the most part, hosts will stick with the default PROBE configuration. That is, they won't honor an ICMP Extended Echo Request of any type from any source. A good number of network operators will enable PROBE on their routers, but for the reasons that you point out above, they won't want their routers being probed from untrusted subnetworks. They will probably restrict probe access to a few trusted subnets that are within their administrative domain (e.g., the NOC, network controllers). I doubt if anyone will expose their routers to PROBING from all points on the Internet. Other Details * Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). [RB ] I can fix that in the next version * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). [RB ] Joel Halpern raised the same point in his review. In the next version, the probed node will be called the proxy node. * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" [RB ] Same fix as above * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? [RB ] I will check RFC 792 and use whatever words they used * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3? [RB ] Joel Halpern raised the same issue in his review. We will rename this bit to indicate that it is a Pseudowire endpoint, without mentioning what kind of PW endpoint it is. Ron"}
{"_id":"doc-en-intarea-1PNCeVhlroVRxAn-umZzmnAV0C0","title":"","text":"Re: [Int-area] Genart telechat review of draft-ietf-intarea-probe-07\nThank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision."}
{"_id":"doc-en-intarea-KzZQpY0NpMPpudieEMGjOiuDj24","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-01.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-01.txt Pages : 17 Date : 2017-07-17 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-01 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-01 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-01 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-Co0TJkX1pw4Q_W0TJcarNhsA_aI","title":"","text":"Re: [Int-area] Alvaro Retana's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nAlvaro, Thanks for the review. Comments inline...... Ron -----Original Message----- From: Alvaro Retana [mailto:aretana.ietf@gmail.com] Sent: Wednesday, December 13, 2017 4:17 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; int-area@ietf.org Subject: Alvaro Retana's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Alvaro Retana has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_iesg_statement_discuss- 2Dcriteria.html&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=d_E7NtGz7Mkv4ZHGdIjRM02eCQ1JZ_Yt4EEM6IC muk4&s=4NMprXR5y7Q_uFaDi3U-1CH5RCEEnk7dsr64WAgvz58&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=d_E7NtGz7Mkv4ZHGdIjRM02eCQ1JZ_Yt4EEM6IC muk4&s=em-7xrUp_9BjsRysGOLNV0SVdf0bFXg9jE7Pa5AQ_80&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- (1) The Code field of the Request is set to 0 - what happens if a different value is received? [RB ] Good catch. In version 10 the description will say \"MUST be set to 0 and MUST be ignored on receipt\". (2) The Request includes 2 fields (Identifier and Sequence Number) that are used “to aid in matching Extended Echo Replies to Extended Echo Requests”. Their use seems to be a local matter (as the values are simply copied in to the Reply. Can you please provide guidance on their use? Why are there 2 fields (and not just a single one)? I’m assuming\/hoping that the design had use cases in mind that can be reflected in the document. [RB ] Appendix A describes the PROBE application. In version 10, I will add a sentence describing how the Identifier and Sequence Number are used. (3) It would be nice to set up a registry for the Reserved fields. [RB ] Are you talking about the reserved fields whose value MUST be equal to 0 and MUST be ignored upon receipt? Or are you talking about the following text: Protocol Flag Bit mappings are as follows: Bit 0 (IPv4), Bit 1 (IPv6), Bit 2 (Ethernet), Bits 3-15 (Reserved). If the later, that text has been removed. It was an artifact from a very early version of the draft. (4) I’m not sure I understand the use\/intention of the L-bit. The description says that it is used (on the Request) to indicate whether the probed interfaces resides on the proxy node (or not). How does the originator of the Request know that information? The other function of this bit seems to be to control how the Interface Identification Object can identify the probed interface…while it seems to make sense that a probed interface that doesn’t reside on the proxy node would only be identified by it’s address, it still makes me wonder how the sender of the Request would know, and why it even matters that it does and that it indicates it to the proxy node. [RB ] The L-Bit helps to identify the probed node by specifying whether it resides on the proxy node or is directly connected to the proxy node. In at least one case, it is required for disambiguation. For example, assume that a proxy node has two interfaces, ge-0\/0\/0.0 and ge-0\/0\/0.1. Both links have IPv6 link local addresses. The local side of ge-0\/0\/0.0 has the address fe80::dead:beef and the remote side of ge-0\/0\/0.1 has the same IPv6 link local address. If the ICMP Extended Echo Request identifies the probed interface by address, the L-bit disambiguates between the two similarly numbered interfaces."}
{"_id":"doc-en-intarea-IxdXHNLK0HKGJpWpbcmz-8lY4KU","title":"","text":"Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00\nHi Ron, 2017-10-30 16:13 GMT+01:00 Ron Bonica <rbonica@juniper.net>: Jean-Michele, Thanks for the thoughtful review. I will post a new version addressing your comments today or tomorrow. Responses inline...... Ron <snip> 3. ICMP Extended Echo Reply <snip> o F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMC> Question: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? <\/JMC> [RB ] This was a typo. I meant to say: 0 E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear. <JMC> OK. <\/JMC> 4. ICMP Message Processing <snip> o Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC. Hi Ron,2017-10-30 16:13 GMT+01:00 Ron Bonica <rbonica@juniper.net>:Jean-Michele, Thanks for the thoughtful review. I will post a new version addressing your comments today or tomorrow. Responses inline...... Ron <snip> 3. ICMP Extended Echo Reply <snip> o F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMC> Question: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? <\/JMC> [RB ] This was a typo. I meant to say: 0 E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.<JMC>OK.<\/JMC> 4. ICMP Message Processing <snip> o Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about.<JMC>But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be setAnd Error Code 3 returned to probing interface raises this is ambiguous.Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces.Did I miss something?<\/JMC><snip>Best regards,JMC."}
{"_id":"doc-en-intarea-TsxFVHIPeyGC-PiqrXklpk8I5HA","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-00.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-00.txt Pages : 17 Date : 2017-06-23 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-00 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-00 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-YcWKnVn14YvU2wmWum6wIK5_mCU","title":"","text":"Re: [Int-area] Ben Campbell's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nBen, I am convinced. I will change the first MUST NOT to lower case in version 10. Ron -----Original Message----- From: Ben Campbell [mailto:ben@nostrum.com] Sent: Thursday, December 14, 2017 6:23 PM To: Ron Bonica <rbonica@juniper.net> Cc: The IESG <iesg@ietf.org>; ggx@gigix.net; draft-ietf-intarea- probe@ietf.org; int-area@ietf.org; intarea-chairs@ietf.org Subject: Re: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Hi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:ben@nostrum.com] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) […] [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. I agree it’s really important, but it’s still a statement of fact. It’s not normative in the sense that it doesn’t offer instruction to implementers so much as it offers a reason for the _next_ requirement: \"Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface. “ Isn’t _that_ the real normative requirement? In any case, this is not a blocking comment, so feel free to ignore it :-) Thanks! Ben. Ron"}
{"_id":"doc-en-intarea-th9J-SjuV3YwjIU_k3wU4cMm51Q","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-09.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-09.txt Pages : 17 Date : 2017-12-12 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-09 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-09 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-09 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-uowyIgJUd2RezmzNrWC6ZEuCv58","title":"","text":"Re: [Int-area] FW: New Version Notification for\n draft-ietf-intarea-probe-08.txt\nSame here. Thanks, Yaron On 12\/12\/17 13:35, Joel M. Halpern wrote: Thanks Ron. The changes related to our discussions nicely address my concerns. Yours, Joel Folks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-08 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-08 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-08 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-EqQFvEF0mwW_OqnzUSo_oU_bMPU","title":"","text":"Re: [Int-area] Alexey Melnikov's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nAlexey, Good point. I will remove that sentence from the next version of the document. Ron -----Original Message----- From: Alexey Melnikov [mailto:aamelnikov@fastmail.fm] Sent: Tuesday, December 12, 2017 5:15 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Alexey Melnikov's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Alexey Melnikov has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_iesg_statement_discuss- 2Dcriteria.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=tYqLuiLGP5ryn5YjLRZDgQ4YgHPGNH- PvJoZ6Lmdv40&s=VXzQ1GPdLfSyyTt0k6fakiOSv-BFM1UlcthsVo-0Zwg&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=tYqLuiLGP5ryn5YjLRZDgQ4YgHPGNH- PvJoZ6Lmdv40&s=BawWqfTZOwsssnphTacOSGi2w- IqRbtWw8adfqmcwFc&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- This is a fine document. One small comment about the note in the IANA Considerations section suggesting that the whole section is to be removed before publication. This note is not correct, as IANA needs to be able to point to documents which originated various IANA actions."}
{"_id":"doc-en-intarea-i5rFotBSes9skeUaXx2ktDPXmiI","title":"","text":"Re: [Int-area] New Version Notification for\n draft-ietf-intarea-probe-02.txt\nDave, I have just made that change and posted it in Version 04. Chairs, This clears the last comment of which I am aware. We may be ready for WGLC. Ron -----Original Message----- From: Dave Thaler [mailto:dthaler@microsoft.com] Sent: Sunday, July 23, 2017 12:36 AM To: Ron Bonica <rbonica@juniper.net>; intarea-chairs@ietf.org; int- area@ietf.org Subject: RE: New Version Notification for draft-ietf-intarea-probe-02.txt It's partly there, but not quite ready. If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. First, you and I talked about it being required to be an ifName, where above still has a SHOULD. Second, ifName is defined as a DisplayString, and DisplayString is defined as 0-255 ASCII characters, so the truncation part is irrelevant. I would replace the paragraph with just: If the Interface Identification Object identifies the probed interface by name, the object payload MUST be the MIB-II [RFC2863] ifName. Dave -----Original Message----- From: Ron Bonica [mailto:rbonica@juniper.net] Sent: Saturday, July 22, 2017 12:29 PM To: intarea-chairs@ietf.org; int-area@ietf.org; Dave Thaler <dthaler@microsoft.com> Subject: FW: New Version Notification for draft-ietf-intarea-probe-02.txt Folks, I have updated draft-intarea-probe-02 to reflect Dave Thaler' s comment. Dave, Please look at the diff to see of this change reflects your recommendation. Chairs, If Dave thinks that his comment has been addressed, could we initiate a WG last call? Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Saturday, July 22, 2017 9:21 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-02.txt A new version of I-D, draft-ietf-intarea-probe-02.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 02 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-07-22 Group: intarea Pages: 17 URL: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fwww.i etf.org%2Finternet-drafts%2Fdraft-ietf-intarea-probe- 02.txt&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f35 5b08d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636 363485276071855&sdata=3l%2Fi4WAtbXZ2uVedTddXWgVRjPSoHDCcavUH2lp Lf90%3D&reserved=0 Status: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fdatat r acker.ietf.org%2Fdoc%2Fdraft-ietf-intarea- probe%2F&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b 1f355b08d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C 636363485276071855&sdata=sYgNOiyesuofXlBYj%2F9LhZ6yDsyx6VDS9nV%2B 17uRbcY%3D&reserved=0 Htmlized: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Ftools .i etf.org%2Fhtml%2Fdraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=ri9slj0Joixtj7k3cpd4PP56eduGh941783bRVAK9mY%3D &reserved=0 Htmlized: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fdatat r acker.ietf.org%2Fdoc%2Fhtml%2Fdraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=LAIOJahlwvEKNYddfaJ7ARDmYZSR%2FiG%2B3JqP6kAG DZI%3D&reserved=0 Diff: https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fwww.i etf.org%2Frfcdiff%3Furl2%3Ddraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=5ZOJy6AIPCx9pErz7Mw96t8u6eB7gZvWUJ%2F9V%2Bq DmRw%3D&reserved=0 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-7gU6n3l8fLu-G8REFm1EdXqUGCQ","title":"","text":"Re: [Int-area] Genart telechat review of draft-ietf-intarea-probe-07\nGood enough. Joel On 12\/4\/17 5:48 PM, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:jmh@joelhalpern.com] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <rbonica@juniper.net>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision."}
{"_id":"doc-en-intarea-sY_2gdcSqXueXLdXf4MoT1h5gp8","title":"","text":"[Int-area] Opsdir telechat review of draft-ietf-intarea-probe-07\nReviewer: Stefan Winter Review result: Has Issues Issues: * Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. * Request -> L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L-Bit clear is default off already. * Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. * Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. Nits: * Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous."}
{"_id":"doc-en-intarea-DRc0_Bf3K4UKEKCYHWZ3JcPeD8k","title":"","text":"Re: [Int-area] New Version Notification for\n draft-bonica-intarea-eping-00.txt\nHi, Ron, Scanning through the document, please find a couple of quick questions and comments: 1. Have you considered an approach as in draft-shen-traceroute-ping-ext<https:\/\/tools.ietf.org\/html\/draft-shen-traceroute-ping-ext>, which is more general and has potentially better changes of success (working on ICMP Echo but also UDP Ping and TCP Ping)? 2. What is the reason for the “by address” option? The main use case of this functionality as defined seems to be unnumbered \/ link-locals. And if there’s a need for “by address”, a proxy ping is more general. 3. The “by ifIndex” option is essentially pulling operational state out of a box — what’s the line between an SNMP get or reading operational info on \/interfaces-state\/interface\/oper-status vs. getting other node operational info (get CPU%)? And in this context, what’s the Auth model? Thanks! — Carlos. On Jun 23, 2016, at 1:50 PM, Ronald Bonica <rbonica@juniper.net<mailto:rbonica@juniper.net>> wrote: Please review and comment. Ron -----Original Message----- From: internet-drafts@ietf.org<mailto:internet-drafts@ietf.org> [mailto:internet-drafts@ietf.org] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <rbonica@juniper.net<mailto:rbonica@juniper.net>>; Reji Thomas <rejithomas@juniper.net<mailto:rejithomas@juniper.net>> Subject: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: https:\/\/www.ietf.org\/internet-drafts\/draft-bonica-intarea-eping-00.txt Status: https:\/\/datatracker.ietf.org\/doc\/draft-bonica-intarea-eping\/ Htmlized: https:\/\/tools.ietf.org\/html\/draft-bonica-intarea-eping-00 Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org<http:\/\/tools.ietf.org>. The IETF Secretariat _______________________________________________ Int-area mailing list Int-area@ietf.org<mailto:Int-area@ietf.org> https:\/\/www.ietf.org\/mailman\/listinfo\/int-area Hi, Ron, Scanning through the document, please find a couple of quick questions and comments: Have you considered an approach as in draft-shen-traceroute-ping-ext, which is more general and has potentially better changes of success (working on ICMP Echo but also UDP Ping and TCP Ping)?What is the reason for the “by address” option? The main use case of this functionality as defined seems to be unnumbered \/ link-locals. And if there’s a need for “by address”, a proxy ping is more general.The “by ifIndex” option is essentially pulling operational state out of a box — what’s the line between an SNMP get or reading operational info on \/interfaces-state\/interface\/oper-status vs. getting other node operational info (get CPU%)? And in this context, what’s the Auth model? Thanks! — Carlos. Please review and comment. Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <rbonica@juniper.net>; Reji Thomas <rejithomas@juniper.net> Subject: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: https:\/\/www.ietf.org\/internet-drafts\/draft-bonica-intarea-eping-00.txt Status: https:\/\/datatracker.ietf.org\/doc\/draft-bonica-intarea-eping\/ Htmlized: https:\/\/tools.ietf.org\/html\/draft-bonica-intarea-eping-00 Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/www.ietf.org\/mailman\/listinfo\/int-area"}
{"_id":"doc-en-intarea--iRSl5YwBpAUr_qBwzNtz3Nd_dg","title":"","text":"[Int-area] WG Last Call on draft-ietf-intarea-probe-04\nDear Intarea, The chairs are starting a working group last call on: https:\/\/www.ietf.org\/id\/draft-ietf-intarea-probe-04.txt This work has gone through multiple revisions to address comments and feedback. The authors believe it is now ready for WGLC. Taking into account the summer vacation, the WGLC will be extended to three weeks instead of two and will close on Friday, August 25th. Please send your comments to the mailing list. Regards, Juan & Wassim"}
{"_id":"doc-en-intarea-TsoEsz869xX9qDisUlTBUXuHmyk","title":"","text":"Re: [Int-area] FW: New Version Notification for\n draft-ietf-intarea-probe-08.txt\nThanks Ron. The changes related to our discussions nicely address my concerns. Yours, Joel Folks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-08 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-08 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-08 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-y7tmEcvnm1kszJH3bhTcafx_kMg","title":"","text":"Re: [Int-area] [Gen-art] Genart telechat review of\n draft-ietf-intarea-probe-07\nWorks for me. -----Original Message----- From: Stewart Bryant [mailto:stewart.bryant@gmail.com] Sent: Wednesday, December 6, 2017 12:19 PM To: Ron Bonica <rbonica@juniper.net>; Joel M. Halpern <jmh@joelhalpern.com>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org; pals-chairs@tools.ietf.org; mpls-chairs@ietf.org; l2tpext-chairs@ietf.org; The IESG <iesg@ietf.org> Subject: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 Ron, Yes you can always add it in later as an update after thinking through the problem in more detail. - Stewart On 06\/12\/2017 16:13, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:stewart.bryant@gmail.com] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <rbonica@juniper.net>; Joel M. Halpern <jmh@joelhalpern.com>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org; pals-chairs@tools.ietf.org; mpls-chairs@ietf.org; l2tpext-chairs@ietf.org; The IESG <iesg@ietf.org> Subject: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. - Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:jmh@joelhalpern.com] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <rbonica@juniper.net>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir- BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list Gen-art@ietf.org https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_mail man_listinfo_gen- 2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e="}
{"_id":"doc-en-intarea-U866C4j28AGYgpCu0xkbsmW3v_E","title":"","text":"Re: [Int-area] [Gen-art] Genart telechat review of\n draft-ietf-intarea-probe-07\nI cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. - Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:jmh@joelhalpern.com] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <rbonica@juniper.net>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list Gen-art@ietf.org https:\/\/www.ietf.org\/mailman\/listinfo\/gen-art"}
{"_id":"doc-en-intarea-Po2a5Z49HiaPf_9t1C1VjxQFkAU","title":"","text":"[Int-area] FW: New Version Notification for\n draft-ietf-intarea-probe-02.txt\nFolks, I have updated draft-intarea-probe-02 to reflect Dave Thaler' s comment. Dave, Please look at the diff to see of this change reflects your recommendation. Chairs, If Dave thinks that his comment has been addressed, could we initiate a WG last call? Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Saturday, July 22, 2017 9:21 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-02.txt A new version of I-D, draft-ietf-intarea-probe-02.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 02 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-07-22 Group: intarea Pages: 17 URL: https:\/\/www.ietf.org\/internet-drafts\/draft-ietf-intarea-probe-02.txt Status: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ Htmlized: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-02 Htmlized: https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-02 Diff: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-02 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-tp2rQY_lUqV87ILkPcAN5krOUHw","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-05.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-05.txt Pages : 16 Date : 2017-09-01 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-05 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-05 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-05 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-qHWWCponZNjtUI21uZw-45WGjwI","title":"","text":"[Int-area] Warren Kumari's Discuss on draft-ietf-intarea-probe-09:\n (with DISCUSS and COMMENT)\nWarren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/www.ietf.org\/iesg\/statement\/discuss-criteria.html for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed \/ on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: https:\/\/www.ietf.org\/mail-archive\/web\/int-area\/current\/msg06136.html works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-)"}
{"_id":"doc-en-intarea-3QRoCy6Lv7NNbBjTNZFNbZ9JHLA","title":"","text":"Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00\nHi Ron, OK. I understand your point. Best regards, JMC. 2017-11-06 19:49 GMT+01:00 Ron Bonica <rbonica@juniper.net>: Jean-Michel, I understand that Probe addresses two operational needs. One need is to probe the local node and the other is to probe a directly connected node. But in either case, Probe semantics must be consistent. Probe queries the status of exactly one interface. Regardless of whether the L-bit is set or clear, if two interface satisfy the Extended Echo Request Match criteria, the Extended Echo Reply must return an error code (3). Returning any information beyond that would be risky. For example, assume that both interfaces are active, one is running IPv4 only and the other is running IPv6 only? What would the Extended Echo Reply return? Ron *From:* Jean-Michel Combes [mailto:jeanmichel.combes@gmail.com] *Sent:* Monday, November 6, 2017 7:09 AM *To:* Ron Bonica <rbonica@juniper.net> *Cc:* int-area@ietf.org *Subject:* Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Hi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <rbonica@juniper.net>: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMC> Your opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP\/NC allows only to identify active interfaces). Correct? Best regards, JMC. <\/JMC> Ron <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC. Hi Ron,OK. I understand your point.Best regards,JMC.2017-11-06 19:49 GMT+01:00 Ron Bonica <rbonica@juniper.net>: Jean-Michel, I understand that Probe addresses two operational needs. One need is to probe the local node and the other is to probe a directly connected node. But in either case, Probe semantics must be consistent. Probe queries the status of exactly one interface. Regardless of whether the L-bit is set or clear, if two interface satisfy the Extended Echo Request Match criteria, the Extended Echo Reply must return an error code (3). Returning any information beyond that would be risky. For example, assume that both interfaces are active, one is running IPv4 only and the other is running IPv6 only? What would the Extended Echo Reply return? Ron From: Jean-Michel Combes [mailto:jeanmichel.combes@gmail.com] Sent: Monday, November 6, 2017 7:09 AM To: Ron Bonica <rbonica@juniper.net> Cc: int-area@ietf.org Subject: Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Hi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <rbonica@juniper.net>: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMC> Your opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP\/NC allows only to identify active interfaces). Correct? Best regards, JMC. <\/JMC> Ron <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC."}
{"_id":"doc-en-intarea-Yp8NC34h27-OlLfocaAMvBylJwA","title":"","text":"[Int-area] Benoit Claise's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nBenoit Claise has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/www.ietf.org\/iesg\/statement\/discuss-criteria.html for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- No objection to the publication of this document. However, some comments. So basically you specify the same functionality as remote ping MIB in RFC4560 where - probing interface = SNMP manager - proxy interface = SNMP agent - probed agent = destination Right? So any connection with RFC4560? I guess this mechanism is a similar functionality as RFC 6812, where - proxy agent = sender - responder = destination ... even the technology is not based on the ICMP extended echo As such I believe that the RFC 6812 IPR applies here as well. However, I'm not the one to make the call. So I will forward to the appropriate persons. Potentially the OWAMP IPRs apply as well. https:\/\/datatracker.ietf.org\/ipr\/search\/?submit=draft&id=draft-ietf-ippm-owdp"}
{"_id":"doc-en-intarea-Gug2-VrcKayUqt6yvyDiYictwYw","title":"","text":"[Int-area] An extension to  PROBE [RFC8335] diagnostic tool\nFolks, We have posted 02 version of the draft “Probing IP Interfaces By Vendor Specific Identifiers”. This draft is extension to PROBE [RFC8335] diagnostic tool. The tool is extended so that the tool can identify the probed interface by Vendor Specific Identifiers , i.e Virtual Function Index (VFI) [SR-IOV]. This version of the draft has taken care of review comments provided for 01 version of the draft. Our draft is available at: https:\/\/datatracker.ietf.org\/doc\/draft-nayak-intarea-probe-by-vfi\/ The Abstract is: This document enhances the PROBE diagnostic tool so that it can identify the probed interface by Vendor Specific Identifiers. In order to achieve that goal, this document also extends the Interface Identification Object. The Interface Identification Object is an ICMP Extension Object class. Any comments will be welcome. Thanks! Cheers, -- Manoj Nayak Juniper Networks e-mail: manojnayak@juniper.net Folks, We have posted 02 version of the draft “Probing IP Interfaces By Vendor Specific Identifiers”. This draft is extension to PROBE [RFC8335] diagnostic tool. The tool is extended so that the tool can identify the probed interface by Vendor Specific Identifiers , i.e Virtual Function Index (VFI) [SR-IOV]. This version of the draft has taken care of review comments provided for 01 version of the draft. Our draft is available at: https:\/\/datatracker.ietf.org\/doc\/draft-nayak-intarea-probe-by-vfi\/ The Abstract is: This document enhances the PROBE diagnostic tool so that it can identify the probed interface by Vendor Specific Identifiers. In order to achieve that goal, this document also extends the Interface Identification Object. The Interface Identification Object is an ICMP Extension Object class. Any comments will be welcome. Thanks! Cheers, -- Manoj Nayak Juniper Networks e-mail: manojnayak@juniper.net"}
{"_id":"doc-en-intarea-VBldLwc1GiUuargNb3SYcss753M","title":"","text":"Re: [Int-area] Ben Campbell's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nHi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:ben@nostrum.com] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) […] [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. I agree it’s really important, but it’s still a statement of fact. It’s not normative in the sense that it doesn’t offer instruction to implementers so much as it offers a reason for the _next_ requirement: \"Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface. “ Isn’t _that_ the real normative requirement? In any case, this is not a blocking comment, so feel free to ignore it :-) Thanks! Ben. Ron"}
{"_id":"doc-en-intarea-3eAmzA21i68NopgosOFR_7nJzuA","title":"","text":"[Int-area] Intdir early review of draft-ietf-intarea-probe-00\nReviewer: Jean-Michel Combes Review result: Almost Ready Hi, I am an assigned INT directorate reviewer for draft-ietf-intarea-probe-06. These comments were written primarily for the benefit of the Internet Area Directors. Document editors and shepherd(s) should treat these comments just like they would treat comments from any other IETF contributors and resolve them along with any other Last Call comments that have been received. For more details on the INT Directorate, see http:\/\/www.ietf.org\/iesg\/directorate.html. PROBE: A Utility For Probing Interfaces draft-ietf-intarea-probe-06 <snip> 1. Introduction <snip> If the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table or the IPv6 Neighbor Cache. Otherwise, it reports that the interface does not exist. <JMC> Comment: Normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861) are missing. <\/JMC> <snip> 2. ICMP Extended Echo Request <snip> o L (local) - The L-bit is set of the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. <JMC> Typo: s\/\"The L-bit is set of the probed interface resides on the probed node.\"\/\"The L-bit is set if the probed interface resides on the probed node.\" <\/JMC> <snip> 3. ICMP Extended Echo Reply <snip> o F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMC> Question: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? <\/JMC> 4. ICMP Message Processing <snip> o Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> 8. Security Considerations <snip> In order to protect local resources, implementations SHOULD rate-limit incoming ICMP Extended Echo Request messages. <JMC> Comment: IMHO, the main security threat I see with this mechanism is to use it as \"reflection\" scanning: to discover nodes \"behind\" the proxy interface, without raising alarms from security probes watching the networks hosting these nodes. So, rate-limit can help to mitigate this potential threat too. <\/JMC> 9. References 9.1. Normative References <snip> <JMC> Comment: Too add normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861), as commented previously. <\/JMC> <snip> Thanks in advance for your replies. Best regards, JMC."}
{"_id":"doc-en-intarea-rXU_QNW9JgHW8JcL2lOh3fCgpa8","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-07.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-07.txt Pages : 17 Date : 2017-10-30 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-07 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-07 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-07 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-bUUoTTpXYmIlYinaZiPhY9XrZb0","title":"","text":"[Int-area] FW: New Version Notification for\n draft-ietf-intarea-probe-10.txt\nFolks, I have posted a new version of draft-ietf-intarea-probe, addressing all comments from IETF LC and IESG Review. Happy Holidays, Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Friday, December 15, 2017 5:28 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-10.txt A new version of I-D, draft-ietf-intarea-probe-10.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 10 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-15 Group: intarea Pages: 17 URL: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__www.ietf.org_internet-2Ddrafts_draft-2Dietf-2Dintarea-2Dprobe-2D10.txt&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl-AWF2EfpHcAwrDThKP8&m=wnJ5-2p0FCYfHvBRdOU2MuA64T-1NfI6AoXOtc0XVnk&s=6MZIS6tgOlgLvMP4CBQ2AHdJnY0NbQ5mToDwsns-1sM&e= Status: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea-2Dprobe_&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl-AWF2EfpHcAwrDThKP8&m=wnJ5-2p0FCYfHvBRdOU2MuA64T-1NfI6AoXOtc0XVnk&s=qTGa6ykTGtBFMP92-Cvc6uIu6xwD2lP9rPDFY6H99OU&e= Htmlized: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__tools.ietf.org_html_draft-2Dietf-2Dintarea-2Dprobe-2D10&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl-AWF2EfpHcAwrDThKP8&m=wnJ5-2p0FCYfHvBRdOU2MuA64T-1NfI6AoXOtc0XVnk&s=nTLmsbReoLlG8KTsuyaZ6F3oKKc5lIxpyFIOrJTxlSQ&e= Htmlized: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__datatracker.ietf.org_doc_html_draft-2Dietf-2Dintarea-2Dprobe-2D10&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl-AWF2EfpHcAwrDThKP8&m=wnJ5-2p0FCYfHvBRdOU2MuA64T-1NfI6AoXOtc0XVnk&s=dke3tW0hyCgpMXwbGXsM_Ct4qF_LUtJwMp6Gx9S2O9o&e= Diff: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__www.ietf.org_rfcdiff-3Furl2-3Ddraft-2Dietf-2Dintarea-2Dprobe-2D10&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl-AWF2EfpHcAwrDThKP8&m=wnJ5-2p0FCYfHvBRdOU2MuA64T-1NfI6AoXOtc0XVnk&s=-JUmHAa47CO0YkmAMA1xRVQgmwuWccEhQg503sE6IRg&e= Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-OnjA0_npzzbCBAST0dcwgeK7IVk","title":"","text":"Re: [Int-area] Warren Kumari's Discuss on\n draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT)\nHi Warren, Thanks for the review. Comments inline....... Happy Holidays, Ron -----Original Message----- From: Warren Kumari [mailto:warren@kumari.net] Sent: Wednesday, December 13, 2017 4:54 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Warren Kumari's Discuss on draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT) Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed \/ on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__www.ietf.org_mail- 2Darchive_web_int- 2Darea_current_msg06136.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBX eMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=-FTEnwX0qAUuswd5C59LJixx92pB- lCmDysSzvMuD4E&s=eYX_7OsniE8LwWIAtu0fANguom6rE7Uvol5fgVcNQCU& e= works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. [RB ] Stephan raised the following legitimate points: 1) The presence of an ARP TABLE \/ Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface is active 2) The absence of an ARP Table \/ Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface does not exist We addressed the second point by changing an error message. When the proxy node probes the ARP Table \/ Neighbor Cache and finds nothing, it used to return an ICMP Echo Reply with code equal to \"No Such Interface\". Now it returns an ICMP Echo Reply message with code equal to \"No Such Table Entry\". This is more accurate. Frankly, we didn't address Stephan's first point. I think that we should address it by making the ICMP Echo Reply Message report more accurately. Specifically, when the proxy node searches the ARP Table \/ Neighbor Cache and finds an entry: - Set the code to 0 (No Error) - Clear the A-bit, the 4-bit and the 6-bit - return the state of the neighbor cache entry What do you think? ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-)"}
{"_id":"doc-en-intarea--xi8_ZU__-BgoADu5ZU-kmy939o","title":"","text":"Re: [Int-area] FW: New Version Notification for\n draft-bonica-intarea-eping-00.txt\nHi Joe, Good to hear from you! Responses inline....... Ron -----Original Message----- From: Joe Touch [mailto:touch@isi.edu] Sent: Wednesday, June 29, 2016 5:11 PM To: Ronald Bonica <rbonica@juniper.net>; int-area@ietf.org Subject: Re: [Int-area] FW: New Version Notification for draft-bonica-intarea- eping-00.txt Hi, Ron, et al., I'm a little confused at this proposal. [RB ] \"Confusion is the welcome mat at the door to creativity.\" :-) First, IP addresses can be assigned to interfaces or hosts. Interfaces don't have to have IP addresses, esp. point-to-point interfaces or those used \"anonymously\" (e.g., for broadcast send\/receive). [RB ] Absolutely. In the draft, we talk about \"unnumbered interfaces\". These are interfaces to which an IP address has not been assigned. Second, I think the claim that this can measure \"unreachable\" interfaces is misleading. The doc assumes that the probed interface IS reachable - e.g., [RB ] You have a good point. I am using the words \"unreachable\" and \"unaddressable\" interchangeably. They aren't synonyms. An interface is totally unreachable if its operational status is down. It might be partially unreachable if it is partially isolated by ACLS. That isn't what we are talking about in the draft. In the draft, we are talking about unaddressable interfaces. While it may be possible to send a packet *through* an unaddressable interface, it is not possible to send a packet *to* an unaddressable interface. For example, it is impossible to send a packet to an unnumbered interface. It is also impossible to send a packet to an interface whose only address is link local from an off-net device. I will fix this in the next draft version. AFAICT, you can't find out anything that ICMP hopcount-exceeded wouldn't report. The only difference is that you can control the target better and that the response comes back as an Echo-reply (which might be less likely to be blocked than hopcount-exceeded). [RB ] There is another difference. In order to determine the status of the probed interface using hopcount-exceeded, you have to make the probe packet traverse the probed interface. This may not be possible. This is why we need both (traditional) ping and traceroute today. Third, the destination interface and probed interface need to share the same network stack, not just be on the same node. There are network stacks that isolate processing for different interfaces, which might not be able to see the state of other interfaces inside the same machine. [RB ] Not always. For example, in our implementation, it is possible to identify the destination by IPv4 address and the probed interface by IPv6 address. Yet IPv4 and IPv6 are different network layer protocols. Bug: Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. I think you mean \"if it can reach any interface on the node\", but again this is misleading as per above. [RB ] Same response as above Additionally, I think this might have an existing equivalent when the probed interface has an address, e.g., it really seems like it ought to be equivalent to an IP with LSR whose destination IP is the \"destination\" and whose probe IP is the LSR \"next hop\". In a sense, it seems like you're just extending ping with LSR that allows for using ifName, ifIndex, or non-IP addresses rather than just IP addresses. It might be useful to describe that way, FWIW. [RB ] I'm not sure that I follow this paragraph. Also, IMO, the \"hopcount\" of this test ought to be decremented by 1 if the probed interface is not the received interface. Otherwise, you'd be reporting the same hopcount for the incoming interface and forwarded outgoing interfaces, which doesn't seem right to me. [RB ] Just to be specific, which packet should have its hopcount decremented and by which node? As always, thanks for the careful review Ron Joe"}
{"_id":"doc-en-intarea-difH4Gn-XNoH-y_U0AfckUV9s6I","title":"","text":"Re: [Int-area] Genart telechat review of draft-ietf-intarea-probe-07\nHi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision."}
{"_id":"doc-en-intarea-ehzBzS4Or4EOXdfZLH5Vf9m9-ZA","title":"","text":"[Int-area] Genart telechat review of draft-ietf-intarea-probe-07\nReviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/trac.ietf.org\/trac\/gen\/wiki\/GenArtfaq>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\""}
{"_id":"doc-en-intarea-yAXjW8njcoKnJmql6AUAQjddoZk","title":"","text":"Re: [Int-area] Genart telechat review of draft-ietf-intarea-probe-07\nI followed up with Ron on this a bit off-list to try to understand the goal of the E (or P) bit. (My understanding was clealry not a show stopper for advancing the draft.) After some explanation, I asked the following question (Ron suggested I send it to the list.) It seems you are trying to provide clarity for the neither F nor S case? If one had a pure bridge, with IP control, that supported this probe mechanism, couldn't you get the same \"neither F nor S\" answer? Or an ATM switch, or ...? Yours, Joel O"}
{"_id":"doc-en-intarea-pOb1zspvxvznLgDp5keC4fcq2yo","title":"","text":"Re: [Int-area] An extension to  PROBE [RFC8335] diagnostic tool\nManoj, Folks, We have posted 01 version of the draft “Probing IP Interfaces By Vendor Specific Identifiers”. This draft is extension to PROBE [RFC8335] diagnostic tool. The tool is extended so that the tool can identify the probed interface by Vendor Specific Identifiers , i.e Virtual Function Index (VFI) [SR-IOV]. This version of the draft has taken care of review comments provided for 00 version of the draft. Our draft is available at: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__www.ietf.org_internet-2Ddrafts_draft-2Dnayak-2Dintarea-2Dprobe-2Dby-2Dvfi-2D00.txt&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=yA4ZWVIeZge8k5n5C9m5Z-zj1dDJa0l6co6CaJ-JuJI&m=XUXYC3xqcaLYKixeq5vjqYz44nVjof_RBcsgZEe5Mw0&s=-V7zNXS7z4KClqgl40QrcWV4ZKfFZ_esDg_BAYZYmbU&e= I can’t open this link. I suspect it only works inside of Juniper. In the future if you are going to ask for comments, please include a link that is usable. Like one that starts with: https:\/\/tools.ietf.org\/html\/xxxxx Bob The Abstract is: This document enhances the PROBE diagnostic tool so that it can identify the probed interface by Vendor Specific Identifiers. In order to achieve that goal, this document also extends the Interface Identification Object. The Interface Identification Object is an ICMP Extension Object class. Any comments will be welcome. Thanks! Cheers, -- Manoj Nayak Juniper Networks e-mail: manojnayak@juniper.net _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/www.ietf.org\/mailman\/listinfo\/int-area"}
{"_id":"doc-en-intarea-9GOF94K80r_-SngqeXCHoTiqNYQ","title":"","text":"[Int-area] FW: New Version Notification for\n draft-ietf-intarea-probe-08.txt\nFolks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <rbonica@juniper.net>; Mohamed Boucadair <mohamed.boucadair@orange.com>; Jen Linkova <furry@google.com>; Reji Thomas <rejithomas@juniper.net>; J. Linkova <furry@google.com>; Chris Lenart <chris.lenart@verizon.com> Subject: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-08 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-08 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-08 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"doc-en-intarea-2Ko3F_Yure3ynTJUy7AZYA7TkV0","title":"","text":"[Int-area] Alvaro Retana's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nAlvaro Retana has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/www.ietf.org\/iesg\/statement\/discuss-criteria.html for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- (1) The Code field of the Request is set to 0 - what happens if a different value is received? (2) The Request includes 2 fields (Identifier and Sequence Number) that are used “to aid in matching Extended Echo Replies to Extended Echo Requests”. Their use seems to be a local matter (as the values are simply copied in to the Reply. Can you please provide guidance on their use? Why are there 2 fields (and not just a single one)? I’m assuming\/hoping that the design had use cases in mind that can be reflected in the document. (3) It would be nice to set up a registry for the Reserved fields. (4) I’m not sure I understand the use\/intention of the L-bit. The description says that it is used (on the Request) to indicate whether the probed interfaces resides on the proxy node (or not). How does the originator of the Request know that information? The other function of this bit seems to be to control how the Interface Identification Object can identify the probed interface…while it seems to make sense that a probed interface that doesn’t reside on the proxy node would only be identified by it’s address, it still makes me wonder how the sender of the Request would know, and why it even matters that it does and that it indicates it to the proxy node."}
{"_id":"doc-en-intarea-wAVNif44bb5j7SlM0pNEndja2go","title":"","text":"Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt\nSection 2.1: If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. The interface name MAY be some other human- meaningful name of the interface. The interface name MUST be represented in the UTF-8 charset [RFC3629] using the Default Language [RFC2277]. As I mentioned during the meeting today, the above text has a bunch of problems as written: 1) Saying UTF-8 is not sufficient, you need to discuss normalization form, etc. See RFC 7564. You can't just copy a paragraph from some other spec, you have to determine what properties you actually want, but the Precis WG defined a number of reusable classes. There are precis experts that can help the WG determine what profile is most appropriate. 2) You can't truncate a UTF-8 string at 255 octets and still have a valid UTF-8 string, since characters can span multiple octets and you might truncate in the middle and get a partial character, which leaves you with an invalid string. 3) The length restriction is only part of the SHOULD. Does that mean that if you follow the MAY, there is no such length restriction? Dave -----Original Message----- From: Int-area [mailto:int-area-bounces@ietf.org] On Behalf Of Ron Bonica Sent: Wednesday, July 12, 2017 5:46 PM To: int-area@ietf.org; Carlos Pignataro (cpignata) <cpignata@cisco.com> Subject: Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt Hi Carlos, Thanks for the review. Inline, below. Ron Hi, Ron, Authors, As I was reading over draft-ietf-intarea-probe-00, and wanted to share a couple of observations for your consideration. * Have you considered the tradeoff of defining new ICMP Types versus extending existing ICMP Types? If using existing ICMPv6 Echo Request\/Reply and extending them instead of defining brand new types, the backwards interoperability achieved is higher [ [RB ] I thought about extending the existing ICMP messages, but decided against it for backward compatibility reasons. Both existing messages end with a variable length data field. This field begins at a fixed position, but doesn't have a length attribute of its own. Therefore, we can't add any more fields after it. There may be ways to dance around the problem, but they all involve redefining the existing field in the existing message. * Have you considered using other protocols as well in addition to ICMP for the PROBE message, which can elicit ICMP errors or responses with appropriate extensions? In particular UDP is a protocol much used and desired for probes. [RB ] ICMP and UDP would both work. I chose ICMP because ICMP already supports legacy echo\/echo reply. But I'm not feeling religious about this. In the final analysis, I am willing to use whatever protocol the WG prefers. These two points actually reminded me of https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Ftools .ietf.org%2Fhtml%2Fdraft-&data=02%7C01%7Cdthaler%40microsoft.com%7C4f6 74c9180bf4a15581408d4c93d18ff%7C72f988bf86f141af91ab2d7cd011db47%7C1%7 C0%7C636354711627226706&sdata=G5vSnrYbaFBryTvzh5pn3AVaJz3hURtt1PJYLVah rnM%3D&reserved=0 shen-traceroute-ping-ext-04 (and the ICMP-only predecessor draft-shen- udp-traceroute-ext-01) that defines a probe extension applied to ICMP Echo Request and UDP, and RFC 4884 extensions to responses. That approach seems somewhat more generic. Additionally, I was also reminded of the ICMP AUP at RFC 7279, it would be useful to map against that doc to show how this is (as it is the case) a really good use of ICMP. [RB ] Section 3 of 7279 suggests that ICMP can be used for diagnostics. It calls out PING as being an acceptable use. But again, I don't feel religious about this. The protocol works over UDP just as well as it works over ICMP. Ron Thanks! ? Carlos. ******************************* _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fwww.ietf.org%2Fmailman%2Flistinfo%2Fint-area&data=02%7C01%7Cdthaler%40microsoft.com%7C4f674c9180bf4a15581408d4c93d18ff%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636354711627226706&sdata=xSDwSJAGRkBNGO9IO9FfArdLkywAnaHf8AZ5OWcsDsk%3D&reserved=0"}
{"_id":"doc-en-intarea-b4j_pl8AQHRZofD6vXRqfYKmf9c","title":"","text":"[Int-area] Last Call: <draft-ietf-intarea-probe-07.txt> (PROBE: A\n Utility For Probing Interfaces) to Proposed Standard\nThe IESG has received a request from the Internet Area Working Group WG (intarea) to consider the following document: - 'PROBE: A Utility For Probing Interfaces' <draft-ietf-intarea-probe-07.txt> as Proposed Standard The IESG plans to make a decision in the next few weeks, and solicits final comments on this action. Please send substantive comments to the ietf@ietf.org mailing lists by 2017-12-13. Exceptionally, comments may be sent to iesg@ietf.org instead. In either case, please retain the beginning of the Subject line to allow automated sorting. Abstract This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The file can be obtained via https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ IESG discussion can be tracked via https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ballot\/ The following IPR Declarations may be related to this I-D: https:\/\/datatracker.ietf.org\/ipr\/2813\/"}
{"_id":"doc-en-intarea-iyy4ICJJ976DEglsDh-uyCCIhi0","title":"","text":"Re: [Int-area] question about xping (draft-bonica-intarea-eping)\nSowmini, You have convinced me that there should be no information leaking at all. So, I think that the next version of the draft should enforce the following rules: - If the destination and probed interfaces are in the same VRF\/routing instance\/namespace, the ICMP Extended Echo Reply message will reflect the state of the probe interface - Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. Do you agree? Ron -----Original Message----- From: Sowmini Varadhan [mailto:sowmini.varadhan@oracle.com] Sent: Tuesday, March 28, 2017 6:42 PM To: Ron Bonica <rbonica@juniper.net> Cc: Reji Thomas <rejithomas@juniper.net>; furry@google.com; chris.lenart@verizon.com; int-area@ietf.org Subject: Re: question about xping (draft-bonica-intarea-eping) Good point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: - If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface - If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface - Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ok, but what about other forms of VRF-like virtualization like network namespaces? Things can get a bit trickier here because the same ifname can exist in multiple virtual objects. Also, interface ownership can be more blurry for some of these virtualization models like network namespaces- it's not always clear that the hypervisor (\"default netns\") owns the interface, when the interface is virtual. --Sowmini"}
{"_id":"doc-en-intarea-pT9o2HO2VVyVdUIgReCNnFLojmY","title":"","text":"Re: [Int-area] question about xping (draft-bonica-intarea-eping)\nHello Sowmini, Good point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: - If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface - If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface - Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ron -----Original Message----- From: Sowmini Varadhan [mailto:sowmini.varadhan@oracle.com] Sent: Tuesday, March 28, 2017 5:32 PM To: Ron Bonica <rbonica@juniper.net>; Reji Thomas <rejithomas@juniper.net>; furry@google.com; chris.lenart@verizon.com Cc: int-area@ietf.org; sowmini.varadhan@oracle.com Subject: question about xping (draft-bonica-intarea-eping) Hi, The draft says \".. the destination and probed interfaces must be local to one another (i.e., both interfaces must belong to the same node).\" However, virtualization raises some questions about how this should work, and maybe the draft should nail down some of the details with more clarity. What if the probed interface is assigned to a different VRF than the destination interface? e.g, What is the expected xping response if I receive # xping-I red0\/0\/0.0 10.10.10.1 on interface blue0 in the \"blue\" vrf, and red0 is in \"red\" VRF? Does the answer change if the destination interface is on the management VRF? similar question for other forms of virtualization, e.g,, What if the probed interface is assigned to a different network-namespace than the destination interface of an xping req? Does it matter if the above xping is received on the default network namespace vs some other network namespace? One could argue that all the physical intefaces are owned by the \"node\" (the management VRF? default netns?) but virtual interfaces like tunnels and macvlans are a grayer area (unlike physical interfaces, the latter do not default back to the mgmt VRF or default netns when the virtual object is destroyed, so their ownership is unclear). How should xping work in the face of virtual interfaces, e.g., the linux macvlan? How does it work when an interface is renamed? Will xping allow me to probe for \"tun0\" or \"Portchannel1\"? --Sowmini"}
{"_id":"doc-en-intarea-8v9XPdBB4tASbNE9tXpjCWbPiuM","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-03.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-03.txt Pages : 16 Date : 2017-07-23 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-03 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-03 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-03 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-w-9ovK5PZYakPQ-YCG4pIKVVYqg","title":"","text":"Re: [Int-area] Genart telechat review of draft-ietf-intarea-probe-07\nJoel, thanks for your review. Ron, thanks for engaging with Joel. I have entered a No Objection ballot. I gather the change will be reflected in the next rev. Alissa Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/trac.ietf.org\/trac\/gen\/wiki\/GenArtfaq>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/www.ietf.org\/mailman\/listinfo\/int-area"}
{"_id":"doc-en-intarea-vne0nNPHa8N66l78gPEDyHOQfgA","title":"","text":"Re: [Int-area] [Gen-art] Genart telechat review of\n draft-ietf-intarea-probe-07\nThat would be fa reasoanble way to address my genart review question. Yours, Joel On 12\/6\/17 11:13 AM, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:stewart.bryant@gmail.com] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <rbonica@juniper.net>; Joel M. Halpern <jmh@joelhalpern.com>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org; pals-chairs@tools.ietf.org; mpls-chairs@ietf.org; l2tpext-chairs@ietf.org; The IESG <iesg@ietf.org> Subject: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. - Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:jmh@joelhalpern.com] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <rbonica@juniper.net>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list Gen-art@ietf.org https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_mail man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e="}
{"_id":"doc-en-intarea-Hc7vYBQQUPDBy3KAnbtxe4j1uzo","title":"","text":"[Int-area] Ben Campbell's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nBen Campbell has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/www.ietf.org\/iesg\/statement\/discuss-criteria.html for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- -1.2: There is at least one lower case MUST. Unless that is intended as normative, please consider using the boilerplate from RFC8174. -8, last paragraph: \"MUST NOT leak information\" seems more like a goal or a statement of fact than a normative requirement. (I think the 2nd MUST in that paragraph describes the real normative requirement\")"}
{"_id":"doc-en-intarea-8S5eQ2lFt_CA6Q1w8Nw1l-EyaJ4","title":"","text":"Re: [Int-area] Ben Campbell's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nHi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:ben@nostrum.com] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Ben Campbell has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- -1.2: There is at least one lower case MUST. Unless that is intended as normative, please consider using the boilerplate from RFC8174. [RB ] Thanks! This will be fixed in the next version. -8, last paragraph: \"MUST NOT leak information\" seems more like a goal or a statement of fact than a normative requirement. (I think the 2nd MUST in that paragraph describes the real normative requirement\") [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. Ron"}
{"_id":"doc-en-intarea-L0im0eXhnLvQJpIzfiOrtX7Y3v0","title":"","text":"Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00\nHi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <rbonica@juniper.net>: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMC> Your opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP\/NC allows only to identify active interfaces). Correct? Best regards, JMC. <\/JMC> Ron <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC. Hi Ron,2017-10-31 17:45 GMT+01:00 Ron Bonica <rbonica@juniper.net>: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not?<JMC>Your opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP\/NC allows only to identify active interfaces).Correct?Best regards,JMC.<\/JMC> Ron <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC."}
{"_id":"doc-en-intarea-vzRL3zJj__nAav1sE-74o0dzDLE","title":"","text":"[Int-area] =?utf-8?q?RFC_8335_on_PROBE=3A_A_Utility_for_Probing_I?=\n =?utf-8?q?nterfaces?=\nA new Request for Comments is now available in online RFC libraries. RFC 8335 Title: PROBE: A Utility for Probing Interfaces Author: R. Bonica, R. Thomas, J. Linkova, C. Lenart, M. Boucadair Status: Standards Track Stream: IETF Date: February 2018 Mailbox: rbonica@juniper.net, rejithomas@juniper.net, furry@google.com, chris.lenart@verizon.com, mohamed.boucadair@orange.com Pages: 19 Characters: 35084 Updates: RFC 4884 I-D Tag: draft-ietf-intarea-probe-10.txt URL: https:\/\/www.rfc-editor.org\/info\/rfc8335 DOI: 10.17487\/RFC8335 This document describes a network diagnostic tool called PROBE. PROBE is similar to PING in that it can be used to query the status of a probed interface, but it differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface, or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. This document is a product of the Internet Area Working Group Working Group of the IETF. This is now a Proposed Standard. STANDARDS TRACK: This document specifies an Internet Standards Track protocol for the Internet community, and requests discussion and suggestions for improvements. Please refer to the current edition of the Official Internet Protocol Standards (https:\/\/www.rfc-editor.org\/standards) for the standardization state and status of this protocol. Distribution of this memo is unlimited. This announcement is sent to the IETF-Announce and rfc-dist lists. To subscribe or unsubscribe, see https:\/\/www.ietf.org\/mailman\/listinfo\/ietf-announce https:\/\/mailman.rfc-editor.org\/mailman\/listinfo\/rfc-dist For searching the RFC series, see https:\/\/www.rfc-editor.org\/search For downloading RFCs, see https:\/\/www.rfc-editor.org\/retrieve\/bulk Requests for special distribution should be addressed to either the author of the RFC in question, or to rfc-editor@rfc-editor.org. Unless specifically noted otherwise on the RFC itself, all RFCs are for unlimited distribution. The RFC Editor Team Association Management Solutions, LLC"}
{"_id":"doc-en-intarea-5vbi0tJGPfQLp0GcyxyhPWrvdkc","title":"","text":"[Int-area] Protocol Action: 'PROBE: A Utility For Probing\n Interfaces' to Proposed Standard (draft-ietf-intarea-probe-10.txt)\nThe IESG has approved the following document: - 'PROBE: A Utility For Probing Interfaces' (draft-ietf-intarea-probe-10.txt) as Proposed Standard This document is the product of the Internet Area Working Group. The IESG contact persons are Suresh Krishnan and Terry Manderson. A URL of this Internet Draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ Technical Summary This document describes PROBE, a new network diagnostic tool. PROBE is similar to the PING tool, since it can be used to test the status of a probed interface. However, differently from PING, it does not require bidirectional connectivity between the probing and probed interfaces. Bidirectional connectivity is required only between the probing interface and a proxy interface. The latter can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This make PROBE useful in situations where PING would not work, e.g.: o The probed interface is unnumbered o The probing and probed interfaces are not directly connected to one another. The probed interface has an IPv6 link-local address, but does not have a more globally scoped address o The probing interface runs IPv4 only while the probed interface runs IPv6 only o The probing interface runs IPv6 only while the probed interface runs IPv4 only o For lack of a route, the probing node cannot reach the probed interface. Working Group Summary The tool proposed in the document document simply overcomes some of the PING shortcomings, and as such has raised interest. During the various presentations in the IntArea meetings no technical objections have ever been raised. Several people have commented on the document and authors addressed these comments. Document Quality There is at least one implementation (by Juniper Networks) of the proposed mechanism. Personnel Luigi Iannone <ggx@gigix.net> is the Document Shepherd. Suresh Krishnan <suresh@kaloom.com> is the Responsible Area Director"}
{"_id":"doc-en-intarea-hwJzRQnSK9zkndVU0VHtCM58iHA","title":"","text":"[Int-area] RFC Editor Note for draft-ietf-intarea-probe-10\nHi all, The IANA evaluation of this document and the resulting codepoint allocation pointed out a potential misunderstanding regarding the desired range of code points (Thanks Amanda and Ron for sorting this out!). It would be nice to fix the IANA considerations text in the document to clarify this for posterity. I would like to take care of this with an RFC Editor Note instead of doing this during AUTH48. Please let me know if you have any comments or concerns regarding this. Thanks Suresh OLD: Add an entry to the \"ICMPv6 \"type\" Numbers\" registry, representing the Extended Echo Reply. This entry has the following codes: (0) No Error, (1) Malformed Query, (2) No Such Interface, (3) No Such Table Entry, (4) Multiple Interfaces Satisfy Query. NEW: Add an entry to the \"ICMPv6 \"type\" Numbers\" registry, representing the Extended Echo Reply. This entry has the following codes: (0) No Error, (1) Malformed Query, (2) No Such Interface, (3) No Such Table Entry, (4) Multiple Interfaces Satisfy Query. As ICMPv6 distinguishes between informational and error messages, and this is an informational message, the value must be assigned from the range 128-255."}
{"_id":"doc-en-intarea-493H4KSlwXf9Bn8kkrXnd0yFXe0","title":"","text":"[Int-area] An extension to  PROBE [RFC8335] diagnostic tool\nFolks, We have posted 01 version of the draft “Probing IP Interfaces By Vendor Specific Identifiers”. This draft is extension to PROBE [RFC8335] diagnostic tool. The tool is extended so that the tool can identify the probed interface by Vendor Specific Identifiers , i.e Virtual Function Index (VFI) [SR-IOV]. This version of the draft has taken care of review comments provided for 00 version of the draft. Our draft is available at: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__www.ietf.org_internet-2Ddrafts_draft-2Dnayak-2Dintarea-2Dprobe-2Dby-2Dvfi-2D00.txt&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=yA4ZWVIeZge8k5n5C9m5Z-zj1dDJa0l6co6CaJ-JuJI&m=XUXYC3xqcaLYKixeq5vjqYz44nVjof_RBcsgZEe5Mw0&s=-V7zNXS7z4KClqgl40QrcWV4ZKfFZ_esDg_BAYZYmbU&e= The Abstract is: This document enhances the PROBE diagnostic tool so that it can identify the probed interface by Vendor Specific Identifiers. In order to achieve that goal, this document also extends the Interface Identification Object. The Interface Identification Object is an ICMP Extension Object class. Any comments will be welcome. Thanks! Cheers, -- Manoj Nayak Juniper Networks e-mail: manojnayak@juniper.net Folks, We have posted 01 version of the draft “Probing IP Interfaces By Vendor Specific Identifiers”. This draft is extension to PROBE [RFC8335] diagnostic tool. The tool is extended so that the tool can identify the probed interface by Vendor Specific Identifiers , i.e Virtual Function Index (VFI) [SR-IOV]. This version of the draft has taken care of review comments provided for 00 version of the draft. Our draft is available at: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__www.ietf.org_internet-2Ddrafts_draft-2Dnayak-2Dintarea-2Dprobe-2Dby-2Dvfi-2D00.txt&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=yA4ZWVIeZge8k5n5C9m5Z-zj1dDJa0l6co6CaJ-JuJI&m=XUXYC3xqcaLYKixeq5vjqYz44nVjof_RBcsgZEe5Mw0&s=-V7zNXS7z4KClqgl40QrcWV4ZKfFZ_esDg_BAYZYmbU&e= The Abstract is: This document enhances the PROBE diagnostic tool so that it can identify the probed interface by Vendor Specific Identifiers. In order to achieve that goal, this document also extends the Interface Identification Object. The Interface Identification Object is an ICMP Extension Object class. Any comments will be welcome. Thanks! Cheers, -- Manoj Nayak Juniper Networks e-mail: manojnayak@juniper.net"}
{"_id":"doc-en-intarea-_ZBR5fwQTHfZbVugN0L8A6NCUDo","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-08.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-08.txt Pages : 17 Date : 2017-12-12 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-08 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-08 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-08 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-LkCPuyXyhXhcrzeUwIYylpyVRAE","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-02.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-02.txt Pages : 17 Date : 2017-07-22 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-02 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-02 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-02 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-dvxfeRUpFdi35EsnFcaeWZjXSQc","title":"","text":"Re: [Int-area] [Gen-art] Genart telechat review of\n draft-ietf-intarea-probe-07\nRon, Yes you can always add it in later as an update after thinking through the problem in more detail. - Stewart On 06\/12\/2017 16:13, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:stewart.bryant@gmail.com] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <rbonica@juniper.net>; Joel M. Halpern <jmh@joelhalpern.com>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org; pals-chairs@tools.ietf.org; mpls-chairs@ietf.org; l2tpext-chairs@ietf.org; The IESG <iesg@ietf.org> Subject: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. - Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:jmh@joelhalpern.com] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <rbonica@juniper.net>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list Gen-art@ietf.org https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_mail man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e="}
{"_id":"doc-en-intarea-Vmx14dyx25Mc9W9ZDbJRJh5k6t8","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-04.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-04.txt Pages : 16 Date : 2017-07-23 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-04 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-04 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-04 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-a6McWPHfIZByda6j185tGoQXkP8","title":"","text":"Re: [Int-area] RFC 8335 on PROBE: A Utility for Probing Interfaces\nDear all, Are there any open source reference implementations available for this utility? Kind regards, Job A new Request for Comments is now available in online RFC libraries. RFC 8335 Title: PROBE: A Utility for Probing Interfaces Author: R. Bonica, R. Thomas, J. Linkova, C. Lenart, M. Boucadair Status: Standards Track Stream: IETF Date: February 2018 Mailbox: rbonica@juniper.net, rejithomas@juniper.net, furry@google.com, chris.lenart@verizon.com, mohamed.boucadair@orange.com Pages: 19 Characters: 35084 Updates: RFC 4884 I-D Tag: draft-ietf-intarea-probe-10.txt URL: https:\/\/www.rfc-editor.org\/info\/rfc8335 DOI: 10.17487\/RFC8335 This document describes a network diagnostic tool called PROBE. PROBE is similar to PING in that it can be used to query the status of a probed interface, but it differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface, or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. This document is a product of the Internet Area Working Group Working Group of the IETF. This is now a Proposed Standard. STANDARDS TRACK: This document specifies an Internet Standards Track protocol for the Internet community, and requests discussion and suggestions for improvements. Please refer to the current edition of the Official Internet Protocol Standards (https:\/\/www.rfc-editor.org\/standards) for the standardization state and status of this protocol. Distribution of this memo is unlimited. This announcement is sent to the IETF-Announce and rfc-dist lists. To subscribe or unsubscribe, see https:\/\/www.ietf.org\/mailman\/listinfo\/ietf-announce https:\/\/mailman.rfc-editor.org\/mailman\/listinfo\/rfc-dist For searching the RFC series, see https:\/\/www.rfc-editor.org\/search For downloading RFCs, see https:\/\/www.rfc-editor.org\/retrieve\/bulk Requests for special distribution should be addressed to either the author of the RFC in question, or to rfc-editor@rfc-editor.org. Unless specifically noted otherwise on the RFC itself, all RFCs are for unlimited distribution. The RFC Editor Team Association Management Solutions, LLC"}
{"_id":"doc-en-intarea-lBhO-h3r1F_2v38Bt6E9e87yloQ","title":"","text":"Re: [Int-area] Eric Rescorla's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nOn Wed, Dec 13, 2017 at 1:43 PM, Ron Bonica <rbonica@juniper.net> wrote: Hi Eric, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Eric Rescorla [mailto:ekr@rtfm.com] Sent: Tuesday, December 12, 2017 7:21 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Eric Rescorla's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection [RB ] [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? [RB ] The ACL doesn't list all probe-capable nodes. It is configure on a probe-capable node and it enumerates the prefixes from which it will accept an ICMP Extended Echo Request. For example, assume that an ISP deploys PROBE capable software on its routers. By default, these routers won't accept an ICMP Extended Echo Request from anybody. The ISP will probably want to enable PROBE, but only if the ICMP Extended Echo Request comes from the NOC or from a few other trusted prefixes. So, the ISP will put those prefixes into the ACL. I am thinking that the number of prefixes will typically be very small (e.g., the NOC). Thanks. or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. [RB ] The proxy node could ping the probed interface, but that would require the router to main state. We don't want to go there for scaling and security reasons. Rather than doing that, PROBE looks for an entry in the ARP Table and Neighbor Cache. Prior version 08 of this draft, the proxy node assumed that the probed interface does not exist if it is not in the ARP Table and Neighbor Cache. IETF LC reviewers pointed out that this assumption is not safe. So now, the proxy node reports that the table entry does not exist. In no longer reports that the interface does not exist. OK. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? [RB ] This is a parameter to the Probe application. See the appendix. I did note that. It seems kind of limited, but it's your choice, obviously -Ekr Hi Eric, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Eric Rescorla [mailto:ekr@rtfm.com] Sent: Tuesday, December 12, 2017 7:21 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Eric Rescorla's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection [RB ] [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? [RB ] The ACL doesn't list all probe-capable nodes. It is configure on a probe-capable node and it enumerates the prefixes from which it will accept an ICMP Extended Echo Request. For example, assume that an ISP deploys PROBE capable software on its routers. By default, these routers won't accept an ICMP Extended Echo Request from anybody. The ISP will probably want to enable PROBE, but only if the ICMP Extended Echo Request comes from the NOC or from a few other trusted prefixes. So, the ISP will put those prefixes into the ACL. I am thinking that the number of prefixes will typically be very small (e.g., the NOC).Thanks. or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. [RB ] The proxy node could ping the probed interface, but that would require the router to main state. We don't want to go there for scaling and security reasons. Rather than doing that, PROBE looks for an entry in the ARP Table and Neighbor Cache. Prior version 08 of this draft, the proxy node assumed that the probed interface does not exist if it is not in the ARP Table and Neighbor Cache. IETF LC reviewers pointed out that this assumption is not safe. So now, the proxy node reports that the table entry does not exist. In no longer reports that the interface does not exist.OK. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? [RB ] This is a parameter to the Probe application. See the appendix.I did note that. It seems kind of limited, but it's your choice, obviously-Ekr"}
{"_id":"doc-en-intarea-POF662luv3OOGFbXROrTXJ1SUrs","title":"","text":"Re: [Int-area] Benoit Claise's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nHi Benoit, Thanks for the review. AFAICS, RFC 4560 gives the user a way to initiate legacy PING\/TRACEROUTE\/LOOKUP remotely, from a management station. But, are still talking about legacy PING\/TRACEROUTE\/LOOKUP. All of their shortcomings are still evident when initiated remotely. For example, there is no way to PING an unnumbered interface with RFC 4560. Are you sure that the reference to RFC 6812 is correct? I don't see how that RFC is related. I'm not qualified to comment on whether OWAMP IPR claims apply. Ron -----Original Message----- From: Benoit Claise [mailto:bclaise@cisco.com] Sent: Thursday, December 14, 2017 9:25 AM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Benoit Claise's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Benoit Claise has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_iesg_statement_discuss- 2Dcriteria.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=AynMJ1Dzf- NhKyZnImzuXC5wMSHzVpAgxNc6oY_kJms&s=WfTrBgbi3gm4XVJHaelwKLXs qZgCA9TU1b7kBLY4rug&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=AynMJ1Dzf- NhKyZnImzuXC5wMSHzVpAgxNc6oY_kJms&s=7JAC48ovLm_D080mPs2ZiFnfc 9YJrCko88elATpBbqk&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- No objection to the publication of this document. However, some comments. So basically you specify the same functionality as remote ping MIB in RFC4560 where - probing interface = SNMP manager - proxy interface = SNMP agent - probed agent = destination Right? So any connection with RFC4560? I guess this mechanism is a similar functionality as RFC 6812, where - proxy agent = sender - responder = destination ... even the technology is not based on the ICMP extended echo As such I believe that the RFC 6812 IPR applies here as well. However, I'm not the one to make the call. So I will forward to the appropriate persons. Potentially the OWAMP IPRs apply as well. https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_ipr_search_-3Fsubmit-3Ddraft-26id-3Ddraft- 2Dietf-2Dippm-2Dowdp&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=AynMJ1Dzf- NhKyZnImzuXC5wMSHzVpAgxNc6oY_kJms&s=6AQ1PoqsbVEWizOFnRjyUCN g5vXkexXALSuBika7XfE&e="}
{"_id":"doc-en-intarea-aNi8BIR2LCW6mnSHJcSj-RCFZoM","title":"","text":"Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00\nJean-Michel, I understand that Probe addresses two operational needs. One need is to probe the local node and the other is to probe a directly connected node. But in either case, Probe semantics must be consistent. Probe queries the status of exactly one interface. Regardless of whether the L-bit is set or clear, if two interface satisfy the Extended Echo Request Match criteria, the Extended Echo Reply must return an error code (3). Returning any information beyond that would be risky. For example, assume that both interfaces are active, one is running IPv4 only and the other is running IPv6 only? What would the Extended Echo Reply return? Ron From: Jean-Michel Combes [mailto:jeanmichel.combes@gmail.com] Sent: Monday, November 6, 2017 7:09 AM To: Ron Bonica <rbonica@juniper.net> Cc: int-area@ietf.org Subject: Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Hi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <rbonica@juniper.net<mailto:rbonica@juniper.net>>: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMC> Your opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP\/NC allows only to identify active interfaces). Correct? Best regards, JMC. <\/JMC> Ron <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC. Jean-Michel, I understand that Probe addresses two operational needs. One need is to probe the local node and the other is to probe a directly connected node. But in either case, Probe semantics must be consistent. Probe queries the status of exactly one interface. Regardless of whether the L-bit is set or clear, if two interface satisfy the Extended Echo Request Match criteria, the Extended Echo Reply must return an error code (3). Returning any information beyond that would be risky. For example, assume that both interfaces are active, one is running IPv4 only and the other is running IPv6 only? What would the Extended Echo Reply return? Ron From: Jean-Michel Combes [mailto:jeanmichel.combes@gmail.com] Sent: Monday, November 6, 2017 7:09 AM To: Ron Bonica <rbonica@juniper.net> Cc: int-area@ietf.org Subject: Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Hi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <rbonica@juniper.net>: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMC> Your opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP\/NC allows only to identify active interfaces). Correct? Best regards, JMC. <\/JMC> Ron <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC."}
{"_id":"doc-en-intarea-KN6rgUI8GnEKh4LHNqFrdrYCk5M","title":"","text":"Re: [Int-area] [OPS-DIR] Opsdir telechat review of\n draft-ietf-intarea-probe-07\nHi Stephan, Happy Holidays! Response inline....... Ron -----Original Message----- From: Stefan Winter [mailto:stefan.winter@restena.lu] Sent: Friday, December 22, 2017 6:46 AM To: Ron Bonica <rbonica@juniper.net>; ops-dir@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Re: [OPS-DIR] Opsdir telechat review of draft-ietf-intarea-probe-07 Hello, I've taken a look at -10 now. All of my nittry-gritty has cleared. The one thing I'm still not sure about the \/wording\/ is the L-bit question. With your explanations below, I think I now get the intent of the L-bit and understand its usefulness. The text I see in -10 still doesn't seem to be in line with those explanations. Maybe it's just English grammar issues, feel free to tell me if I'm on the wrong side of the language barrier. [RB ] Let the dialog begin ;-) * I understood your explanations to mean: with the L-Bit, the probING interface directs the PROXY interface: - L-Bit set: probing interface requests that proxy interface only considers the internal state of (its own) probED interface - L-Bit not set: probING interface instructs PROXY interface to consult ARP\/NC to infer the state of probED interface [RB ] I think we are saying the same thing, but I will say it a different way, just to be certain that we have the same picture in mind. The probing node sets the L-bit to instruct the proxy node that the probed interface resides on the proxy node. The probing node clears the L-bit to instruct the proxy node that the probed interface does not reside on the proxy node. Instead, it is directly connected to the proxy node. It is then a simple corollary that clearing the L-bit only makes sense when probing by address; because that's the only identifier that is contained in the ARP \/ NC databases. [RB ] True! But when I read chapter 2 \/ ICMP fields: L bit text: \"The L-bit is set if the probed interface resides on the proxy node. The L-bit is clear if the probed interface is directly connected to the proxy node.\" And this is where I difficulties. The relationship between proxy and probed is either \"resides-on\" or \"connected-to\". [RB ] Yes, this may be where we are getting into trouble. Let me offer an illustration to clarify the phrases \"resides on\" and \"connected to\": Assume a topology where Nodes A and B are connected by a point-to-point link. On Node A's side, the link address is 192.0.2.1. On Node B's side, the link address is 192.0.2.2. In this topology, 192.0.2.1 is local to Node A, while 192.0.2.2 is directly connected to Node A. Conversely 192.0.1.2 is local to Node B, while 192.0.2.1 is directly connected to Node B. So the probING device does almost never have a degree of freedom when populating the L-bit. [RB ] This is where we diverge. The probing node *always* determines the value of the L-bit. Recall that the L-bit appears in the Echo Request, but not in the Echo Reply. The only opportunity when it can make a choice is if it is identifying the probed interface by-address, and the address exists both on the proxy node and on a link on a directly connected node. Then, and only then, the L-Bit actually signals \"I mean the remote one \/ I mean the local one\". In all other cases, the L-Bit is superfluous as its set\/notset state is dictated by the network architecture. [RB ] Here, you have a point. If the probing node probes by name or index, the L-bit is redundant. It only adds value when we are probing by address. I could have ignored the L-bit when probing by name or index, but decided to insist that it be set correctly. OCD at work ;-) This is, ultimately, what the quoted text above says - but it's written in a back-to-front way IMHO; it doesn't tell an implementer what to \/do\/ with the L-bit, but rather where it's value came from. With my interpretation of the intent, a text which fits much more naturally to me would be along the lines of: \"If the L-bit is set, the proxy interface must infer the most adequate reply from its internal state; if it is not set, the proxy interface must consult the ARP and\/or Neighbor Cache databases for the probed interface address to determine its state.\" [RB ] The point that you raise is very important. Please take a look at the last two paragraphs in Section 1.0. They might satisfy the requirement. If I'm still totally besides the point, I'm prepared to give up and let go on this point :-) [RB ] I think that you are on target. But again, take a look at those last two paragraphs in Section 1.0. The only other significant point I'd like some more discussion on is: \"As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table \/ Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table \/ Neighbor Cache. So, I recommend that we change the procedure as follows: - Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. - If no entry is found, send a reply stating No Such ARP \/ NC Entry (This is a new error code) - If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you?\" That's much better than before! It now comes out clearer that any reply that's given does not have certainty (\"No such Entry\" != \"doesn't exist\"; \"No error\" != \"Interface active right now\". That reply has a low operational value though (it had that before the wording change already). I.e. I sent a PROBE to find out if address X is alive and kicking, but the reply is \"maybe\" because old entries in ARP\/NC might not reflect current reality. I wouldn't trust PROBE's results if operating in cleared-L-Bit mode (and, ultimately, wouldn't care to use it at all in many circumstances). I believe the draft could do more to get actual, fresh data from directly connected probed interfaces: it could allow the proxy interface to execute a PING of its own towards the address to get an \/actual, real-time\/ status. That's an information I would trust much more than merely looking at ARP\/NC. [RB ] I thought about pinging the remote interface and decided against it. This would make the protocol stateful, with all of the attendant security considerations. It might even prevent deployment. Text-wise, it's simple to retrofit this: just before the ARP\/NC lookup introduce a MAY execute PING4\/6 which updates the DB if active. Of course, this does generate extra traffic, and it's a question if this is desirable. IMHO, the freshness of the resulting data warrants it. It might make sense to add - a Request flag \"Active Probing\" (probing node allows proxy node to actively reach out to probed interface) - a Reply flag \"Real-Time\" (proxy interface signals that it has fresh data; arguably one could then also set the \"A\" flag as the interface is then known to be active) I realise I'm feature-creeping here. Do what you like with it :-) Greetings, Stefan [RB ] Thanks again for the thoughtful review. Let's get together in London to discuss the remote ping problem. Ron Stephan, Thanks for the thoughtful review. Responses inline. Rpn -----Original Message----- From: ietf [mailto:ietf-bounces@ietf.org] On Behalf Of Stefan Winter Sent: Monday, December 4, 2017 9:02 AM To: ops-dir@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Opsdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Stefan Winter Review result: Has Issues Issues: * Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. [RB ] If the L-bit is clear, the proxy interface does not ping the probed interface. Instead, the node upon which the proxy interface resides executes the following procedure: - Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. - If no entry is found, send a reply stating No Such Interface - If an entry is found, send a reply stating that the interface is active As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table \/ Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table \/ Neighbor Cache. So, I recommend that we change the procedure as follows: - Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. - If no entry is found, send a reply stating No Such ARP \/ NC Entry (This is a new error code) - If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you? * Request -> L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. [RB ] Sometimes, this is not possible. For example, assume that a router has interfaces ge-0\/0\/0.0 and ge-0\/0\/1.0. The local side of ge-0\/0\/0.0 had the IPv6 link local address fe80::dead:beef. The remote side of the interface ge- 0\/0\/1.0 has the same IPv6 link local address. The user can set or clear the L-bit to indicate which interface is being probed. Without the L-but, PROBE would return an error (Multiple Interfaces Satisfy Query). [RB ] > Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; [RB ] See above the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] [RB ] How are these contradictory? The user sets the L-bit if the proxy and probed interfaces are on the same node. The user clears the L-bit of the proxy interface is on a node that is directly connected to the probed interface? b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] [RB ] I don't see the contradiction. If you are querying a non-local interface, you are going to search the ARP Table \/ Neighbor Cache. So, you need to query by address. You don't know the remote interface name or interface index. The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L- Bit clear is default off already. [RB ] I'm not sure that I follow this paragraph * Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). [RB ] Fair enough. I will change them to 4-bit and 6-bit Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. [RB ] This objection may be cleared up as a side effect of clearing the previous objection * Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. [RB ] It is a dictionary attack using a very small dictionary ;-) My point wasn't so much to explain how an attacker might discover interface names, but to warn that it is possible. Nits: * Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous. [RB ] Good catch. Fixed in the next version. -- Stefan WINTER Ingenieur de Recherche Fondation RESTENA - Réseau Téléinformatique de l'Education Nationale et de la Recherche 2, avenue de l'Université L-4365 Esch-sur-Alzette Tel: +352 424409 1 Fax: +352 422473 PGP key updated to 4096 Bit RSA - I will encrypt all mails if the recipient's key is known to me http:\/\/pgp.mit.edu:11371\/pks\/lookup?op=get&search=0xC0DE6A358A39DC6 6"}
{"_id":"doc-en-intarea-ULbDPLkkNuHCRXQSylRYzpCFwis","title":"","text":"Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00\nJean-Michele, Thanks for the thoughtful review. I will post a new version addressing your comments today or tomorrow. Responses inline...... Ron Subject: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Message-ID: <150912536515.22228.10940363588216201270@ietfa.amsl.com> Content-Type: text\/plain; charset=\"utf-8\" Reviewer: Jean-Michel Combes Review result: Almost Ready Hi, I am an assigned INT directorate reviewer for draft-ietf-intarea-probe-06. These comments were written primarily for the benefit of the Internet Area Directors. Document editors and shepherd(s) should treat these comments just like they would treat comments from any other IETF contributors and resolve them along with any other Last Call comments that have been received. For more details on the INT Directorate, see https:\/\/urldefense.proofpoint.com\/v2\/url?u=http- 3A__www.ietf.org_iesg_directorate.html&d=DwICAg&c=HAkYuh63rsuhr6Sc bfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=VGSSVlquIpFROEmOdJ5fpnG3ivRSQQaY23hP8P0 dBQs&s=mO2Ham-yMdBeeKDYThOOP6vfCePpUoAVnBorws9AIuU&e=. PROBE: A Utility For Probing Interfaces draft-ietf-intarea-probe-06 <snip> 1. Introduction <snip> If the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table or the IPv6 Neighbor Cache. Otherwise, it reports that the interface does not exist. <JMC> Comment: Normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861) are missing. <\/JMC> <snip> [RB ] Good catch. Fixed in next version. 2. ICMP Extended Echo Request <snip> o L (local) - The L-bit is set of the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. <JMC> Typo: s\/\"The L-bit is set of the probed interface resides on the probed node.\"\/\"The L-bit is set if the probed interface resides on the probed node.\" <\/JMC> <snip> [RB ] Another good catch. Fixed in the next version. 3. ICMP Extended Echo Reply <snip> o F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMC> Question: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? <\/JMC> [RB ] This was a typo. I meant to say: 0 E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear. 4. ICMP Message Processing <snip> o Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. 8. Security Considerations <snip> In order to protect local resources, implementations SHOULD rate-limit incoming ICMP Extended Echo Request messages. <JMC> Comment: IMHO, the main security threat I see with this mechanism is to use it as \"reflection\" scanning: to discover nodes \"behind\" the proxy interface, without raising alarms from security probes watching the networks hosting these nodes. So, rate-limit can help to mitigate this potential threat too. <\/JMC> [RB ] Yes, this does slow down the scanning attack. But it doesn't really mitigate it. The savvy attacker will scan slowly. Thanks again for the thorough review. Ron 9. References 9.1. Normative References <snip> <JMC> Comment: Too add normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861), as commented previously. <\/JMC> <snip> Thanks in advance for your replies. Best regards, JMC. ------------------------------ Subject: Digest Footer _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_mailman_listinfo_int- 2Darea&d=DwICAg&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=VGSSVlquIpFROEmOdJ5fpnG3ivRSQQaY23hP8P0 dBQs&s=Y0X9xlzWjiF5Nk7ImagKKmupi29NSBXKlHFhrzO7dYc&e= ------------------------------ End of Int-area Digest, Vol 146, Issue 28 *****************************************"}
{"_id":"doc-en-intarea-lxPe1tcPkhPS3-z9Syf2hSZU3No","title":"","text":"Re: [Int-area] Benoit Claise's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nHi Ron, Hi Benoit, Thanks for the review. AFAICS, RFC 4560 gives the user a way to initiate legacy PING\/TRACEROUTE\/LOOKUP remotely, from a management station. But, are still talking about legacy PING\/TRACEROUTE\/LOOKUP. All of their shortcomings are still evident when initiated remotely. For example, there is no way to PING an unnumbered interface with RFC 4560. ok. Are you sure that the reference to RFC 6812 is correct? Yes. I don't see how that RFC is related. I'm not qualified to comment on whether OWAMP IPR claims apply. Regards , Benoit Ron -----Original Message----- From: Benoit Claise [mailto:bclaise@cisco.com] Sent: Thursday, December 14, 2017 9:25 AM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Benoit Claise's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Benoit Claise has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__www.ietf.org_iesg_statement_discuss- 2Dcriteria.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=AynMJ1Dzf- NhKyZnImzuXC5wMSHzVpAgxNc6oY_kJms&s=WfTrBgbi3gm4XVJHaelwKLXs qZgCA9TU1b7kBLY4rug&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=AynMJ1Dzf- NhKyZnImzuXC5wMSHzVpAgxNc6oY_kJms&s=7JAC48ovLm_D080mPs2ZiFnfc 9YJrCko88elATpBbqk&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- No objection to the publication of this document. However, some comments. So basically you specify the same functionality as remote ping MIB in RFC4560 where - probing interface = SNMP manager - proxy interface = SNMP agent - probed agent = destination Right? So any connection with RFC4560? I guess this mechanism is a similar functionality as RFC 6812, where - proxy agent = sender - responder = destination ... even the technology is not based on the ICMP extended echo As such I believe that the RFC 6812 IPR applies here as well. However, I'm not the one to make the call. So I will forward to the appropriate persons. Potentially the OWAMP IPRs apply as well. https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__datatracker.ietf.org_ipr_search_-3Fsubmit-3Ddraft-26id-3Ddraft- 2Dietf-2Dippm-2Dowdp&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=AynMJ1Dzf- NhKyZnImzuXC5wMSHzVpAgxNc6oY_kJms&s=6AQ1PoqsbVEWizOFnRjyUCN g5vXkexXALSuBika7XfE&e="}
{"_id":"doc-en-intarea-nQRs9YfH9vRDPk7F14V0e9jR0h4","title":"","text":"Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt\nHi Carlos, Thanks for the review. Inline, below. Ron Hi, Ron, Authors, As I was reading over draft-ietf-intarea-probe-00, and wanted to share a couple of observations for your consideration. * Have you considered the tradeoff of defining new ICMP Types versus extending existing ICMP Types? If using existing ICMPv6 Echo Request\/Reply and extending them instead of defining brand new types, the backwards interoperability achieved is higher [ [RB ] I thought about extending the existing ICMP messages, but decided against it for backward compatibility reasons. Both existing messages end with a variable length data field. This field begins at a fixed position, but doesn't have a length attribute of its own. Therefore, we can't add any more fields after it. There may be ways to dance around the problem, but they all involve redefining the existing field in the existing message. * Have you considered using other protocols as well in addition to ICMP for the PROBE message, which can elicit ICMP errors or responses with appropriate extensions? In particular UDP is a protocol much used and desired for probes. [RB ] ICMP and UDP would both work. I chose ICMP because ICMP already supports legacy echo\/echo reply. But I'm not feeling religious about this. In the final analysis, I am willing to use whatever protocol the WG prefers. These two points actually reminded me of https:\/\/tools.ietf.org\/html\/draft- shen-traceroute-ping-ext-04 (and the ICMP-only predecessor draft-shen- udp-traceroute-ext-01) that defines a probe extension applied to ICMP Echo Request and UDP, and RFC 4884 extensions to responses. That approach seems somewhat more generic. Additionally, I was also reminded of the ICMP AUP at RFC 7279, it would be useful to map against that doc to show how this is (as it is the case) a really good use of ICMP. [RB ] Section 3 of 7279 suggests that ICMP can be used for diagnostics. It calls out PING as being an acceptable use. But again, I don't feel religious about this. The protocol works over UDP just as well as it works over ICMP. Ron Thanks! ? Carlos. *******************************"}
{"_id":"doc-en-intarea-YS13BdRnzYS0LIau7JtqKP_Jc3A","title":"","text":"Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00\nHi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? Ron <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC. Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? Ron <JMC> Question: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC> <snip> [RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMC> But, even if this is ambiguous, IMHO, all the interfaces are active => A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC> <snip> Best regards, JMC."}
{"_id":"doc-en-intarea-78m7Wi85ruljYLQr4IGLhavjeXk","title":"","text":"Re: [Int-area] Warren Kumari's Discuss on\n draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT)\nHi Warren, Thanks for the review. Comments inline....... Happy Holidays, Ron -----Original Message----- From: Warren Kumari [mailto:warren@kumari.net] Sent: Wednesday, December 13, 2017 4:54 PM To: The IESG <iesg@ietf.org> Cc: draft-ietf-intarea-probe@ietf.org; Luigi Iannone <ggx@gigix.net>; intarea-chairs@ietf.org; ggx@gigix.net; int-area@ietf.org Subject: Warren Kumari's Discuss on draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT) Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed \/ on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: https:\/\/urldefense.proofpoint.com\/v2\/url?u=https-3A__www.ietf.org_mail- 2Darchive_web_int- 2Darea_current_msg06136.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBX eMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=-FTEnwX0qAUuswd5C59LJixx92pB- lCmDysSzvMuD4E&s=eYX_7OsniE8LwWIAtu0fANguom6rE7Uvol5fgVcNQCU& e= works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. [RB ] Stephan raised the following legitimate points: 1) The presence of an ARP TABLE \/ Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface is active 2) The absence of an ARP Table \/ Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface does not exist We addressed the second point by changing an error message. When the proxy node probes the ARP Table \/ Neighbor Cache and finds nothing, it used to return an ICMP Echo Reply with code equal to \"No Such Interface\". Now it returns an ICMP Echo Reply message with code equal to \"No Such Table Entry\". This is more accurate. Frankly, we didn't address Stephan's first point. I think that we should address it by making the ICMP Echo Reply Message report more accurately. Specifically, when the proxy node searches the ARP Table \/ Neighbor Cache and finds an entry: - Set the code to 0 (No Error) - Clear the A-bit, the 4-bit and the 6-bit - return the state of the neighbor cache entry What do you think? That sounds perfectly fine to me. Note that I have cleared my DISCUSS on the telechat - I was only holding it so that I got a chance to note on the call that these changes will require what could be argued is a substantive change to the document, and to make sure that, like me, the rest of the IESG was fine with that. The above sounds fine to me, and I (of course) trust y'all and Suresh to make whatever changes seem sensible. W ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-) -- I don't think the execution is relevant when it was obviously a bad idea in the first place. This is like putting rabid weasels in your pants, and later expressing regret at having chosen those particular rabid weasels and that pair of pants. ---maf"}
{"_id":"doc-en-intarea-eQrkU-cJfRkoXwEU7hUUTJ0vB90","title":"","text":"[Int-area] I-D Action: draft-ietf-intarea-probe-06.txt\nA New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the Internet Area Working Group WG of the IETF. Title : PROBE: A Utility For Probing Interfaces Authors : Ron Bonica Reji Thomas Jen Linkova Chris Lenart Mohamed Boucadair Filename : draft-ietf-intarea-probe-06.txt Pages : 17 Date : 2017-09-26 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. The IETF datatracker status page for this draft is: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ There are also htmlized versions available at: https:\/\/tools.ietf.org\/html\/draft-ietf-intarea-probe-06 https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-intarea-probe-06 A diff from the previous version is available at: https:\/\/www.ietf.org\/rfcdiff?url2=draft-ietf-intarea-probe-06 Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/"}
{"_id":"doc-en-intarea-7ummgSyJpfpWpmatDaazmyWo1fQ","title":"","text":"Re: [Int-area] Secdir telechat review of draft-ietf-intarea-probe-07\nHi Ron, Thanks for putting me right about the expected use case. Please consider including these paragraphs more or less as-is in the security considerations. While informal, they give the reader a good idea how to use this facility securely. Regards, Yaron Hello Yaron, Thanks for the thoughtful review. Responses inline...... Ron -----Original Message----- From: Yaron Sheffer [mailto:yaronf.ietf@gmail.com] Sent: Saturday, December 2, 2017 4:35 PM To: secdir@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Secdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) * The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. [RB ] I agree with all of the points that you raise above, except for the part about white listing. This isn't security theater. It's real. For the most part, hosts will stick with the default PROBE configuration. That is, they won't honor an ICMP Extended Echo Request of any type from any source. A good number of network operators will enable PROBE on their routers, but for the reasons that you point out above, they won't want their routers being probed from untrusted subnetworks. They will probably restrict probe access to a few trusted subnets that are within their administrative domain (e.g., the NOC, network controllers). I doubt if anyone will expose their routers to PROBING from all points on the Internet. Other Details * Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). [RB ] I can fix that in the next version * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). [RB ] Joel Halpern raised the same point in his review. In the next version, the probed node will be called the proxy node. * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" [RB ] Same fix as above * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? [RB ] I will check RFC 792 and use whatever words they used * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3? [RB ] Joel Halpern raised the same issue in his review. We will rename this bit to indicate that it is a Pseudowire endpoint, without mentioning what kind of PW endpoint it is. Ron"}
{"_id":"doc-en-intarea-d3voN5fQIwMhWYuoxBbk-5MLwOA","title":"","text":"Re: [Int-area] Genart telechat review of draft-ietf-intarea-probe-07\nJoel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:jmh@joelhalpern.com] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <rbonica@juniper.net>; gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:jmh@joelhalpern.com] Sent: Thursday, November 30, 2017 4:45 PM To: gen-art@ietf.org Cc: draft-ietf-intarea-probe.all@ietf.org; int-area@ietf.org; ietf@ietf.org Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at <https:\/\/urldefense.proofpoint.com\/v2\/url?u=https- 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=>. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision."}
{"_id":"doc-en-intarea-IIHxJ9Fs96npHwczzy_p3SKZ6ho","title":"","text":"[Int-area] Secdir telechat review of draft-ietf-intarea-probe-07\nReviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) * The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. Other Details * Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3?"}
{"_id":"doc-en-intarea-Yh1FtTHPIIC5IRbpCLyMWzI2I7Q","title":"","text":"Re: [Int-area] FW: New Version Notification for\n draft-bonica-intarea-eping-00.txt\nHi, Ron, et al., I'm a little confused at this proposal. First, IP addresses can be assigned to interfaces or hosts. Interfaces don't have to have IP addresses, esp. point-to-point interfaces or those used \"anonymously\" (e.g., for broadcast send\/receive). Second, I think the claim that this can measure \"unreachable\" interfaces is misleading. The doc assumes that the probed interface IS reachable - e.g., AFAICT, you can't find out anything that ICMP hopcount-exceeded wouldn't report. The only difference is that you can control the target better and that the response comes back as an Echo-reply (which might be less likely to be blocked than hopcount-exceeded). Third, the destination interface and probed interface need to share the same network stack, not just be on the same node. There are network stacks that isolate processing for different interfaces, which might not be able to see the state of other interfaces inside the same machine. Bug: Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. I think you mean \"if it can reach any interface on the node\", but again this is misleading as per above. Additionally, I think this might have an existing equivalent when the probed interface has an address, e.g., it really seems like it ought to be equivalent to an IP with LSR whose destination IP is the \"destination\" and whose probe IP is the LSR \"next hop\". In a sense, it seems like you're just extending ping with LSR that allows for using ifName, ifIndex, or non-IP addresses rather than just IP addresses. It might be useful to describe that way, FWIW. Also, IMO, the \"hopcount\" of this test ought to be decremented by 1 if the probed interface is not the received interface. Otherwise, you'd be reporting the same hopcount for the incoming interface and forwarded outgoing interfaces, which doesn't seem right to me. Joe Please review and comment. Ron -----Original Message----- From: internet-drafts@ietf.org [mailto:internet-drafts@ietf.org] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <rbonica@juniper.net>; Reji Thomas <rejithomas@juniper.net> Subject: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: https:\/\/www.ietf.org\/internet-drafts\/draft-bonica-intarea-eping-00.txt Status: https:\/\/datatracker.ietf.org\/doc\/draft-bonica-intarea-eping\/ Htmlized: https:\/\/tools.ietf.org\/html\/draft-bonica-intarea-eping-00 Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/www.ietf.org\/mailman\/listinfo\/int-area"}
{"_id":"doc-en-intarea-H8yR6VzxfO6Yc8w45zRYhFDe5cc","title":"","text":"[Int-area] Alexey Melnikov's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nAlexey Melnikov has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/www.ietf.org\/iesg\/statement\/discuss-criteria.html for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- This is a fine document. One small comment about the note in the IANA Considerations section suggesting that the whole section is to be removed before publication. This note is not correct, as IANA needs to be able to point to documents which originated various IANA actions."}
{"_id":"doc-en-intarea-3UvaklppVi6hdw6Y3D94_-Cv9f8","title":"","text":"Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt\nSection 5.11 of https:\/\/tools.ietf.org\/html\/rfc7652 contains an example of the sort of things you have to say, but you can't just paste that without analyzing whether your case wants the same semantics as that RFC uses. In fact you probably don't, since that one is more of a username than an interfacename. -----Original Message----- From: Dave Thaler Sent: Thursday, July 20, 2017 10:03 AM To: 'Ron Bonica' <rbonica@juniper.net>; 'int-area@ietf.org' <int-area@ietf.org> Subject: RE: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt BTW, RFC 7564 is being updated by https:\/\/tools.ietf.org\/html\/draft-ietf-precis-7564bis-09 which is in IESG evaluation. -----Original Message----- From: Dave Thaler Sent: Thursday, July 20, 2017 10:01 AM To: 'Ron Bonica' <rbonica@juniper.net>; int-area@ietf.org Subject: RE: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt Section 2.1: If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. The interface name MAY be some other human- meaningful name of the interface. The interface name MUST be represented in the UTF-8 charset [RFC3629] using the Default Language [RFC2277]. As I mentioned during the meeting today, the above text has a bunch of problems as written: 1) Saying UTF-8 is not sufficient, you need to discuss normalization form, etc. See RFC 7564. You can't just copy a paragraph from some other spec, you have to determine what properties you actually want, but the Precis WG defined a number of reusable classes. There are precis experts that can help the WG determine what profile is most appropriate. 2) You can't truncate a UTF-8 string at 255 octets and still have a valid UTF-8 string, since characters can span multiple octets and you might truncate in the middle and get a partial character, which leaves you with an invalid string. 3) The length restriction is only part of the SHOULD. Does that mean that if you follow the MAY, there is no such length restriction? Dave -----Original Message----- From: Int-area [mailto:int-area-bounces@ietf.org] On Behalf Of Ron Bonica Sent: Wednesday, July 12, 2017 5:46 PM To: int-area@ietf.org; Carlos Pignataro (cpignata) <cpignata@cisco.com> Subject: Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt Hi Carlos, Thanks for the review. Inline, below. Ron Hi, Ron, Authors, As I was reading over draft-ietf-intarea-probe-00, and wanted to share a couple of observations for your consideration. * Have you considered the tradeoff of defining new ICMP Types versus extending existing ICMP Types? If using existing ICMPv6 Echo Request\/Reply and extending them instead of defining brand new types, the backwards interoperability achieved is higher [ [RB ] I thought about extending the existing ICMP messages, but decided against it for backward compatibility reasons. Both existing messages end with a variable length data field. This field begins at a fixed position, but doesn't have a length attribute of its own. Therefore, we can't add any more fields after it. There may be ways to dance around the problem, but they all involve redefining the existing field in the existing message. * Have you considered using other protocols as well in addition to ICMP for the PROBE message, which can elicit ICMP errors or responses with appropriate extensions? In particular UDP is a protocol much used and desired for probes. [RB ] ICMP and UDP would both work. I chose ICMP because ICMP already supports legacy echo\/echo reply. But I'm not feeling religious about this. In the final analysis, I am willing to use whatever protocol the WG prefers. These two points actually reminded me of https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Ftools .ietf.org%2Fhtml%2Fdraft-&data=02%7C01%7Cdthaler%40microsoft.com%7C4f6 74c9180bf4a15581408d4c93d18ff%7C72f988bf86f141af91ab2d7cd011db47%7C1%7 C0%7C636354711627226706&sdata=G5vSnrYbaFBryTvzh5pn3AVaJz3hURtt1PJYLVah rnM%3D&reserved=0 shen-traceroute-ping-ext-04 (and the ICMP-only predecessor draft-shen- udp-traceroute-ext-01) that defines a probe extension applied to ICMP Echo Request and UDP, and RFC 4884 extensions to responses. That approach seems somewhat more generic. Additionally, I was also reminded of the ICMP AUP at RFC 7279, it would be useful to map against that doc to show how this is (as it is the case) a really good use of ICMP. [RB ] Section 3 of 7279 suggests that ICMP can be used for diagnostics. It calls out PING as being an acceptable use. But again, I don't feel religious about this. The protocol works over UDP just as well as it works over ICMP. Ron Thanks! ? Carlos. ******************************* _______________________________________________ Int-area mailing list Int-area@ietf.org https:\/\/na01.safelinks.protection.outlook.com\/?url=https%3A%2F%2Fwww.ietf.org%2Fmailman%2Flistinfo%2Fint-area&data=02%7C01%7Cdthaler%40microsoft.com%7C4f674c9180bf4a15581408d4c93d18ff%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636354711627226706&sdata=xSDwSJAGRkBNGO9IO9FfArdLkywAnaHf8AZ5OWcsDsk%3D&reserved=0"}
{"_id":"doc-en-intarea-EbKsFMXPgLxlB89aOpPjsk6rzHY","title":"","text":"[Int-area] question about xping (draft-bonica-intarea-eping)\nHi, The draft says \".. the destination and probed interfaces must be local to one another (i.e., both interfaces must belong to the same node).\" However, virtualization raises some questions about how this should work, and maybe the draft should nail down some of the details with more clarity. What if the probed interface is assigned to a different VRF than the destination interface? e.g, What is the expected xping response if I receive # xping-I red0\/0\/0.0 10.10.10.1 on interface blue0 in the \"blue\" vrf, and red0 is in \"red\" VRF? Does the answer change if the destination interface is on the management VRF? similar question for other forms of virtualization, e.g,, What if the probed interface is assigned to a different network-namespace than the destination interface of an xping req? Does it matter if the above xping is received on the default network namespace vs some other network namespace? One could argue that all the physical intefaces are owned by the \"node\" (the management VRF? default netns?) but virtual interfaces like tunnels and macvlans are a grayer area (unlike physical interfaces, the latter do not default back to the mgmt VRF or default netns when the virtual object is destroyed, so their ownership is unclear). How should xping work in the face of virtual interfaces, e.g., the linux macvlan? How does it work when an interface is renamed? Will xping allow me to probe for \"tun0\" or \"Portchannel1\"? --Sowmini"}
{"_id":"doc-en-intarea-P7rBBjO4ea-zTCbvUaZl06k5fnA","title":"","text":"[Int-area] Kathleen Moriarty's No Objection on\n draft-ietf-intarea-probe-09: (with COMMENT)\nKathleen Moriarty has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to https:\/\/www.ietf.org\/iesg\/statement\/discuss-criteria.html for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: https:\/\/datatracker.ietf.org\/doc\/draft-ietf-intarea-probe\/ ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- Thanks for your responses on the SecDir review. There were 3 points and I think you've come to a conclusion on each of them, but let me verify from the updated text in versions 8 and 9. From the review: * The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. KMM: The following was added in 4.1: \"o The L-bit is set and the ICMP Extension Structure does not identify any local interfaces o The L-bit is clear and the address or addresses found in the Interface Identification object appear in neither the IPv4 Address Resolution Protocol (ARP) Table nor the IPv6 Neighbor Cache\" And that's an improvement, thank you. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. KMM: I don't see added text to point out this as was requested. Can you point me to the text or add some? * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. KMM: The last one - I agree with Ron, it is common practice to have explicit allow only lists, at least for any organization I worked. I think this is a good recommendation to keep in the document. Thank you!"}
