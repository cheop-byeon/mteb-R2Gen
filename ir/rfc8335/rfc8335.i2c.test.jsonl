{"query_id": "q-en-rfc8335-0ed947ae18f7272dfd19963c89835fb89b7c99c2038b5e0e429831bbb79f55b6", "query": "Hi, Ron, et al., I'm a little confused at this proposal. First, IP addresses can be assigned to interfaces or hosts. Interfaces don't have to have IP addresses, esp. point-to-point interfaces or those used \"anonymously\" (e.g., for broadcast send/receive). Second, I think the claim that this can measure \"unreachable\" interfaces is misleading. The doc assumes that the probed interface IS reachable - e.g., AFAICT, you can't find out anything that ICMP hopcount-exceeded wouldn't report. The only difference is that you can control the target better and that the response comes back as an Echo-reply (which might be less likely to be blocked than hopcount-exceeded). Third, the destination interface and probed interface need to share the same network stack, not just be on the same node. There are network stacks that isolate processing for different interfaces, which might not be able to see the state of other interfaces inside the same machine. Bug: Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. I think you mean \"if it can reach any interface on the node\", but again this is misleading as per above. Additionally, I think this might have an existing equivalent when the probed interface has an address, e.g., it really seems like it ought to be equivalent to an IP with LSR whose destination IP is the \"destination\" and whose probe IP is the LSR \"next hop\". In a sense, it seems like you're just extending ping with LSR that allows for using ifName, ifIndex, or non-IP addresses rather than just IP addresses. It might be useful to describe that way, FWIW. Also, IMO, the \"hopcount\" of this test ought to be decremented by 1 if the probed interface is not the received interface. Otherwise, you'd be reporting the same hopcount for the incoming interface and forwarded outgoing interfaces, which doesn't seem right to me. Joe On 6/23/2016 10:50 AM, Ronald Bonica wrote: Please review and comment. Ron -----Original Message----- From: [mailto:] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <; Reji Thomas <: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: Status: Htmlized: Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat _______________________________________________ Int-area mailing list", "positive_passages": [{"docid": "doc-en-rfc8335-d4b148c6941928f4a4ba16567933683f0a1f062fcadef0f929e61372be5a5e3d", "text": "When a network operator renumbers an interface, replacing a more widely-scoped address with a less widely-scope address, the operator also reduces the number of nodes from which ping can probe the interface. Furthermore, when a network operator removes all addresses from an interface, leaving it unnumbered, the operator makes that interface totally inaccessible to ping. Therefore, many network operators who rely on ping remain dependant upon widely-scoped interface addressing.", "commid": "rfc7657_draft-bonica-intarea-eping-01"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-0ed947ae18f7272dfd19963c89835fb89b7c99c2038b5e0e429831bbb79f55b6", "query": "Hi, Ron, et al., I'm a little confused at this proposal. First, IP addresses can be assigned to interfaces or hosts. Interfaces don't have to have IP addresses, esp. point-to-point interfaces or those used \"anonymously\" (e.g., for broadcast send/receive). Second, I think the claim that this can measure \"unreachable\" interfaces is misleading. The doc assumes that the probed interface IS reachable - e.g., AFAICT, you can't find out anything that ICMP hopcount-exceeded wouldn't report. The only difference is that you can control the target better and that the response comes back as an Echo-reply (which might be less likely to be blocked than hopcount-exceeded). Third, the destination interface and probed interface need to share the same network stack, not just be on the same node. There are network stacks that isolate processing for different interfaces, which might not be able to see the state of other interfaces inside the same machine. Bug: Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. I think you mean \"if it can reach any interface on the node\", but again this is misleading as per above. Additionally, I think this might have an existing equivalent when the probed interface has an address, e.g., it really seems like it ought to be equivalent to an IP with LSR whose destination IP is the \"destination\" and whose probe IP is the LSR \"next hop\". In a sense, it seems like you're just extending ping with LSR that allows for using ifName, ifIndex, or non-IP addresses rather than just IP addresses. It might be useful to describe that way, FWIW. Also, IMO, the \"hopcount\" of this test ought to be decremented by 1 if the probed interface is not the received interface. Otherwise, you'd be reporting the same hopcount for the incoming interface and forwarded outgoing interfaces, which doesn't seem right to me. Joe On 6/23/2016 10:50 AM, Ronald Bonica wrote: Please review and comment. Ron -----Original Message----- From: [mailto:] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <; Reji Thomas <: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: Status: Htmlized: Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat _______________________________________________ Int-area mailing list", "positive_passages": [{"docid": "doc-en-rfc8335-cf3ba2e5a63b6dfd2b4a237f56310b5d77f481fa8ada5ce1b9421d5f9db1e6bf", "text": "Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. In many cases, this allows network operators to decrease their dependence on widely-scoped interface addressing.", "commid": "rfc7657_draft-bonica-intarea-eping-01"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-976c369b7fd900242fa8f964e72b4dbb79e0b7e415d0720604dbfb86681041b7", "query": "Hi, Ron, Scanning through the document, please find a couple of quick questions and comments: 1. Have you considered an approach as in draft-shen-traceroute-ping-ext< which is more general and has potentially better changes of success (working on ICMP Echo but also UDP Ping and TCP Ping)? 2. What is the reason for the \u201cby address\u201d option? The main use case of this functionality as defined seems to be unnumbered / link-locals. And if there\u2019s a need for \u201cby address\u201d, a proxy ping is more general. 3. The \u201cby ifIndex\u201d option is essentially pulling operational state out of a box \u2014 what\u2019s the line between an SNMP get or reading operational info on /interfaces-state/interface/oper-status vs. getting other node operational info (get CPU%)? And in this context, what\u2019s the Auth model? Thanks! \u2014 Carlos. On Jun 23, 2016, at 1:50 PM, Ronald Bonica <<mailto:: Please review and comment. Ron -----Original Message----- From: <mailto:[mailto:] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <<mailto:; Reji Thomas <<mailto:: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: Status: Htmlized: Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org< The IETF Secretariat _______________________________________________ Int-area mailing list <mailto:://", "positive_passages": [{"docid": "doc-en-rfc8335-d2efdefac532f32ea7ce4eb94556c4d5f00bab5dad47b1928add5afc6a4668cb", "text": "If the probed interface is identified by address, its address family does not need to be the same as that of the destination address. For example, the probed interface can be identified by its Ethernet address while the destination address is identified by an IPv4 address.", "commid": "rfc7657_draft-bonica-intarea-eping-01"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-976c369b7fd900242fa8f964e72b4dbb79e0b7e415d0720604dbfb86681041b7", "query": "Hi, Ron, Scanning through the document, please find a couple of quick questions and comments: 1. Have you considered an approach as in draft-shen-traceroute-ping-ext< which is more general and has potentially better changes of success (working on ICMP Echo but also UDP Ping and TCP Ping)? 2. What is the reason for the \u201cby address\u201d option? The main use case of this functionality as defined seems to be unnumbered / link-locals. And if there\u2019s a need for \u201cby address\u201d, a proxy ping is more general. 3. The \u201cby ifIndex\u201d option is essentially pulling operational state out of a box \u2014 what\u2019s the line between an SNMP get or reading operational info on /interfaces-state/interface/oper-status vs. getting other node operational info (get CPU%)? And in this context, what\u2019s the Auth model? Thanks! \u2014 Carlos. On Jun 23, 2016, at 1:50 PM, Ronald Bonica <<mailto:: Please review and comment. Ron -----Original Message----- From: <mailto:[mailto:] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <<mailto:; Reji Thomas <<mailto:: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: Status: Htmlized: Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org< The IETF Secretariat _______________________________________________ Int-area mailing list <mailto:://", "positive_passages": [{"docid": "doc-en-rfc8335-668eb711d9d2cf606d9b5750a8d98e9e72a0186eb24a5a54096c6a35ffbbc64c", "text": "Likewise, the ability to probe by if ifIndex may enable certain information to be disclosed to attackers. Therefore, by default, implementations SHOULD NOT support probing by ifIndex. However, probing by ifIndex can be enabled through configuration.", "commid": "rfc7657_draft-bonica-intarea-eping-01"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-975c771eca02bf10d841ba54edb598d0a51729eb89eca2ab82ce8249a06a7544", "query": "Hi Joe, Good to hear from you! Responses inline....... Ron -----Original Message----- From: Joe Touch [mailto:] Sent: Wednesday, June 29, 2016 5:11 PM To: Ronald Bonica <; Subject: Re: [Int-area] FW: New Version Notification for draft-bonica-intarea- eping-00.txt Hi, Ron, et al., I'm a little confused at this proposal. [RB ] \"Confusion is the welcome mat at the door to creativity.\" :-) First, IP addresses can be assigned to interfaces or hosts. Interfaces don't have to have IP addresses, esp. point-to-point interfaces or those used \"anonymously\" (e.g., for broadcast send/receive). [RB ] Absolutely. In the draft, we talk about \"unnumbered interfaces\". These are interfaces to which an IP address has not been assigned. Second, I think the claim that this can measure \"unreachable\" interfaces is misleading. The doc assumes that the probed interface IS reachable - e.g., [RB ] You have a good point. I am using the words \"unreachable\" and \"unaddressable\" interchangeably. They aren't synonyms. An interface is totally unreachable if its operational status is down. It might be partially unreachable if it is partially isolated by ACLS. That isn't what we are talking about in the draft. In the draft, we are talking about unaddressable interfaces. While it may be possible to send a packet *through* an unaddressable interface, it is not possible to send a packet *to* an unaddressable interface. For example, it is impossible to send a packet to an unnumbered interface. It is also impossible to send a packet to an interface whose only address is link local from an off-net device. I will fix this in the next draft version. AFAICT, you can't find out anything that ICMP hopcount-exceeded wouldn't report. The only difference is that you can control the target better and that the response comes back as an Echo-reply (which might be less likely to be blocked than hopcount-exceeded). [RB ] There is another difference. In order to determine the status of the probed interface using hopcount-exceeded, you have to make the probe packet traverse the probed interface. This may not be possible. This is why we need both (traditional) ping and traceroute today. Third, the destination interface and probed interface need to share the same network stack, not just be on the same node. There are network stacks that isolate processing for different interfaces, which might not be able to see the state of other interfaces inside the same machine. [RB ] Not always. For example, in our implementation, it is possible to identify the destination by IPv4 address and the probed interface by IPv6 address. Yet IPv4 and IPv6 are different network layer protocols. Bug: Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. I think you mean \"if it can reach any interface on the node\", but again this is misleading as per above. [RB ] Same response as above Additionally, I think this might have an existing equivalent when the probed interface has an address, e.g., it really seems like it ought to be equivalent to an IP with LSR whose destination IP is the \"destination\" and whose probe IP is the LSR \"next hop\". In a sense, it seems like you're just extending ping with LSR that allows for using ifName, ifIndex, or non-IP addresses rather than just IP addresses. It might be useful to describe that way, FWIW. [RB ] I'm not sure that I follow this paragraph. Also, IMO, the \"hopcount\" of this test ought to be decremented by 1 if the probed interface is not the received interface. Otherwise, you'd be reporting the same hopcount for the incoming interface and forwarded outgoing interfaces, which doesn't seem right to me. [RB ] Just to be specific, which packet should have its hopcount decremented and by which node? As always, thanks for the careful review Ron Joe", "positive_passages": [{"docid": "doc-en-rfc8335-d4b148c6941928f4a4ba16567933683f0a1f062fcadef0f929e61372be5a5e3d", "text": "When a network operator renumbers an interface, replacing a more widely-scoped address with a less widely-scope address, the operator also reduces the number of nodes from which ping can probe the interface. Furthermore, when a network operator removes all addresses from an interface, leaving it unnumbered, the operator makes that interface totally inaccessible to ping. Therefore, many network operators who rely on ping remain dependant upon widely-scoped interface addressing.", "commid": "rfc7657_draft-bonica-intarea-eping-01"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-975c771eca02bf10d841ba54edb598d0a51729eb89eca2ab82ce8249a06a7544", "query": "Hi Joe, Good to hear from you! Responses inline....... Ron -----Original Message----- From: Joe Touch [mailto:] Sent: Wednesday, June 29, 2016 5:11 PM To: Ronald Bonica <; Subject: Re: [Int-area] FW: New Version Notification for draft-bonica-intarea- eping-00.txt Hi, Ron, et al., I'm a little confused at this proposal. [RB ] \"Confusion is the welcome mat at the door to creativity.\" :-) First, IP addresses can be assigned to interfaces or hosts. Interfaces don't have to have IP addresses, esp. point-to-point interfaces or those used \"anonymously\" (e.g., for broadcast send/receive). [RB ] Absolutely. In the draft, we talk about \"unnumbered interfaces\". These are interfaces to which an IP address has not been assigned. Second, I think the claim that this can measure \"unreachable\" interfaces is misleading. The doc assumes that the probed interface IS reachable - e.g., [RB ] You have a good point. I am using the words \"unreachable\" and \"unaddressable\" interchangeably. They aren't synonyms. An interface is totally unreachable if its operational status is down. It might be partially unreachable if it is partially isolated by ACLS. That isn't what we are talking about in the draft. In the draft, we are talking about unaddressable interfaces. While it may be possible to send a packet *through* an unaddressable interface, it is not possible to send a packet *to* an unaddressable interface. For example, it is impossible to send a packet to an unnumbered interface. It is also impossible to send a packet to an interface whose only address is link local from an off-net device. I will fix this in the next draft version. AFAICT, you can't find out anything that ICMP hopcount-exceeded wouldn't report. The only difference is that you can control the target better and that the response comes back as an Echo-reply (which might be less likely to be blocked than hopcount-exceeded). [RB ] There is another difference. In order to determine the status of the probed interface using hopcount-exceeded, you have to make the probe packet traverse the probed interface. This may not be possible. This is why we need both (traditional) ping and traceroute today. Third, the destination interface and probed interface need to share the same network stack, not just be on the same node. There are network stacks that isolate processing for different interfaces, which might not be able to see the state of other interfaces inside the same machine. [RB ] Not always. For example, in our implementation, it is possible to identify the destination by IPv4 address and the probed interface by IPv6 address. Yet IPv4 and IPv6 are different network layer protocols. Bug: Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. I think you mean \"if it can reach any interface on the node\", but again this is misleading as per above. [RB ] Same response as above Additionally, I think this might have an existing equivalent when the probed interface has an address, e.g., it really seems like it ought to be equivalent to an IP with LSR whose destination IP is the \"destination\" and whose probe IP is the LSR \"next hop\". In a sense, it seems like you're just extending ping with LSR that allows for using ifName, ifIndex, or non-IP addresses rather than just IP addresses. It might be useful to describe that way, FWIW. [RB ] I'm not sure that I follow this paragraph. Also, IMO, the \"hopcount\" of this test ought to be decremented by 1 if the probed interface is not the received interface. Otherwise, you'd be reporting the same hopcount for the incoming interface and forwarded outgoing interfaces, which doesn't seem right to me. [RB ] Just to be specific, which packet should have its hopcount decremented and by which node? As always, thanks for the careful review Ron Joe", "positive_passages": [{"docid": "doc-en-rfc8335-cf3ba2e5a63b6dfd2b4a237f56310b5d77f481fa8ada5ce1b9421d5f9db1e6bf", "text": "Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. In many cases, this allows network operators to decrease their dependence on widely-scoped interface addressing.", "commid": "rfc7657_draft-bonica-intarea-eping-01"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-d32e5ad937bcda87e2095d92f03bf925be58a3d9c036ea807ba2084e768cbf56", "query": "Hi, The draft says \".. the destination and probed interfaces must be local to one another (i.e., both interfaces must belong to the same node).\" However, virtualization raises some questions about how this should work, and maybe the draft should nail down some of the details with more clarity. What if the probed interface is assigned to a different VRF than the destination interface? e.g, What is the expected xping response if I receive on interface blue0 in the \"blue\" vrf, and red0 is in \"red\" VRF? Does the answer change if the destination interface is on the management VRF? similar question for other forms of virtualization, e.g,, What if the probed interface is assigned to a different network-namespace than the destination interface of an xping req? Does it matter if the above xping is received on the default network namespace vs some other network namespace? One could argue that all the physical intefaces are owned by the \"node\" (the management VRF? default netns?) but virtual interfaces like tunnels and macvlans are a grayer area (unlike physical interfaces, the latter do not default back to the mgmt VRF or default netns when the virtual object is destroyed, so their ownership is unclear). How should xping work in the face of virtual interfaces, e.g., the linux macvlan? How does it work when an interface is renamed? Will xping allow me to probe for \"tun0\" or \"Portchannel1\"? --Sowmini", "positive_passages": [{"docid": "doc-en-rfc8335-5f55d58504636b8d9ddab2e9902b417a38f1f1f103bed4cc5657f788dd78646f", "text": "PROBE MUST NOT leak information about one Virtual Private Network\n(VPN) into another.  Therefore, when a node receives an ICMP Extended\nEcho Request and the proxy interface is in a different VPN than the\nprobed interface, the node MUST return an ICMP Extended Echo Reply\nwith error code equal to (2) No Such Interface.", "commid": "rfc7657_draft-bonica-intarea-eping-03"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-2abec6764def80c495b8bc144a2f59a98616d14470f55ff1a4b8dc397bd14a02", "query": "Hello Sowmini, Good point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ron -----Original Message----- From: Sowmini Varadhan [mailto:] Sent: Tuesday, March 28, 2017 5:32 PM To: Ron Bonica <; Reji Thomas <; ; Cc: ; Subject: question about xping (draft-bonica-intarea-eping) Hi, The draft says \".. the destination and probed interfaces must be local to one another (i.e., both interfaces must belong to the same node).\" However, virtualization raises some questions about how this should work, and maybe the draft should nail down some of the details with more clarity. What if the probed interface is assigned to a different VRF than the destination interface? e.g, What is the expected xping response if I receive xping-I red0/0/0.0 10.10.10.1 on interface blue0 in the \"blue\" vrf, and red0 is in \"red\" VRF? Does the answer change if the destination interface is on the management VRF? similar question for other forms of virtualization, e.g,, What if the probed interface is assigned to a different network-namespace than the destination interface of an xping req? Does it matter if the above xping is received on the default network namespace vs some other network namespace? One could argue that all the physical intefaces are owned by the \"node\" (the management VRF? default netns?) but virtual interfaces like tunnels and macvlans are a grayer area (unlike physical interfaces, the latter do not default back to the mgmt VRF or default netns when the virtual object is destroyed, so their ownership is unclear). How should xping work in the face of virtual interfaces, e.g., the linux macvlan? How does it work when an interface is renamed? Will xping allow me to probe for \"tun0\" or \"Portchannel1\"? --Sowmini", "positive_passages": [{"docid": "doc-en-rfc8335-5f55d58504636b8d9ddab2e9902b417a38f1f1f103bed4cc5657f788dd78646f", "text": "PROBE MUST NOT leak information about one Virtual Private Network\n(VPN) into another.  Therefore, when a node receives an ICMP Extended\nEcho Request and the proxy interface is in a different VPN than the\nprobed interface, the node MUST return an ICMP Extended Echo Reply\nwith error code equal to (2) No Such Interface.", "commid": "rfc7657_draft-bonica-intarea-eping-03"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-175ec4598e2716f3a3e52433423698887f62875c15ec0939afce0eb5b4cfb1d6", "query": "On (03/28/17 22:27), Ron Bonica wrote: Good point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ok, but what about other forms of VRF-like virtualization like network namespaces? Things can get a bit trickier here because the same ifname can exist in multiple virtual objects. Also, interface ownership can be more blurry for some of these virtualization models like network namespaces- it's not always clear that the hypervisor (\"default netns\") owns the interface, when the interface is virtual. --Sowmini", "positive_passages": [{"docid": "doc-en-rfc8335-5f55d58504636b8d9ddab2e9902b417a38f1f1f103bed4cc5657f788dd78646f", "text": "PROBE MUST NOT leak information about one Virtual Private Network\n(VPN) into another.  Therefore, when a node receives an ICMP Extended\nEcho Request and the proxy interface is in a different VPN than the\nprobed interface, the node MUST return an ICMP Extended Echo Reply\nwith error code equal to (2) No Such Interface.", "commid": "rfc7657_draft-bonica-intarea-eping-03"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-8a87e6f3f5ba3ee679d9690fcd17877c63a3f166829b8a7685176589e81e3871", "query": "Sowmini, You have convinced me that there should be no information leaking at all. So, I think that the next version of the draft should enforce the following rules: If the destination and probed interfaces are in the same VRF/routing instance/namespace, the ICMP Extended Echo Reply message will reflect the state of the probe interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. Do you agree? Ron -----Original Message----- From: Sowmini Varadhan [mailto:] Sent: Tuesday, March 28, 2017 6:42 PM To: Ron Bonica <: Reji Thomas <; ; ; Subject: Re: question about xping (draft-bonica-intarea-eping) On (03/28/17 22:27), Ron Bonica wrote: Good point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ok, but what about other forms of VRF-like virtualization like network namespaces? Things can get a bit trickier here because the same ifname can exist in multiple virtual objects. Also, interface ownership can be more blurry for some of these virtualization models like network namespaces- it's not always clear that the hypervisor (\"default netns\") owns the interface, when the interface is virtual. --Sowmini", "positive_passages": [{"docid": "doc-en-rfc8335-5f55d58504636b8d9ddab2e9902b417a38f1f1f103bed4cc5657f788dd78646f", "text": "PROBE MUST NOT leak information about one Virtual Private Network\n(VPN) into another.  Therefore, when a node receives an ICMP Extended\nEcho Request and the proxy interface is in a different VPN than the\nprobed interface, the node MUST return an ICMP Extended Echo Reply\nwith error code equal to (2) No Such Interface.", "commid": "rfc7657_draft-bonica-intarea-eping-03"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-5d94adb0f05714d2fcb07476b0f898ab8702924699b1f4a2d961ddedb38098c7", "query": "On (03/29/17 14:50), Ron Bonica wrote: Sowmini, You have convinced me that there should be no information leaking at all. So, I think that the next version of the draft should enforce the following rules: If the destination and probed interfaces are in the same VRF/routing instance/namespace, the ICMP Extended Echo Reply message will reflect the state of the probe interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. Do you agree? Yes, that's a much more consistent model (esp since the same IP address can itself exist in multiple VRFs) and also extends without loss of generality to other virtualization models. thanks for addressing this! --Sowmini", "positive_passages": [{"docid": "doc-en-rfc8335-5f55d58504636b8d9ddab2e9902b417a38f1f1f103bed4cc5657f788dd78646f", "text": "PROBE MUST NOT leak information about one Virtual Private Network\n(VPN) into another.  Therefore, when a node receives an ICMP Extended\nEcho Request and the proxy interface is in a different VPN than the\nprobed interface, the node MUST return an ICMP Extended Echo Reply\nwith error code equal to (2) No Such Interface.", "commid": "rfc7657_draft-bonica-intarea-eping-03"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-42ac37f117cb49b70f74522e0defda967bd6f01cd4cbf5b94433e73df9cc5cf4", "query": "Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3?", "positive_passages": [{"docid": "doc-en-rfc8335-6866ccfbe8411eef995ae95e23db4d10263fc3b34e89c82594147a484aebdab9", "text": "For each enabled query type, define the prefixes from which ICMP\nExtended Echo Request messages are permitted", "commid": "rfc7657_draft-bonica-intarea-eping-02"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-cfd432ea85221502b2dae294d2b61c3effa369ec0c2960bd5afac9c49b0c6aef", "query": "Hello Yaron, Thanks for the thoughtful review. Responses inline...... Ron -----Original Message----- From: Yaron Sheffer [mailto:] Sent: Saturday, December 2, 2017 4:35 PM To: Cc: ; ; Subject: Secdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. [RB ] I agree with all of the points that you raise above, except for the part about white listing. This isn't security theater. It's real. For the most part, hosts will stick with the default PROBE configuration. That is, they won't honor an ICMP Extended Echo Request of any type from any source. A good number of network operators will enable PROBE on their routers, but for the reasons that you point out above, they won't want their routers being probed from untrusted subnetworks. They will probably restrict probe access to a few trusted subnets that are within their administrative domain (e.g., the NOC, network controllers). I doubt if anyone will expose their routers to PROBING from all points on the Internet. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). [RB ] I can fix that in the next version \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). [RB ] Joel Halpern raised the same point in his review. In the next version, the probed node will be called the proxy node. \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" [RB ] Same fix as above \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? [RB ] I will check RFC 792 and use whatever words they used \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3? [RB ] Joel Halpern raised the same issue in his review. We will rename this bit to indicate that it is a Pseudowire endpoint, without mentioning what kind of PW endpoint it is. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-6866ccfbe8411eef995ae95e23db4d10263fc3b34e89c82594147a484aebdab9", "text": "For each enabled query type, define the prefixes from which ICMP\nExtended Echo Request messages are permitted", "commid": "rfc7657_draft-bonica-intarea-eping-02"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-bebdde8fd0217103b14325868de58e2a93f1121adafceb7665bff31e027e79f0", "query": "Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? View Inlinedraft-ietf-intarea-probe.txt:365 Ethernet is running on the probed interface. Otherwise, the E-bit is clear. This seems pretty limited. Does \"WiFi\" count for instance?", "positive_passages": [{"docid": "doc-en-rfc8335-6866ccfbe8411eef995ae95e23db4d10263fc3b34e89c82594147a484aebdab9", "text": "For each enabled query type, define the prefixes from which ICMP\nExtended Echo Request messages are permitted", "commid": "rfc7657_draft-bonica-intarea-eping-02"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-5fca045b0fa5c892c10b3a3192745d5ddc31ee5707fb8a342bf055066358bb2f", "query": "Hi Eric, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Eric Rescorla [mailto:] Sent: Tuesday, December 12, 2017 7:21 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Eric Rescorla's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection [RB ] [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? [RB ] The ACL doesn't list all probe-capable nodes. It is configure on a probe-capable node and it enumerates the prefixes from which it will accept an ICMP Extended Echo Request. For example, assume that an ISP deploys PROBE capable software on its routers. By default, these routers won't accept an ICMP Extended Echo Request from anybody. The ISP will probably want to enable PROBE, but only if the ICMP Extended Echo Request comes from the NOC or from a few other trusted prefixes. So, the ISP will put those prefixes into the ACL. I am thinking that the number of prefixes will typically be very small (e.g., the NOC). or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. [RB ] The proxy node could ping the probed interface, but that would require the router to main state. We don't want to go there for scaling and security reasons. Rather than doing that, PROBE looks for an entry in the ARP Table and Neighbor Cache. Prior version 08 of this draft, the proxy node assumed that the probed interface does not exist if it is not in the ARP Table and Neighbor Cache. IETF LC reviewers pointed out that this assumption is not safe. So now, the proxy node reports that the table entry does not exist. In no longer reports that the interface does not exist. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? [RB ] This is a parameter to the Probe application. See the appendix. View Inlinedraft-ietf-intarea-probe.txt:365 Ethernet is running on the probed interface. Otherwise, the E-bit is clear. This seems pretty limited. Does \"WiFi\" count for instance? [RB ] The E-bit was removed in response to last call comments", "positive_passages": [{"docid": "doc-en-rfc8335-6866ccfbe8411eef995ae95e23db4d10263fc3b34e89c82594147a484aebdab9", "text": "For each enabled query type, define the prefixes from which ICMP\nExtended Echo Request messages are permitted", "commid": "rfc7657_draft-bonica-intarea-eping-02"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-07465a6e86a5c3f7ecc2e2021bd26467423daef416cf02f32dbc23a0207770e4", "query": "On Wed, Dec 13, 2017 at 1:43 PM, Ron Bonica <: Hi Eric, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Eric Rescorla [mailto:] Sent: Tuesday, December 12, 2017 7:21 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Eric Rescorla's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection [RB ] [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? [RB ] The ACL doesn't list all probe-capable nodes. It is configure on a probe-capable node and it enumerates the prefixes from which it will accept an ICMP Extended Echo Request. For example, assume that an ISP deploys PROBE capable software on its routers. By default, these routers won't accept an ICMP Extended Echo Request from anybody. The ISP will probably want to enable PROBE, but only if the ICMP Extended Echo Request comes from the NOC or from a few other trusted prefixes. So, the ISP will put those prefixes into the ACL. I am thinking that the number of prefixes will typically be very small (e.g., the NOC). Thanks. or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. [RB ] The proxy node could ping the probed interface, but that would require the router to main state. We don't want to go there for scaling and security reasons. Rather than doing that, PROBE looks for an entry in the ARP Table and Neighbor Cache. Prior version 08 of this draft, the proxy node assumed that the probed interface does not exist if it is not in the ARP Table and Neighbor Cache. IETF LC reviewers pointed out that this assumption is not safe. So now, the proxy node reports that the table entry does not exist. In no longer reports that the interface does not exist. OK. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? [RB ] This is a parameter to the Probe application. See the appendix. I did note that. It seems kind of limited, but it's your choice, obviously -Ekr", "positive_passages": [{"docid": "doc-en-rfc8335-6866ccfbe8411eef995ae95e23db4d10263fc3b34e89c82594147a484aebdab9", "text": "For each enabled query type, define the prefixes from which ICMP\nExtended Echo Request messages are permitted", "commid": "rfc7657_draft-bonica-intarea-eping-02"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-cf2cb4743fe6d2016ea17ed87e50956505ff1a816532cafee229ae44d142cc3e", "query": "Section 2.1: If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. The interface name MAY be some other human- meaningful name of the interface. The interface name MUST be represented in the UTF-8 charset [RFC3629] using the Default Language [RFC2277]. As I mentioned during the meeting today, the above text has a bunch of problems as written: 1) Saying UTF-8 is not sufficient, you need to discuss normalization form, etc. See RFC 7564. You can't just copy a paragraph from some other spec, you have to determine what properties you actually want, but the Precis WG defined a number of reusable classes. There are precis experts that can help the WG determine what profile is most appropriate. 2) You can't truncate a UTF-8 string at 255 octets and still have a valid UTF-8 string, since characters can span multiple octets and you might truncate in the middle and get a partial character, which leaves you with an invalid string. 3) The length restriction is only part of the SHOULD. Does that mean that if you follow the MAY, there is no such length restriction? Dave -----Original Message----- From: Int-area [mailto:] On Behalf Of Ron Bonica Sent: Wednesday, July 12, 2017 5:46 PM To: ; Carlos Pignataro (cpignata) <: Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt Hi Carlos, Thanks for the review. Inline, below. Ron Hi, Ron, Authors, As I was reading over draft-ietf-intarea-probe-00, and wanted to share a couple of observations for your consideration. Have you considered the tradeoff of defining new ICMP Types versus extending existing ICMP Types? If using existing ICMPv6 Echo Request/Reply and extending them instead of defining brand new types, the backwards interoperability achieved is higher [ [RB ] I thought about extending the existing ICMP messages, but decided against it for backward compatibility reasons. Both existing messages end with a variable length data field. This field begins at a fixed position, but doesn't have a length attribute of its own. Therefore, we can't add any more fields after it. There may be ways to dance around the problem, but they all involve redefining the existing field in the existing message. Have you considered using other protocols as well in addition to ICMP for the PROBE message, which can elicit ICMP errors or responses with appropriate extensions? In particular UDP is a protocol much used and desired for probes. [RB ] ICMP and UDP would both work. I chose ICMP because ICMP already supports legacy echo/echo reply. But I'm not feeling religious about this. In the final analysis, I am willing to use whatever protocol the WG prefers. These two points actually reminded me of .ietf.org%2Fhtml%2Fdraft-&data=02%7C01%7Cdthaler%40microsoft.com%7C4f6 74c9180bf4a15581408d4c93d18ff%7C72f988bf86f141af91ab2d7cd011db47%7C1%7 C0%7C636354711627226706&sdata=G5vSnrYbaFBryTvzh5pn3AVaJz3hURtt1PJYLVah rnM%3D&reserved=0 shen-traceroute-ping-ext-04 (and the ICMP-only predecessor draft-shen- udp-traceroute-ext-01) that defines a probe extension applied to ICMP Echo Request and UDP, and RFC 4884 extensions to responses. That approach seems somewhat more generic. Additionally, I was also reminded of the ICMP AUP at RFC 7279, it would be useful to map against that doc to show how this is (as it is the case) a really good use of ICMP. [RB ] Section 3 of 7279 suggests that ICMP can be used for diagnostics. It calls out PING as being an acceptable use. But again, I don't feel religious about this. The protocol works over UDP just as well as it works over ICMP. Ron Thanks! ? Carlos. ******************************* _______________________________________________ Int-area mailing list", "positive_passages": [{"docid": "doc-en-rfc8335-00364bba7794df9ecf3d2f1383ba509e363d1367b8fa0890a3540e1387f3b44b", "text": "If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. The interface name MAY be some other human-meaningful name of the interface. The interface name MUST be represented in the UTF-8 charset [RFC3629] using the Default Language [RFC2277].", "commid": "rfc7657_1"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-02a6206747c87dc98be5ddb661266b671a338025dcef6270ba1fa357e8775f51", "query": "It's partly there, but not quite ready. If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. First, you and I talked about it being required to be an ifName, where above still has a SHOULD. Second, ifName is defined as a DisplayString, and DisplayString is defined as 0-255 ASCII characters, so the truncation part is irrelevant. I would replace the paragraph with just: If the Interface Identification Object identifies the probed interface by name, the object payload MUST be the MIB-II [RFC2863] ifName. Dave -----Original Message----- From: Ron Bonica [mailto:] Sent: Saturday, July 22, 2017 12:29 PM To: ; ; Dave Thaler <: FW: New Version Notification for draft-ietf-intarea-probe-02.txt Folks, I have updated draft-intarea-probe-02 to reflect Dave Thaler' s comment. Dave, Please look at the diff to see of this change reflects your recommendation. Chairs, If Dave thinks that his comment has been addressed, could we initiate a WG last call? Ron -----Original Message----- From: [mailto:] Sent: Saturday, July 22, 2017 9:21 PM To: Ron Bonica <; Mohamed Boucadair <; Jen Linkova <; Reji Thomas <; J. Linkova <; Chris Lenart <: New Version Notification for draft-ietf-intarea-probe-02.txt A new version of I-D, draft-ietf-intarea-probe-02.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 02 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-07-22 Group: intarea Pages: 17 URL: etf.org%2Finternet-drafts%2Fdraft-ietf-intarea-probe- 02.txt&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f35 5b08d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636 363485276071855&sdata=3l%2Fi4WAtbXZ2uVedTddXWgVRjPSoHDCcavUH2lp Lf90%3D&reserved=0 Status: acker.ietf.org%2Fdoc%2Fdraft-ietf-intarea- probe%2F&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b 1f355b08d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C 636363485276071855&sdata=sYgNOiyesuofXlBYj%2F9LhZ6yDsyx6VDS9nV%2B 17uRbcY%3D&reserved=0 Htmlized: etf.org%2Fhtml%2Fdraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=ri9slj0Joixtj7k3cpd4PP56eduGh941783bRVAK9mY%3D &reserved=0 Htmlized: acker.ietf.org%2Fdoc%2Fhtml%2Fdraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=LAIOJahlwvEKNYddfaJ7ARDmYZSR%2FiG%2B3JqP6kAG DZI%3D&reserved=0 Diff: etf.org%2Frfcdiff%3Furl2%3Ddraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=5ZOJy6AIPCx9pErz7Mw96t8u6eB7gZvWUJ%2F9V%2Bq DmRw%3D&reserved=0 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat", "positive_passages": [{"docid": "doc-en-rfc8335-2249d0fde2911939d2cac5c2986e947d41386b69be95f17973ab60f839dad364", "text": "If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer.", "commid": "rfc7657_2"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-8b9057c5f22224c329e6ac9b189ebe5a155328d6809bf2522a70aa85628ffbee", "query": "Reviewer: Jean-Michel Combes Review result: Almost Ready Hi, I am an assigned INT directorate reviewer for draft-ietf-intarea-probe-06. These comments were written primarily for the benefit of the Internet Area Directors. Document editors and shepherd(s) should treat these comments just like they would treat comments from any other IETF contributors and resolve them along with any other Last Call comments that have been received. For more details on the INT Directorate, see PROBE: A Utility For Probing Interfaces draft-ietf-intarea-probe-06 <snip1. Introduction <snipIf the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table or the IPv6 Neighbor Cache. Otherwise, it reports that the interface does not exist. <JMCComment: Normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861) are missing. </JMC<snip2. ICMP Extended Echo Request <snipo L (local) - The L-bit is set of the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. <JMCTypo: s/\"The L-bit is set of the probed interface resides on the probed node.\"/\"The L-bit is set if the probed interface resides on the probed node.\" </JMC<snip3. ICMP Extended Echo Reply <snipo F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMCQuestion: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? </JMC4. ICMP Message Processing <snipo Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. </JMC<snip8. Security Considerations <snipIn order to protect local resources, implementations SHOULD rate-limit incoming ICMP Extended Echo Request messages. <JMCComment: IMHO, the main security threat I see with this mechanism is to use it as \"reflection\" scanning: to discover nodes \"behind\" the proxy interface, without raising alarms from security probes watching the networks hosting these nodes. So, rate-limit can help to mitigate this potential threat too. </JMC9. References 9.1. Normative References <snip<JMCComment: Too add normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861), as commented previously. </JMC<snipThanks in advance for your replies. Best regards, JMC.", "positive_passages": [{"docid": "doc-en-rfc8335-9e845e48267dc97c46b71478ea2d1ffa7c250526f5f69363a841afe42c1f2774", "text": "If the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table or the IPv6 Neighbor Cache. Otherwise, it reports that the interface does not exist.", "commid": "rfc7657_6"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-16cd3e69a27969315bc7139ea5d92a326c4c8d2fe8dea86e37a5b78d5d268c78", "query": "Jean-Michele, Thanks for the thoughtful review. I will post a new version addressing your comments today or tomorrow. Responses inline...... Ron Subject: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Message-ID: <-Type: text/plain; charset=\"utf-8\" Reviewer: Jean-Michel Combes Review result: Almost Ready Hi, I am an assigned INT directorate reviewer for draft-ietf-intarea-probe-06. These comments were written primarily for the benefit of the Internet Area Directors. Document editors and shepherd(s) should treat these comments just like they would treat comments from any other IETF contributors and resolve them along with any other Last Call comments that have been received. For more details on the INT Directorate, see 3A__ bfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=VGSSVlquIpFROEmOdJ5fpnG3ivRSQQaY23hP8P0 dBQs&s=mO2Ham-yMdBeeKDYThOOP6vfCePpUoAVnBorws9AIuU&e=. PROBE: A Utility For Probing Interfaces draft-ietf-intarea-probe-06 <snip1. Introduction <snipIf the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table or the IPv6 Neighbor Cache. Otherwise, it reports that the interface does not exist. <JMCComment: Normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861) are missing. </JMC<snip[RB ] Good catch. Fixed in next version. 2. ICMP Extended Echo Request <snipo L (local) - The L-bit is set of the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. <JMCTypo: s/\"The L-bit is set of the probed interface resides on the probed node.\"/\"The L-bit is set if the probed interface resides on the probed node.\" </JMC<snip[RB ] Another good catch. Fixed in the next version. 3. ICMP Extended Echo Reply <snipo F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMCQuestion: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? </JMC[RB ] This was a typo. I meant to say: 0 E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear. 4. ICMP Message Processing <snipo Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. </JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. 8. Security Considerations <snipIn order to protect local resources, implementations SHOULD rate-limit incoming ICMP Extended Echo Request messages. <JMCComment: IMHO, the main security threat I see with this mechanism is to use it as \"reflection\" scanning: to discover nodes \"behind\" the proxy interface, without raising alarms from security probes watching the networks hosting these nodes. So, rate-limit can help to mitigate this potential threat too. </JMC[RB ] Yes, this does slow down the scanning attack. But it doesn't really mitigate it. The savvy attacker will scan slowly. Thanks again for the thorough review. Ron 9. References 9.1. Normative References <snip<JMCComment: Too add normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861), as commented previously. </JMC<snipThanks in advance for your replies. Best regards, JMC. ------------------------------ Subject: Digest Footer _______________________________________________ Int-area mailing list 3A__ 2Darea&d=DwICAg&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=VGSSVlquIpFROEmOdJ5fpnG3ivRSQQaY23hP8P0 dBQs&s=Y0X9xlzWjiF5Nk7ImagKKmupi29NSBXKlHFhrzO7dYc&e= ------------------------------ End of Int-area Digest, Vol 146, Issue 28 *****************************************", "positive_passages": [{"docid": "doc-en-rfc8335-9e845e48267dc97c46b71478ea2d1ffa7c250526f5f69363a841afe42c1f2774", "text": "If the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table or the IPv6 Neighbor Cache. Otherwise, it reports that the interface does not exist.", "commid": "rfc7657_6"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-a6a3f0e945aa3e35902c594a1469cc5ae17dcf11c27b0d1d9270112bc7dcd535", "query": "Hi Ron, 2017-10-30 16:13 GMT+01:00 Ron Bonica <: Jean-Michele, Thanks for the thoughtful review. I will post a new version addressing your comments today or tomorrow. Responses inline...... Ron <snip3. ICMP Extended Echo Reply <snipo F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMCQuestion: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? </JMC[RB ] This was a typo. I meant to say: 0 E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear. <JMCOK. </JMC4. ICMP Message Processing <snipo Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. </JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMCBut, even if this is ambiguous, IMHO, all the interfaces are active =A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? </JMC<snipBest regards, JMC.", "positive_passages": [{"docid": "doc-en-rfc8335-a636c551a7b4feba0ab99e1f781612dce259105f277b95096feaedd1cf72e983", "text": "Set the Code field as described Section 4.1\nIf the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\nIf the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-ec4095ce715d5c6f099810fe2106312681802edd47aa7e561975a1a8df653fbb", "query": "Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query\u2019s match conditions, Probe can\u2019t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? Ron <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. </JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMCBut, even if this is ambiguous, IMHO, all the interfaces are active =A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? </JMC<snipBest regards, JMC.", "positive_passages": [{"docid": "doc-en-rfc8335-306a2463940fc7c292e0bc19d65268f30fd8559c5611cfacfc9d640aa7b5cf0e", "text": "If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\nIf the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-1fc775d10081cc7650a447fe225213a225a01e8b2168a89823560db99d70ad1f", "query": "Hi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query\u2019s match conditions, Probe can\u2019t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMCYour opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP/NC allows only to identify active interfaces). Correct? Best regards, JMC. </JMCRon <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. </JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMCBut, even if this is ambiguous, IMHO, all the interfaces are active =A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? </JMC<snipBest regards, JMC.", "positive_passages": [{"docid": "doc-en-rfc8335-306a2463940fc7c292e0bc19d65268f30fd8559c5611cfacfc9d640aa7b5cf0e", "text": "If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\nIf the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-7f2b996dce57b4227f324a68094cfe0bffec6f8f98039eb136758d4283835d99", "query": "Jean-Michel, I understand that Probe addresses two operational needs. One need is to probe the local node and the other is to probe a directly connected node. But in either case, Probe semantics must be consistent. Probe queries the status of exactly one interface. Regardless of whether the L-bit is set or clear, if two interface satisfy the Extended Echo Request Match criteria, the Extended Echo Reply must return an error code (3). Returning any information beyond that would be risky. For example, assume that both interfaces are active, one is running IPv4 only and the other is running IPv6 only? What would the Extended Echo Reply return? Ron From: Jean-Michel Combes [mailto:] Sent: Monday, November 6, 2017 7:09 AM To: Ron Bonica <: Subject: Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Hi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <<mailto:: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query\u2019s match conditions, Probe can\u2019t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMCYour opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP/NC allows only to identify active interfaces). Correct? Best regards, JMC. </JMCRon <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. </JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMCBut, even if this is ambiguous, IMHO, all the interfaces are active =A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? </JMC<snipBest regards, JMC.", "positive_passages": [{"docid": "doc-en-rfc8335-a636c551a7b4feba0ab99e1f781612dce259105f277b95096feaedd1cf72e983", "text": "Set the Code field as described Section 4.1\nIf the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\nIf the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-860679b495c25f719bb145dd1099751906bf281a8e396644f3a7c8081dd2abd2", "query": "Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\"", "positive_passages": [{"docid": "doc-en-rfc8335-b1db69d2b363f104fe872064a09e8e43d4155aec0dbf95f56dae1811b7938bb6", "text": "Section 7 of [RFC4884] defines the ICMP Extension Structure.  As per\nRFC 4884, the Extension Structure contains exactly one Extension\nHeader followed by one or more objects.  When applied to the ICMP\nExtended Echo Request message, the ICMP Extension Structure MUST\ncontain one or two instances of the Interface Identification Object  (Section 2.1).", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-5b1392dd3cb14970f30b587f94992c556032424d94796b3ef1567354c5958e4b", "query": "Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision.", "positive_passages": [{"docid": "doc-en-rfc8335-b1db69d2b363f104fe872064a09e8e43d4155aec0dbf95f56dae1811b7938bb6", "text": "Section 7 of [RFC4884] defines the ICMP Extension Structure.  As per\nRFC 4884, the Extension Structure contains exactly one Extension\nHeader followed by one or more objects.  When applied to the ICMP\nExtended Echo Request message, the ICMP Extension Structure MUST\ncontain one or two instances of the Interface Identification Object  (Section 2.1).", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-860679b495c25f719bb145dd1099751906bf281a8e396644f3a7c8081dd2abd2", "query": "Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\"", "positive_passages": [{"docid": "doc-en-rfc8335-99f78b9532b2335b8ed7239790db23b6dc343e54ef97508276253c1b7709dcd1", "text": "If the Interface Identification Object identifies the probed interface by index, the length is equal to 8 and the payload contains the MIB-II ifIndex [RFC2863].", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-860679b495c25f719bb145dd1099751906bf281a8e396644f3a7c8081dd2abd2", "query": "Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\"", "positive_passages": [{"docid": "doc-en-rfc8335-fadc9a28aa874240e8c6d155182d5f5364831f5c0da27c66d919ccab833a4626", "text": "If the Interface Identification Object identifies the probed  interface by name, the object payload MUST be the MIB-II [RFC2863] ifName.  If the object payload would not otherwise terminate on a\n32-bit boundary, it MUST be padded with ASCII NULL characters.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-860679b495c25f719bb145dd1099751906bf281a8e396644f3a7c8081dd2abd2", "query": "Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\"", "positive_passages": [{"docid": "doc-en-rfc8335-70f5da6ab8fdacd4a0a20ab03270eb98e64884ac395b8abc88081e879787edcf", "text": "If the probed interface resides on the probed node, PROBE determines\nthe status of the probed interface as it would determine its MIB-II\n[RFC2863] ifOperStatus.  If ifOperStatus is equal to up (1), PROBE\nreports that the probed interface is active.  Otherwise, PROBE\nreports that the probed interface is inactive.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-860679b495c25f719bb145dd1099751906bf281a8e396644f3a7c8081dd2abd2", "query": "Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\"", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-42ac37f117cb49b70f74522e0defda967bd6f01cd4cbf5b94433e73df9cc5cf4", "query": "Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3?", "positive_passages": [{"docid": "doc-en-rfc8335-7a23d5ae26ca5e652c2bb312a1bdadd14334daf7e68e8716f3151783b3ddeb22", "text": "This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-42ac37f117cb49b70f74522e0defda967bd6f01cd4cbf5b94433e73df9cc5cf4", "query": "Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3?", "positive_passages": [{"docid": "doc-en-rfc8335-ae07f5f0c61a0e57351de8f26868391e52b76d4428f008e3e7dddae9fd0db0a4", "text": "Like PING, PROBE executes on a probing node. It sends an ICMP Extended Echo message from a local interface, called the probing interface, to a proxy interface. The proxy interface resides on a probed node.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-42ac37f117cb49b70f74522e0defda967bd6f01cd4cbf5b94433e73df9cc5cf4", "query": "Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3?", "positive_passages": [{"docid": "doc-en-rfc8335-eb8043823ab2005573cde2a10c88fee03e7252b53bfc99ea7fb8e817566443cb", "text": "L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-42ac37f117cb49b70f74522e0defda967bd6f01cd4cbf5b94433e73df9cc5cf4", "query": "Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3?", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-f04dfec8f9bc49672bf1d411e093cded220821423af504f2906ce2d73431d848", "query": "Reviewer: Stefan Winter Review result: Has Issues Issues: Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. Request -L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L-Bit clear is default off already. Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. Nits: Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous.", "positive_passages": [{"docid": "doc-en-rfc8335-c114f56f6ef56a72c91db5a3bb2187286b2d07b8210a5ac1ff8d5add7ef30b92", "text": "Code: (0) No Error, (1) Malformed Query, (2) No Such Interface,\n(3) Multiple Interfaces Satisfy Query", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-7c2a4ca2447b6f908b836a231ee81750428de93c22e9406c7bc158a873b2816c", "query": "Stephan, Thanks for the thoughtful review. Responses inline. Rpn -----Original Message----- From: ietf [mailto:] On Behalf Of Stefan Winter Sent: Monday, December 4, 2017 9:02 AM To: Cc: ; ; Subject: Opsdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Stefan Winter Review result: Has Issues Issues: Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. [RB ] If the L-bit is clear, the proxy interface does not ping the probed interface. Instead, the node upon which the proxy interface resides executes the following procedure: Search ARP Table / Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such Interface If an entry is found, send a reply stating that the interface is active As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table / Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table / Neighbor Cache. So, I recommend that we change the procedure as follows: Search ARP Table / Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such ARP / NC Entry (This is a new error code) If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you? Request -L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. [RB ] Sometimes, this is not possible. For example, assume that a router has interfaces ge-0/0/0.0 and ge-0/0/1.0. The local side of ge-0/0/0.0 had the IPv6 link local address fe80::dead:beef. The remote side of the interface ge-0/0/1.0 has the same IPv6 link local address. The user can set or clear the L-bit to indicate which interface is being probed. Without the L-but, PROBE would return an error (Multiple Interfaces Satisfy Query). [RB ] Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; [RB ] See above the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] [RB ] How are these contradictory? The user sets the L-bit if the proxy and probed interfaces are on the same node. The user clears the L-bit of the proxy interface is on a node that is directly connected to the probed interface? b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] [RB ] I don't see the contradiction. If you are querying a non-local interface, you are going to search the ARP Table / Neighbor Cache. So, you need to query by address. You don't know the remote interface name or interface index. The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L- Bit clear is default off already. [RB ] I'm not sure that I follow this paragraph Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). [RB ] Fair enough. I will change them to 4-bit and 6-bit Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. [RB ] This objection may be cleared up as a side effect of clearing the previous objection Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. [RB ] It is a dictionary attack using a very small dictionary ;-) My point wasn't so much to explain how an attacker might discover interface names, but to warn that it is possible. Nits: Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous. [RB ] Good catch. Fixed in the next version.", "positive_passages": [{"docid": "doc-en-rfc8335-c114f56f6ef56a72c91db5a3bb2187286b2d07b8210a5ac1ff8d5add7ef30b92", "text": "Code: (0) No Error, (1) Malformed Query, (2) No Such Interface,\n(3) Multiple Interfaces Satisfy Query", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-f04dfec8f9bc49672bf1d411e093cded220821423af504f2906ce2d73431d848", "query": "Reviewer: Stefan Winter Review result: Has Issues Issues: Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. Request -L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L-Bit clear is default off already. Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. Nits: Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous.", "positive_passages": [{"docid": "doc-en-rfc8335-4f8f8ac30bd830490986409e341d1bffb5875dc533eef502685e049ec1c807b8", "text": "F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear.\nS (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-1323a65680f44fc88dba1a867ef9f72ed330b1069ce900f5bcd6c03f1efc375d", "query": "Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12/4/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision.", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-5b1392dd3cb14970f30b587f94992c556032424d94796b3ef1567354c5958e4b", "query": "Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision.", "positive_passages": [{"docid": "doc-en-rfc8335-7c0281f9a2c4268fb110df18ddb3a50411ea3094cb084a5dc2c5f8987f22e1e5", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-75ab5dd90a6c6025c18a5d911ce93f26195dea316c8c17bcd190c0207e8b4576", "query": "Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12/4/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision.", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-cfd432ea85221502b2dae294d2b61c3effa369ec0c2960bd5afac9c49b0c6aef", "query": "Hello Yaron, Thanks for the thoughtful review. Responses inline...... Ron -----Original Message----- From: Yaron Sheffer [mailto:] Sent: Saturday, December 2, 2017 4:35 PM To: Cc: ; ; Subject: Secdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. [RB ] I agree with all of the points that you raise above, except for the part about white listing. This isn't security theater. It's real. For the most part, hosts will stick with the default PROBE configuration. That is, they won't honor an ICMP Extended Echo Request of any type from any source. A good number of network operators will enable PROBE on their routers, but for the reasons that you point out above, they won't want their routers being probed from untrusted subnetworks. They will probably restrict probe access to a few trusted subnets that are within their administrative domain (e.g., the NOC, network controllers). I doubt if anyone will expose their routers to PROBING from all points on the Internet. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). [RB ] I can fix that in the next version \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). [RB ] Joel Halpern raised the same point in his review. In the next version, the probed node will be called the proxy node. \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" [RB ] Same fix as above \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? [RB ] I will check RFC 792 and use whatever words they used \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3? [RB ] Joel Halpern raised the same issue in his review. We will rename this bit to indicate that it is a Pseudowire endpoint, without mentioning what kind of PW endpoint it is. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-7a23d5ae26ca5e652c2bb312a1bdadd14334daf7e68e8716f3151783b3ddeb22", "text": "This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-cfd432ea85221502b2dae294d2b61c3effa369ec0c2960bd5afac9c49b0c6aef", "query": "Hello Yaron, Thanks for the thoughtful review. Responses inline...... Ron -----Original Message----- From: Yaron Sheffer [mailto:] Sent: Saturday, December 2, 2017 4:35 PM To: Cc: ; ; Subject: Secdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. [RB ] I agree with all of the points that you raise above, except for the part about white listing. This isn't security theater. It's real. For the most part, hosts will stick with the default PROBE configuration. That is, they won't honor an ICMP Extended Echo Request of any type from any source. A good number of network operators will enable PROBE on their routers, but for the reasons that you point out above, they won't want their routers being probed from untrusted subnetworks. They will probably restrict probe access to a few trusted subnets that are within their administrative domain (e.g., the NOC, network controllers). I doubt if anyone will expose their routers to PROBING from all points on the Internet. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). [RB ] I can fix that in the next version \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). [RB ] Joel Halpern raised the same point in his review. In the next version, the probed node will be called the proxy node. \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" [RB ] Same fix as above \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? [RB ] I will check RFC 792 and use whatever words they used \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3? [RB ] Joel Halpern raised the same issue in his review. We will rename this bit to indicate that it is a Pseudowire endpoint, without mentioning what kind of PW endpoint it is. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-ae07f5f0c61a0e57351de8f26868391e52b76d4428f008e3e7dddae9fd0db0a4", "text": "Like PING, PROBE executes on a probing node. It sends an ICMP Extended Echo message from a local interface, called the probing interface, to a proxy interface. The proxy interface resides on a probed node.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-cfd432ea85221502b2dae294d2b61c3effa369ec0c2960bd5afac9c49b0c6aef", "query": "Hello Yaron, Thanks for the thoughtful review. Responses inline...... Ron -----Original Message----- From: Yaron Sheffer [mailto:] Sent: Saturday, December 2, 2017 4:35 PM To: Cc: ; ; Subject: Secdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. [RB ] I agree with all of the points that you raise above, except for the part about white listing. This isn't security theater. It's real. For the most part, hosts will stick with the default PROBE configuration. That is, they won't honor an ICMP Extended Echo Request of any type from any source. A good number of network operators will enable PROBE on their routers, but for the reasons that you point out above, they won't want their routers being probed from untrusted subnetworks. They will probably restrict probe access to a few trusted subnets that are within their administrative domain (e.g., the NOC, network controllers). I doubt if anyone will expose their routers to PROBING from all points on the Internet. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). [RB ] I can fix that in the next version \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). [RB ] Joel Halpern raised the same point in his review. In the next version, the probed node will be called the proxy node. \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" [RB ] Same fix as above \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? [RB ] I will check RFC 792 and use whatever words they used \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3? [RB ] Joel Halpern raised the same issue in his review. We will rename this bit to indicate that it is a Pseudowire endpoint, without mentioning what kind of PW endpoint it is. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-eb8043823ab2005573cde2a10c88fee03e7252b53bfc99ea7fb8e817566443cb", "text": "L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-cfd432ea85221502b2dae294d2b61c3effa369ec0c2960bd5afac9c49b0c6aef", "query": "Hello Yaron, Thanks for the thoughtful review. Responses inline...... Ron -----Original Message----- From: Yaron Sheffer [mailto:] Sent: Saturday, December 2, 2017 4:35 PM To: Cc: ; ; Subject: Secdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. [RB ] I agree with all of the points that you raise above, except for the part about white listing. This isn't security theater. It's real. For the most part, hosts will stick with the default PROBE configuration. That is, they won't honor an ICMP Extended Echo Request of any type from any source. A good number of network operators will enable PROBE on their routers, but for the reasons that you point out above, they won't want their routers being probed from untrusted subnetworks. They will probably restrict probe access to a few trusted subnets that are within their administrative domain (e.g., the NOC, network controllers). I doubt if anyone will expose their routers to PROBING from all points on the Internet. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). [RB ] I can fix that in the next version \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). [RB ] Joel Halpern raised the same point in his review. In the next version, the probed node will be called the proxy node. \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" [RB ] Same fix as above \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? [RB ] I will check RFC 792 and use whatever words they used \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3? [RB ] Joel Halpern raised the same issue in his review. We will rename this bit to indicate that it is a Pseudowire endpoint, without mentioning what kind of PW endpoint it is. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-2b39626cac0c95b69388e18e0d1bb33c37a4b12e01f028fed6484d085a20a826", "query": "I followed up with Ron on this a bit off-list to try to understand the goal of the E (or P) bit. (My understanding was clealry not a show stopper for advancing the draft.) After some explanation, I asked the following question (Ron suggested I send it to the list.) It seems you are trying to provide clarity for the neither F nor S case? If one had a pure bridge, with IP control, that supported this probe mechanism, couldn't you get the same \"neither F nor S\" answer? Or an ATM switch, or ...? Yours, Joel O", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-8fd7bbeb71bd46ab752e7700e65e3efa402b51d3c220570127f5489283e9b377", "query": "I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04/12/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12/4/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-0b775ba90c62fe978faf28ee57f951720b621591d78bfdb89b0190df5d8b727d", "query": "Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04/12/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12/4/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list 3A__ man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e=", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-201f0abbb6b9a60becba6ab719fc61fa400d02bdb7396badc111532936a2e42e", "query": "That would be fa reasoanble way to address my genart review question. Yours, Joel On 12/6/17 11:13 AM, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04/12/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12/4/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list 3A__ man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e=", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-51271ce97594691a7d48681b18dda1ef597c07541c30d3fde4c50214792365ce", "query": "Ron, Yes you can always add it in later as an update after thinking through the problem in more detail. Stewart On 06/12/2017 16:13, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04/12/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12/4/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list 3A__ man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e=", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-b34b249f230e50fd40ff828007ca6f247e6f4dcc2e7419ffc9a613312432d9bb", "query": "Works for me. -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 12:19 PM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 Ron, Yes you can always add it in later as an update after thinking through the problem in more detail. Stewart On 06/12/2017 16:13, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04/12/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12/4/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir- BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list 3A__ man_listinfo_gen- 2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e=", "positive_passages": [{"docid": "doc-en-rfc8335-89bb2689d50a3521e5d651bd53420f3c0acdb08b4714ab89a8d62724f32ca698", "text": "E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-7c2a4ca2447b6f908b836a231ee81750428de93c22e9406c7bc158a873b2816c", "query": "Stephan, Thanks for the thoughtful review. Responses inline. Rpn -----Original Message----- From: ietf [mailto:] On Behalf Of Stefan Winter Sent: Monday, December 4, 2017 9:02 AM To: Cc: ; ; Subject: Opsdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Stefan Winter Review result: Has Issues Issues: Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. [RB ] If the L-bit is clear, the proxy interface does not ping the probed interface. Instead, the node upon which the proxy interface resides executes the following procedure: Search ARP Table / Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such Interface If an entry is found, send a reply stating that the interface is active As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table / Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table / Neighbor Cache. So, I recommend that we change the procedure as follows: Search ARP Table / Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such ARP / NC Entry (This is a new error code) If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you? Request -L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. [RB ] Sometimes, this is not possible. For example, assume that a router has interfaces ge-0/0/0.0 and ge-0/0/1.0. The local side of ge-0/0/0.0 had the IPv6 link local address fe80::dead:beef. The remote side of the interface ge-0/0/1.0 has the same IPv6 link local address. The user can set or clear the L-bit to indicate which interface is being probed. Without the L-but, PROBE would return an error (Multiple Interfaces Satisfy Query). [RB ] Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; [RB ] See above the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] [RB ] How are these contradictory? The user sets the L-bit if the proxy and probed interfaces are on the same node. The user clears the L-bit of the proxy interface is on a node that is directly connected to the probed interface? b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] [RB ] I don't see the contradiction. If you are querying a non-local interface, you are going to search the ARP Table / Neighbor Cache. So, you need to query by address. You don't know the remote interface name or interface index. The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L- Bit clear is default off already. [RB ] I'm not sure that I follow this paragraph Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). [RB ] Fair enough. I will change them to 4-bit and 6-bit Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. [RB ] This objection may be cleared up as a side effect of clearing the previous objection Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. [RB ] It is a dictionary attack using a very small dictionary ;-) My point wasn't so much to explain how an attacker might discover interface names, but to warn that it is possible. Nits: Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous. [RB ] Good catch. Fixed in the next version.", "positive_passages": [{"docid": "doc-en-rfc8335-c114f56f6ef56a72c91db5a3bb2187286b2d07b8210a5ac1ff8d5add7ef30b92", "text": "Code: (0) No Error, (1) Malformed Query, (2) No Such Interface,\n(3) Multiple Interfaces Satisfy Query", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-7c2a4ca2447b6f908b836a231ee81750428de93c22e9406c7bc158a873b2816c", "query": "Stephan, Thanks for the thoughtful review. Responses inline. Rpn -----Original Message----- From: ietf [mailto:] On Behalf Of Stefan Winter Sent: Monday, December 4, 2017 9:02 AM To: Cc: ; ; Subject: Opsdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Stefan Winter Review result: Has Issues Issues: Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. [RB ] If the L-bit is clear, the proxy interface does not ping the probed interface. Instead, the node upon which the proxy interface resides executes the following procedure: Search ARP Table / Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such Interface If an entry is found, send a reply stating that the interface is active As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table / Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table / Neighbor Cache. So, I recommend that we change the procedure as follows: Search ARP Table / Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such ARP / NC Entry (This is a new error code) If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you? Request -L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. [RB ] Sometimes, this is not possible. For example, assume that a router has interfaces ge-0/0/0.0 and ge-0/0/1.0. The local side of ge-0/0/0.0 had the IPv6 link local address fe80::dead:beef. The remote side of the interface ge-0/0/1.0 has the same IPv6 link local address. The user can set or clear the L-bit to indicate which interface is being probed. Without the L-but, PROBE would return an error (Multiple Interfaces Satisfy Query). [RB ] Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; [RB ] See above the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] [RB ] How are these contradictory? The user sets the L-bit if the proxy and probed interfaces are on the same node. The user clears the L-bit of the proxy interface is on a node that is directly connected to the probed interface? b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] [RB ] I don't see the contradiction. If you are querying a non-local interface, you are going to search the ARP Table / Neighbor Cache. So, you need to query by address. You don't know the remote interface name or interface index. The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L- Bit clear is default off already. [RB ] I'm not sure that I follow this paragraph Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). [RB ] Fair enough. I will change them to 4-bit and 6-bit Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. [RB ] This objection may be cleared up as a side effect of clearing the previous objection Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. [RB ] It is a dictionary attack using a very small dictionary ;-) My point wasn't so much to explain how an attacker might discover interface names, but to warn that it is possible. Nits: Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous. [RB ] Good catch. Fixed in the next version.", "positive_passages": [{"docid": "doc-en-rfc8335-eb8043823ab2005573cde2a10c88fee03e7252b53bfc99ea7fb8e817566443cb", "text": "L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-7c2a4ca2447b6f908b836a231ee81750428de93c22e9406c7bc158a873b2816c", "query": "Stephan, Thanks for the thoughtful review. Responses inline. Rpn -----Original Message----- From: ietf [mailto:] On Behalf Of Stefan Winter Sent: Monday, December 4, 2017 9:02 AM To: Cc: ; ; Subject: Opsdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Stefan Winter Review result: Has Issues Issues: Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. [RB ] If the L-bit is clear, the proxy interface does not ping the probed interface. Instead, the node upon which the proxy interface resides executes the following procedure: Search ARP Table / Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such Interface If an entry is found, send a reply stating that the interface is active As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table / Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table / Neighbor Cache. So, I recommend that we change the procedure as follows: Search ARP Table / Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such ARP / NC Entry (This is a new error code) If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you? Request -L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. [RB ] Sometimes, this is not possible. For example, assume that a router has interfaces ge-0/0/0.0 and ge-0/0/1.0. The local side of ge-0/0/0.0 had the IPv6 link local address fe80::dead:beef. The remote side of the interface ge-0/0/1.0 has the same IPv6 link local address. The user can set or clear the L-bit to indicate which interface is being probed. Without the L-but, PROBE would return an error (Multiple Interfaces Satisfy Query). [RB ] Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; [RB ] See above the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] [RB ] How are these contradictory? The user sets the L-bit if the proxy and probed interfaces are on the same node. The user clears the L-bit of the proxy interface is on a node that is directly connected to the probed interface? b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] [RB ] I don't see the contradiction. If you are querying a non-local interface, you are going to search the ARP Table / Neighbor Cache. So, you need to query by address. You don't know the remote interface name or interface index. The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L- Bit clear is default off already. [RB ] I'm not sure that I follow this paragraph Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). [RB ] Fair enough. I will change them to 4-bit and 6-bit Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. [RB ] This objection may be cleared up as a side effect of clearing the previous objection Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. [RB ] It is a dictionary attack using a very small dictionary ;-) My point wasn't so much to explain how an attacker might discover interface names, but to warn that it is possible. Nits: Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous. [RB ] Good catch. Fixed in the next version.", "positive_passages": [{"docid": "doc-en-rfc8335-4f8f8ac30bd830490986409e341d1bffb5875dc533eef502685e049ec1c807b8", "text": "F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear.\nS (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear.", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-959563b56dcadcdd67708ca55682ecc0ffd62f31aae37489bec4e8ddd13e06f5", "query": "Hi Ron, We need to ask for one more thing that we didn't ask for in our review, and it's because there's an error in the registration procedure data in the registries. Both and incorrectly state that the IESG Approval or Standards Action are the registration procedures for all \"Code\" registries. However, RFC 4443 and RFC 2780 state that \"The policy for assigning Code values for new IPv6 ICMP Types not defined in this document should be defined in the document defining the new Type\" ( and \"The policy for assigning Code values for new IPv4 ICMP Types should be defined in the document defining the new Type value\" ( section 6). Can you provide registration procedures for all of the Code registries? For our purposes, these could be added to the document as late as after IESG approval, when we're completing the actions, if that's more convenient/appropriate. Was our identification of 15 as the maximum values for the Code registries correct? Amanda On Tue Dec 12 21:14:40 2017, wrote: Folks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: [mailto:] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <; Mohamed Boucadair <; Jen Linkova <; Reji Thomas <; J. Linkova <; Chris Lenart <: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: There are also htmlized versions available at: A diff from the previous version is available at: Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat", "positive_passages": [{"docid": "doc-en-rfc8335-fa6f1042aef0dcb0dd7ceb1599a8812964c1f9ad419cbc9933cdc1c9427e6478", "text": "All codes mentioned above are assigned on a First Come First Serve (FCFS) basis with a range of 0 -255.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-b56a292f6c7e46fbd698fbad2594d3cc4e4e1c64bb782f31ce8938b1adfb51f8", "query": "All codes a First Come First Serve (FCFS). I will spin a new version and submit it ASAP. Ron -----Original Message----- From: Amanda Baber via RT [mailto:] Sent: Tuesday, December 12, 2017 4:36 PM Cc: ; ; ; ; ; ; Ron Bonica <; Subject: [IANA ] FW: New Version Notification for draft-ietf-intarea- probe-08.txt Hi Ron, We need to ask for one more thing that we didn't ask for in our review, and it's because there's an error in the registration procedure data in the registries. Both 3A__ 2Dparameters&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=TLb_jHVPHe0Dj7nQ4Cxwyrf8kdC5iiojQPhDvNKJtTc&e= and 3A__ 2Dparameters&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=caVCOf9tFAN8f24EMxRMHvTiDs5J4_xCxb1H9wrRdy0&e= incorrectly state that the IESG Approval or Standards Action are the registration procedures for all \"Code\" registries. However, RFC 4443 and RFC 2780 state that \"The policy for assigning Code values for new IPv6 ICMP Types not defined in this document should be defined in the document defining the new Type\" ( 3A__tools.ietf.org_html_rfc4443-23section- 2D6.1&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=pbDiItpJesJOl2L2iBx1kDXKkeb1C7z0OI5HymB1tmw&e=) and \"The policy for assigning Code values for new IPv4 ICMP Types should be defined in the document defining the new Type value\" ( 3A__tools.ietf.org_html_rfc2780&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjB XeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=mcXN5Wq_JQeqJYW6SKSDoqHccqV9BSu4TL55DhDzBRk&e=, section 6). Can you provide registration procedures for all of the Code registries? For our purposes, these could be added to the document as late as after IESG approval, when we're completing the actions, if that's more convenient/appropriate. Was our identification of 15 as the maximum values for the Code registries correct? Amanda On Tue Dec 12 21:14:40 2017, wrote: Folks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: [mailto:] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <; Mohamed Boucadair <; Jen Linkova <; Reji Thomas <; J. Linkova <; Chris Lenart <: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh 0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8 &m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=4sUgvChAKXjuVzWPrGKqb fqt_jA6PiVIL6DZPsAjZ5w&e= There are also htmlized versions available at: ml_draft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0 UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8& m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=INWpBt9CzwPXJTZhxfmFY- cu3M3T0JhFasMgfRuRyWg&e= org_doc_html_draft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rs uhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHc AwrDThKP8&m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=LUCrIXP0TerM 3OMtBViTNxSMap1b9A7NYTunO5SiyAo&e= A diff from the previous version is available at: 3A__ iff-3Furl2-3Ddraft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rs uhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHc AwrDThKP8&m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=WlzMSjovLFmc yOO7nNHeov_N1fzX_wHL3DSfor0vEsE&e= Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat", "positive_passages": [{"docid": "doc-en-rfc8335-fa6f1042aef0dcb0dd7ceb1599a8812964c1f9ad419cbc9933cdc1c9427e6478", "text": "All codes mentioned above are assigned on a First Come First Serve (FCFS) basis with a range of 0 -255.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-c0c48a421b0b0db2dec3062822fb9db484403404289e18f17914c21667d45b65", "query": "Kathleen Moriarty has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- Thanks for your responses on the SecDir review. There were 3 points and I think you've come to a conclusion on each of them, but let me verify from the updated text in versions 8 and 9. From the review: The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. KMM: The following was added in 4.1: \"o The L-bit is set and the ICMP Extension Structure does not identify any local interfaces o The L-bit is clear and the address or addresses found in the Interface Identification object appear in neither the IPv4 Address Resolution Protocol (ARP) Table nor the IPv6 Neighbor Cache\" And that's an improvement, thank you. Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. KMM: I don't see added text to point out this as was requested. Can you point me to the text or add some? \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. KMM: The last one - I agree with Ron, it is common practice to have explicit allow only lists, at least for any organization I worked. I think this is a good recommendation to keep in the document. Thank you!", "positive_passages": [{"docid": "doc-en-rfc8335-137fb643df92642a8260415d564e8151bdc806fda14303a42dd954dd18ac0216", "text": "The L-bit is set and the ICMP Extension Structure does not identify any local interfaces\nThe L-bit is clear and the address or addresses found in the Interface Identification object appear in neither the IPv4 Address Resolution Protocol (ARP) Table nor the IPv6 Neighbor Cache", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-5fca045b0fa5c892c10b3a3192745d5ddc31ee5707fb8a342bf055066358bb2f", "query": "Hi Eric, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Eric Rescorla [mailto:] Sent: Tuesday, December 12, 2017 7:21 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Eric Rescorla's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection [RB ] [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? [RB ] The ACL doesn't list all probe-capable nodes. It is configure on a probe-capable node and it enumerates the prefixes from which it will accept an ICMP Extended Echo Request. For example, assume that an ISP deploys PROBE capable software on its routers. By default, these routers won't accept an ICMP Extended Echo Request from anybody. The ISP will probably want to enable PROBE, but only if the ICMP Extended Echo Request comes from the NOC or from a few other trusted prefixes. So, the ISP will put those prefixes into the ACL. I am thinking that the number of prefixes will typically be very small (e.g., the NOC). or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. [RB ] The proxy node could ping the probed interface, but that would require the router to main state. We don't want to go there for scaling and security reasons. Rather than doing that, PROBE looks for an entry in the ARP Table and Neighbor Cache. Prior version 08 of this draft, the proxy node assumed that the probed interface does not exist if it is not in the ARP Table and Neighbor Cache. IETF LC reviewers pointed out that this assumption is not safe. So now, the proxy node reports that the table entry does not exist. In no longer reports that the interface does not exist. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? [RB ] This is a parameter to the Probe application. See the appendix. View Inlinedraft-ietf-intarea-probe.txt:365 Ethernet is running on the probed interface. Otherwise, the E-bit is clear. This seems pretty limited. Does \"WiFi\" count for instance? [RB ] The E-bit was removed in response to last call comments", "positive_passages": [{"docid": "doc-en-rfc8335-13b2c609b2ca16ad1c389cd5eb9ce49f86fda23854e98fc79174fe82b3be4cee", "text": "If the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the table entry does not exist.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-d3b3b128112ea252d85ce025ab7eda9c5e13fb89794c2295196c1813404669fc", "query": "Alvaro Retana has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- (1) The Code field of the Request is set to 0 - what happens if a different value is received? (2) The Request includes 2 fields (Identifier and Sequence Number) that are used \u201cto aid in matching Extended Echo Replies to Extended Echo Requests\u201d. Their use seems to be a local matter (as the values are simply copied in to the Reply. Can you please provide guidance on their use? Why are there 2 fields (and not just a single one)? I\u2019m assuming/hoping that the design had use cases in mind that can be reflected in the document. (3) It would be nice to set up a registry for the Reserved fields. (4) I\u2019m not sure I understand the use/intention of the L-bit. The description says that it is used (on the Request) to indicate whether the probed interfaces resides on the proxy node (or not). How does the originator of the Request know that information? The other function of this bit seems to be to control how the Interface Identification Object can identify the probed interface\u2026while it seems to make sense that a probed interface that doesn\u2019t reside on the proxy node would only be identified by it\u2019s address, it still makes me wonder how the sender of the Request would know, and why it even matters that it does and that it indicates it to the proxy node.", "positive_passages": [{"docid": "doc-en-rfc8335-8b43291223682309b65b9ff9e0069a9380ce7e797cb747c4f609c925c4560c25", "text": "Code: 0", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-d3b3b128112ea252d85ce025ab7eda9c5e13fb89794c2295196c1813404669fc", "query": "Alvaro Retana has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- (1) The Code field of the Request is set to 0 - what happens if a different value is received? (2) The Request includes 2 fields (Identifier and Sequence Number) that are used \u201cto aid in matching Extended Echo Replies to Extended Echo Requests\u201d. Their use seems to be a local matter (as the values are simply copied in to the Reply. Can you please provide guidance on their use? Why are there 2 fields (and not just a single one)? I\u2019m assuming/hoping that the design had use cases in mind that can be reflected in the document. (3) It would be nice to set up a registry for the Reserved fields. (4) I\u2019m not sure I understand the use/intention of the L-bit. The description says that it is used (on the Request) to indicate whether the probed interfaces resides on the proxy node (or not). How does the originator of the Request know that information? The other function of this bit seems to be to control how the Interface Identification Object can identify the probed interface\u2026while it seems to make sense that a probed interface that doesn\u2019t reside on the proxy node would only be identified by it\u2019s address, it still makes me wonder how the sender of the Request would know, and why it even matters that it does and that it indicates it to the proxy node.", "positive_passages": [{"docid": "doc-en-rfc8335-65f2ae30b2d748164b297d6006de2366684fc01aea30cbe0fc5a468bea93ebc2", "text": "Identifier: An identifier to aid in matching Extended Echo Replies to Extended Echo Requests. May be zero.\nSequence Number: A sequence number to aid in matching Extended Echo Replies to Extended Echo Requests. May be zero.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-8307f66d6cafe790853901b518c042680919324a2c62cf37a0834316ddf8fbbc", "query": "Alvaro, Thanks for the review. Comments inline...... Ron -----Original Message----- From: Alvaro Retana [mailto:] Sent: Wednesday, December 13, 2017 4:17 PM To: The IESG <: ; Luigi Iannone <; ; Subject: Alvaro Retana's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Alvaro Retana has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to 3A__ 2Dcriteria.html&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=d_E7NtGz7Mkv4ZHGdIjRM02eCQ1JZ_Yt4EEM6IC muk4&s=4NMprXR5y7Q_uFaDi3U-1CH5RCEEnk7dsr64WAgvz58&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=d_E7NtGz7Mkv4ZHGdIjRM02eCQ1JZ_Yt4EEM6IC muk4&s=em-7xrUp_9BjsRysGOLNV0SVdf0bFXg9jE7Pa5AQ_80&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- (1) The Code field of the Request is set to 0 - what happens if a different value is received? [RB ] Good catch. In version 10 the description will say \"MUST be set to 0 and MUST be ignored on receipt\". (2) The Request includes 2 fields (Identifier and Sequence Number) that are used \u201cto aid in matching Extended Echo Replies to Extended Echo Requests\u201d. Their use seems to be a local matter (as the values are simply copied in to the Reply. Can you please provide guidance on their use? Why are there 2 fields (and not just a single one)? I\u2019m assuming/hoping that the design had use cases in mind that can be reflected in the document. [RB ] Appendix A describes the PROBE application. In version 10, I will add a sentence describing how the Identifier and Sequence Number are used. (3) It would be nice to set up a registry for the Reserved fields. [RB ] Are you talking about the reserved fields whose value MUST be equal to 0 and MUST be ignored upon receipt? Or are you talking about the following text: Protocol Flag Bit mappings are as follows: Bit 0 (IPv4), Bit 1 (IPv6), Bit 2 (Ethernet), Bits 3-15 (Reserved). If the later, that text has been removed. It was an artifact from a very early version of the draft. (4) I\u2019m not sure I understand the use/intention of the L-bit. The description says that it is used (on the Request) to indicate whether the probed interfaces resides on the proxy node (or not). How does the originator of the Request know that information? The other function of this bit seems to be to control how the Interface Identification Object can identify the probed interface\u2026while it seems to make sense that a probed interface that doesn\u2019t reside on the proxy node would only be identified by it\u2019s address, it still makes me wonder how the sender of the Request would know, and why it even matters that it does and that it indicates it to the proxy node. [RB ] The L-Bit helps to identify the probed node by specifying whether it resides on the proxy node or is directly connected to the proxy node. In at least one case, it is required for disambiguation. For example, assume that a proxy node has two interfaces, ge-0/0/0.0 and ge-0/0/0.1. Both links have IPv6 link local addresses. The local side of ge-0/0/0.0 has the address fe80::dead:beef and the remote side of ge-0/0/0.1 has the same IPv6 link local address. If the ICMP Extended Echo Request identifies the probed interface by address, the L-bit disambiguates between the two similarly numbered interfaces.", "positive_passages": [{"docid": "doc-en-rfc8335-8b43291223682309b65b9ff9e0069a9380ce7e797cb747c4f609c925c4560c25", "text": "Code: 0", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-8307f66d6cafe790853901b518c042680919324a2c62cf37a0834316ddf8fbbc", "query": "Alvaro, Thanks for the review. Comments inline...... Ron -----Original Message----- From: Alvaro Retana [mailto:] Sent: Wednesday, December 13, 2017 4:17 PM To: The IESG <: ; Luigi Iannone <; ; Subject: Alvaro Retana's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Alvaro Retana has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to 3A__ 2Dcriteria.html&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=d_E7NtGz7Mkv4ZHGdIjRM02eCQ1JZ_Yt4EEM6IC muk4&s=4NMprXR5y7Q_uFaDi3U-1CH5RCEEnk7dsr64WAgvz58&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=d_E7NtGz7Mkv4ZHGdIjRM02eCQ1JZ_Yt4EEM6IC muk4&s=em-7xrUp_9BjsRysGOLNV0SVdf0bFXg9jE7Pa5AQ_80&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- (1) The Code field of the Request is set to 0 - what happens if a different value is received? [RB ] Good catch. In version 10 the description will say \"MUST be set to 0 and MUST be ignored on receipt\". (2) The Request includes 2 fields (Identifier and Sequence Number) that are used \u201cto aid in matching Extended Echo Replies to Extended Echo Requests\u201d. Their use seems to be a local matter (as the values are simply copied in to the Reply. Can you please provide guidance on their use? Why are there 2 fields (and not just a single one)? I\u2019m assuming/hoping that the design had use cases in mind that can be reflected in the document. [RB ] Appendix A describes the PROBE application. In version 10, I will add a sentence describing how the Identifier and Sequence Number are used. (3) It would be nice to set up a registry for the Reserved fields. [RB ] Are you talking about the reserved fields whose value MUST be equal to 0 and MUST be ignored upon receipt? Or are you talking about the following text: Protocol Flag Bit mappings are as follows: Bit 0 (IPv4), Bit 1 (IPv6), Bit 2 (Ethernet), Bits 3-15 (Reserved). If the later, that text has been removed. It was an artifact from a very early version of the draft. (4) I\u2019m not sure I understand the use/intention of the L-bit. The description says that it is used (on the Request) to indicate whether the probed interfaces resides on the proxy node (or not). How does the originator of the Request know that information? The other function of this bit seems to be to control how the Interface Identification Object can identify the probed interface\u2026while it seems to make sense that a probed interface that doesn\u2019t reside on the proxy node would only be identified by it\u2019s address, it still makes me wonder how the sender of the Request would know, and why it even matters that it does and that it indicates it to the proxy node. [RB ] The L-Bit helps to identify the probed node by specifying whether it resides on the proxy node or is directly connected to the proxy node. In at least one case, it is required for disambiguation. For example, assume that a proxy node has two interfaces, ge-0/0/0.0 and ge-0/0/0.1. Both links have IPv6 link local addresses. The local side of ge-0/0/0.0 has the address fe80::dead:beef and the remote side of ge-0/0/0.1 has the same IPv6 link local address. If the ICMP Extended Echo Request identifies the probed interface by address, the L-bit disambiguates between the two similarly numbered interfaces.", "positive_passages": [{"docid": "doc-en-rfc8335-65f2ae30b2d748164b297d6006de2366684fc01aea30cbe0fc5a468bea93ebc2", "text": "Identifier: An identifier to aid in matching Extended Echo Replies to Extended Echo Requests. May be zero.\nSequence Number: A sequence number to aid in matching Extended Echo Replies to Extended Echo Requests. May be zero.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-36e4dbbac15af937a9fc30a169808790e73cad3cb1e9d151a1e7a9add8c78370", "query": "Ben Campbell has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- -1.2: There is at least one lower case MUST. Unless that is intended as normative, please consider using the boilerplate from RFC8174. -8, last paragraph: \"MUST NOT leak information\" seems more like a goal or a statement of fact than a normative requirement. (I think the 2nd MUST in that paragraph describes the real normative requirement\")", "positive_passages": [{"docid": "doc-en-rfc8335-7281ae3f11e532c2c0860b927c1caad1f5abf2a7cfd1912686c59e83402cc517", "text": "PROBE MUST NOT leak information about one Virtual Private Network (VPN) into another. Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-36e4dbbac15af937a9fc30a169808790e73cad3cb1e9d151a1e7a9add8c78370", "query": "Ben Campbell has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- -1.2: There is at least one lower case MUST. Unless that is intended as normative, please consider using the boilerplate from RFC8174. -8, last paragraph: \"MUST NOT leak information\" seems more like a goal or a statement of fact than a normative requirement. (I think the 2nd MUST in that paragraph describes the real normative requirement\")", "positive_passages": [{"docid": "doc-en-rfc8335-9a29c9f06276362b8e5768ab12e0679d8d20f455e0639a213e9f2eb461508e78", "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in RFC 2119 [RFC2119].", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-c5f0ac1d3a61ca47bdbbf0ff0909f1636059b332f11ed08a67157452abba6861", "query": "Hi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Ben Campbell has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- -1.2: There is at least one lower case MUST. Unless that is intended as normative, please consider using the boilerplate from RFC8174. [RB ] Thanks! This will be fixed in the next version. -8, last paragraph: \"MUST NOT leak information\" seems more like a goal or a statement of fact than a normative requirement. (I think the 2nd MUST in that paragraph describes the real normative requirement\") [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-7281ae3f11e532c2c0860b927c1caad1f5abf2a7cfd1912686c59e83402cc517", "text": "PROBE MUST NOT leak information about one Virtual Private Network (VPN) into another. Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-c5f0ac1d3a61ca47bdbbf0ff0909f1636059b332f11ed08a67157452abba6861", "query": "Hi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Ben Campbell has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- -1.2: There is at least one lower case MUST. Unless that is intended as normative, please consider using the boilerplate from RFC8174. [RB ] Thanks! This will be fixed in the next version. -8, last paragraph: \"MUST NOT leak information\" seems more like a goal or a statement of fact than a normative requirement. (I think the 2nd MUST in that paragraph describes the real normative requirement\") [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-9a29c9f06276362b8e5768ab12e0679d8d20f455e0639a213e9f2eb461508e78", "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in RFC 2119 [RFC2119].", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-e9de22d02f813ae89cf6fe1d4398ae7dc4e867b9163d04e1d81fe62d57e3bad8", "query": "On Dec 14, 2017, at 11:03 AM, Ron Bonica <: Hi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) [\u2026] [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. I agree it\u2019s really important, but it\u2019s still a statement of fact. It\u2019s not normative in the sense that it doesn\u2019t offer instruction to implementers so much as it offers a reason for the _next_ requirement: \"Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface. \u201c Isn\u2019t _that_ the real normative requirement? In any case, this is not a blocking comment, so feel free to ignore it :-) Thanks! Ben. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-7281ae3f11e532c2c0860b927c1caad1f5abf2a7cfd1912686c59e83402cc517", "text": "PROBE MUST NOT leak information about one Virtual Private Network (VPN) into another. Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-fed70ba22d15f6a4ab5859145bdaeac8b04d2947e0ddd9b10a6b24d3ebf01827", "query": "Ben, I am convinced. I will change the first MUST NOT to lower case in version 10. Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, December 14, 2017 6:23 PM To: Ron Bonica <: The IESG <; ; draft-ietf-intarea- ; ; Subject: Re: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) On Dec 14, 2017, at 11:03 AM, Ron Bonica <: Hi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) [\u2026] [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. I agree it\u2019s really important, but it\u2019s still a statement of fact. It\u2019s not normative in the sense that it doesn\u2019t offer instruction to implementers so much as it offers a reason for the _next_ requirement: \"Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface. \u201c Isn\u2019t _that_ the real normative requirement? In any case, this is not a blocking comment, so feel free to ignore it :-) Thanks! Ben. Ron", "positive_passages": [{"docid": "doc-en-rfc8335-7281ae3f11e532c2c0860b927c1caad1f5abf2a7cfd1912686c59e83402cc517", "text": "PROBE MUST NOT leak information about one Virtual Private Network (VPN) into another. Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-4cd687a127083457b528d0e7875306701b46b9998e04a717b888ba3bca1ec048", "query": "Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed / on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-)", "positive_passages": [{"docid": "doc-en-rfc8335-c114f56f6ef56a72c91db5a3bb2187286b2d07b8210a5ac1ff8d5add7ef30b92", "text": "Code: (0) No Error, (1) Malformed Query, (2) No Such Interface,\n(3) Multiple Interfaces Satisfy Query", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-881603a0913362797513997ff00369fe2096f41f5ac406565e1b89d39d96d2f5", "query": "Hi Warren, Thanks for the review. Comments inline....... Happy Holidays, Ron -----Original Message----- From: Warren Kumari [mailto:] Sent: Wednesday, December 13, 2017 4:54 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Warren Kumari's Discuss on draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT) Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed / on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: 2Darchive_web_int- 2Darea_current_msg06136.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBX eMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=-FTEnwX0qAUuswd5C59LJixx92pB- lCmDysSzvMuD4E&s=eYX_7OsniE8LwWIAtu0fANguom6rE7Uvol5fgVcNQCU& e= works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. [RB ] Stephan raised the following legitimate points: 1) The presence of an ARP TABLE / Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface is active 2) The absence of an ARP Table / Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface does not exist We addressed the second point by changing an error message. When the proxy node probes the ARP Table / Neighbor Cache and finds nothing, it used to return an ICMP Echo Reply with code equal to \"No Such Interface\". Now it returns an ICMP Echo Reply message with code equal to \"No Such Table Entry\". This is more accurate. Frankly, we didn't address Stephan's first point. I think that we should address it by making the ICMP Echo Reply Message report more accurately. Specifically, when the proxy node searches the ARP Table / Neighbor Cache and finds an entry: Set the code to 0 (No Error) Clear the A-bit, the 4-bit and the 6-bit return the state of the neighbor cache entry What do you think? ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-)", "positive_passages": [{"docid": "doc-en-rfc8335-c114f56f6ef56a72c91db5a3bb2187286b2d07b8210a5ac1ff8d5add7ef30b92", "text": "Code: (0) No Error, (1) Malformed Query, (2) No Such Interface,\n(3) Multiple Interfaces Satisfy Query", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-881603a0913362797513997ff00369fe2096f41f5ac406565e1b89d39d96d2f5", "query": "Hi Warren, Thanks for the review. Comments inline....... Happy Holidays, Ron -----Original Message----- From: Warren Kumari [mailto:] Sent: Wednesday, December 13, 2017 4:54 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Warren Kumari's Discuss on draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT) Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed / on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: 2Darchive_web_int- 2Darea_current_msg06136.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBX eMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=-FTEnwX0qAUuswd5C59LJixx92pB- lCmDysSzvMuD4E&s=eYX_7OsniE8LwWIAtu0fANguom6rE7Uvol5fgVcNQCU& e= works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. [RB ] Stephan raised the following legitimate points: 1) The presence of an ARP TABLE / Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface is active 2) The absence of an ARP Table / Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface does not exist We addressed the second point by changing an error message. When the proxy node probes the ARP Table / Neighbor Cache and finds nothing, it used to return an ICMP Echo Reply with code equal to \"No Such Interface\". Now it returns an ICMP Echo Reply message with code equal to \"No Such Table Entry\". This is more accurate. Frankly, we didn't address Stephan's first point. I think that we should address it by making the ICMP Echo Reply Message report more accurately. Specifically, when the proxy node searches the ARP Table / Neighbor Cache and finds an entry: Set the code to 0 (No Error) Clear the A-bit, the 4-bit and the 6-bit return the state of the neighbor cache entry What do you think? ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-)", "positive_passages": [{"docid": "doc-en-rfc8335-95e021aaa783aa756cbec6a1892c728bf04499894cc0916d468512aeee348bfe", "text": "If the Code Field is equal to No Error (0) and the L-bit is clear,\nset the A-bit.", "commid": "rfc7657_9"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-218b1fad872113bc7a4c2adeaee1680c4ec82ac9c4fc02839b0c5fa3170abc4a", "query": "On Fri, Dec 15, 2017 at 11:06 AM, Ron Bonica <: Hi Warren, Thanks for the review. Comments inline....... Happy Holidays, Ron -----Original Message----- From: Warren Kumari [mailto:] Sent: Wednesday, December 13, 2017 4:54 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Warren Kumari's Discuss on draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT) Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed / on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: 2Darchive_web_int- 2Darea_current_msg06136.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBX eMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=-FTEnwX0qAUuswd5C59LJixx92pB- lCmDysSzvMuD4E&s=eYX_7OsniE8LwWIAtu0fANguom6rE7Uvol5fgVcNQCU& e= works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. [RB ] Stephan raised the following legitimate points: 1) The presence of an ARP TABLE / Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface is active 2) The absence of an ARP Table / Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface does not exist We addressed the second point by changing an error message. When the proxy node probes the ARP Table / Neighbor Cache and finds nothing, it used to return an ICMP Echo Reply with code equal to \"No Such Interface\". Now it returns an ICMP Echo Reply message with code equal to \"No Such Table Entry\". This is more accurate. Frankly, we didn't address Stephan's first point. I think that we should address it by making the ICMP Echo Reply Message report more accurately. Specifically, when the proxy node searches the ARP Table / Neighbor Cache and finds an entry: Set the code to 0 (No Error) Clear the A-bit, the 4-bit and the 6-bit return the state of the neighbor cache entry What do you think? That sounds perfectly fine to me. Note that I have cleared my DISCUSS on the telechat - I was only holding it so that I got a chance to note on the call that these changes will require what could be argued is a substantive change to the document, and to make sure that, like me, the rest of the IESG was fine with that. The above sounds fine to me, and I (of course) trust y'all and Suresh to make whatever changes seem sensible. W ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-) -- I don't think the execution is relevant when it was obviously a bad idea in the first place. This is like putting rabid weasels in your pants, and later expressing regret at having chosen those particular rabid weasels and that pair of pants. ---maf", "positive_passages": [{"docid": "doc-en-rfc8335-c114f56f6ef56a72c91db5a3bb2187286b2d07b8210a5ac1ff8d5add7ef30b92", "text": "Code: (0) No Error, (1) Malformed Query, (2) No Such Interface,\n(3) Multiple Interfaces Satisfy Query", "commid": "rfc7657_7"}], "negative_passages": []}
{"query_id": "q-en-rfc8335-218b1fad872113bc7a4c2adeaee1680c4ec82ac9c4fc02839b0c5fa3170abc4a", "query": "On Fri, Dec 15, 2017 at 11:06 AM, Ron Bonica <: Hi Warren, Thanks for the review. Comments inline....... Happy Holidays, Ron -----Original Message----- From: Warren Kumari [mailto:] Sent: Wednesday, December 13, 2017 4:54 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Warren Kumari's Discuss on draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT) Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed / on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: 2Darchive_web_int- 2Darea_current_msg06136.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBX eMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=-FTEnwX0qAUuswd5C59LJixx92pB- lCmDysSzvMuD4E&s=eYX_7OsniE8LwWIAtu0fANguom6rE7Uvol5fgVcNQCU& e= works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. [RB ] Stephan raised the following legitimate points: 1) The presence of an ARP TABLE / Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface is active 2) The absence of an ARP Table / Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface does not exist We addressed the second point by changing an error message. When the proxy node probes the ARP Table / Neighbor Cache and finds nothing, it used to return an ICMP Echo Reply with code equal to \"No Such Interface\". Now it returns an ICMP Echo Reply message with code equal to \"No Such Table Entry\". This is more accurate. Frankly, we didn't address Stephan's first point. I think that we should address it by making the ICMP Echo Reply Message report more accurately. Specifically, when the proxy node searches the ARP Table / Neighbor Cache and finds an entry: Set the code to 0 (No Error) Clear the A-bit, the 4-bit and the 6-bit return the state of the neighbor cache entry What do you think? That sounds perfectly fine to me. Note that I have cleared my DISCUSS on the telechat - I was only holding it so that I got a chance to note on the call that these changes will require what could be argued is a substantive change to the document, and to make sure that, like me, the rest of the IESG was fine with that. The above sounds fine to me, and I (of course) trust y'all and Suresh to make whatever changes seem sensible. W ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-) -- I don't think the execution is relevant when it was obviously a bad idea in the first place. This is like putting rabid weasels in your pants, and later expressing regret at having chosen those particular rabid weasels and that pair of pants. ---maf", "positive_passages": [{"docid": "doc-en-rfc8335-95e021aaa783aa756cbec6a1892c728bf04499894cc0916d468512aeee348bfe", "text": "If the Code Field is equal to No Error (0) and the L-bit is clear,\nset the A-bit.", "commid": "rfc7657_9"}], "negative_passages": []}
