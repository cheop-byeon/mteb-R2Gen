{"_id":"q-en-rfc7657-fd72b76142ac0f107d12c0cc9c666b034d1cdf67cd8547a8218c09a9f118c23f","text":"(as individual) -- General I concur with the editor's note to reorganize sections. On my first reading, I was going to comment that I thought we needed more focus on what is really likely to happen, e.g. with WebRTC. On a second reading, I think that's mostly okay, but the consolidation of the RTP sections might make it more clear. -- Section 4, Bullets 3 and 4: Should STP in bullet 4 be SCTP? If yes, then doesn't this bullet more tightly constrain things than bullet 3, to the point of making bullet 3 redundant? Or am I misreading something? Thanks! Ben. On Jul 31, 2014, at 3:50 PM, Black, David <: As promised, here's the -00 dart WG draft. I think I incorporated almost everything that was discussed in the meeting, but I've surely missed a few things - please comment (on list, or send me editorial changes directly). I want to call attention to this Editor's Note on draft organization: [Editor's Note: Current section structure skips around topics somewhat. The editor suggests restructuring to put real-time\/RTP material first (new section 2, consisting of current sections 2, 2.1 and 3), then DiffServ Background (new section 3, consisting of current sections 2.2, 2.3, 2.6 and 2.7, followed by discussion of interactions (new section 4, consisting of current sections 2.4, 2.5 and 5) and guidelines (current section 4, renumbered to new section 5).] If this change is made, I will submit a version that only contains the text rearrangement before making any other changes. The \"game plan\" that I've discussed w\/Ben (WG chair) is to revise the draft over about the next week with the resulting version going to WG Last Call, so reading this draft sooner rather than later might be a good idea. Thanks, --David -----Original Message----- From: I-D-Announce [mailto:] On Behalf Of Sent: Thursday, July 31, 2014 3:08 PM To: Cc: Subject: I-D Action: draft-ietf-dart-dscp-rtp-00.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-00.txt Pages : 23 Date : 2014-07-31 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: There's also a htmlized version available at: Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/ _______________________________________________ I-D-Announce mailing list Internet-Draft directories: or ftp:\/\/ftp.ietf.org\/ietf\/1shadow-sites.txt _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-41a74952825f9d7cb96a24feaed31ab768e9dab13a502b13030ada6bea7865ea","text":"Ben, Thank you for reviewing this draft. I concur with the editor's note to reorganize sections. Thank you - anyone else care to weigh in? -- Section 4, Bullets 3 and 4: Should STP in bullet 4 be SCTP? Yes, I'd plead gasoline fumes ;-), but I actually missed this in rapid-fire editing to try to pick up everything from the productive Toronto dart meeting. If yes, then doesn't this bullet more tightly constrain things than bullet 3, to the point of making bullet 3 redundant? Or am I misreading something? I think that's correct - bullets 3 and 4 should be combined. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Tuesday, August 05, 2014 3:41 PM To: Black, David Cc: Subject: Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-00.txt (as individual) -- General I concur with the editor's note to reorganize sections. On my first reading, I was going to comment that I thought we needed more focus on what is really likely to happen, e.g. with WebRTC. On a second reading, I think that's mostly okay, but the consolidation of the RTP sections might make it more clear. -- Section 4, Bullets 3 and 4: Should STP in bullet 4 be SCTP? If yes, then doesn't this bullet more tightly constrain things than bullet 3, to the point of making bullet 3 redundant? Or am I misreading something? Thanks! Ben. On Jul 31, 2014, at 3:50 PM, Black, David <: As promised, here's the -00 dart WG draft. I think I incorporated almost everything that was discussed in the meeting, but I've surely missed a few things - please comment (on list, or send me editorial changes directly). I want to call attention to this Editor's Note on draft organization: [Editor's Note: Current section structure skips around topics somewhat. The editor suggests restructuring to put real-time\/RTP material first (new section 2, consisting of current sections 2, 2.1 and 3), then DiffServ Background (new section 3, consisting of current sections 2.2, 2.3, 2.6 and 2.7, followed by discussion of interactions (new section 4, consisting of current sections 2.4, 2.5 and 5) and guidelines (current section 4, renumbered to new section 5).] If this change is made, I will submit a version that only contains the text rearrangement before making any other changes. The \"game plan\" that I've discussed w\/Ben (WG chair) is to revise the draft over about the next week with the resulting version going to WG Last Call, so reading this draft sooner rather than later might be a good idea. Thanks, --David -----Original Message----- From: I-D-Announce [mailto:] On Behalf Of Sent: Thursday, July 31, 2014 3:08 PM To: Cc: Subject: I-D Action: draft-ietf-dart-dscp-rtp-00.txt A New Internet-Draft is available from the on-line Internet-Drafts directories. This draft is a work item of the DiffServ Applied to Real-time Transports Working Group of the IETF. Title : Differentiated Services (DiffServ) and Real-time Communication Authors : David Black Paul Jones Filename : draft-ietf-dart-dscp-rtp-00.txt Pages : 23 Date : 2014-07-31 Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including RTCWEB. The IETF datatracker status page for this draft is: There's also a htmlized version available at: Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. Internet-Drafts are also available by anonymous FTP at: ftp:\/\/ftp.ietf.org\/internet-drafts\/ _______________________________________________ I-D-Announce mailing list Internet-Draft directories: or ftp:\/\/ftp.ietf.org\/ietf\/1shadow-sites.txt _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-96b06726a749fa3e1067199e85fe8abe98802ff7f11caa935aae0ce709a1b352","text":"Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: Cc: Richard Barnes; ; Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-81ebdfb134933040d15481976018bb5dc7f21960cebeb242725cccaf6b4a16d9","text":"I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. Yes, something definitely needs to be done, as shaping excess traffic is not consistent with the EF service. In addition, RFC 3246 recommends against (SHOULD NOT) remarking EF traffic within a DS domain in one of the text excerpts that was in your email, so remarking should not be mentioned as a possibility. Further, RFC 3246 recommends that excess traffic SHOULD be dropped (section 3): To protect itself against denial of service attacks, the edge of a DS domain SHOULD strictly police all EF marked packets to a rate negotiated with the adjacent upstream domain. Packets in excess of the negotiated rate SHOULD be dropped. I'll reword the dart draft text as follows: OLD Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. NEW Both of these PHBs are based on pre-configured limited forwarding capacity; traffic in excess of that capacity is expected to be dropped. Thanks for noticing this, --David -----Original Message----- From: [mailto:] Sent: Monday, August 11, 2014 6:21 AM To: Black, David Cc: ; Subject: AW: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: Cc: Richard Barnes; ; Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-c993a4187d2a9df4e6b6098ec8cb0be0077be5ea38cdd9eb1cf03434a265b9f5","text":"Hi Ruediger, On 11\/08\/2014 22:21, wrote: Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. Well, it seems to me to be a SHOULD, with the MUST that you cite below being conditional on \"a mechanism that allows unlimited preemption of other traffic.\" So I would not be at all surprised by deployments that support shaping and remarking. Also, there are certainly implementations that are closer to RFC 2598 or RFC 3248 and therefore less strict. I think the draft should make it clear that there is likely to be variation in actual behaviour for EF traffic that exceeds the nominal rate. (Leaving aside the fact that without a string of matching SLAs along the path, the nominal rate might not even be well defined.) Brian I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: Cc: Richard Barnes; ; Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list ."}
{"_id":"q-en-rfc7657-60ee4a695bc13702ae9ef87357249c4e19f66a5770e1cf85ab711303d1128658","text":"Hi Brian, with EF I link an expectation of excess traffic being dropped. A rate scheduler with single digit millisecond buffer depth and tail drop like behavior is not an issue. To me, that's a shaper configured to be EF compliant. If such a constraint is not desired then the text may say \"if mapped to a non-EF PHB, excess traffic may be shaped\". I'd like to ask for some explaining text if shaping of EF excess traffic is regarded as a property to be expected for this PHB. If an AF class is used to transport EF, then any potential remarking should be done in a way avoiding re-ordering (i.e. remark to DSCPs within the same AF class only). There's no point in remarking excess EF traffic to a PHB which may cause reordering. I think that's what a text on remarking of EF should express, if remarking is kept as an option to be expected (I've not yet heard of such a deployment). Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Brian E Carpenter [mailto:] Gesendet: Montag, 11. August 2014 22:13 An: Geib, Rüdiger Cc: ; ; Betreff: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi Ruediger, On 11\/08\/2014 22:21, wrote: Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. Well, it seems to me to be a SHOULD, with the MUST that you cite below being conditional on \"a mechanism that allows unlimited preemption of other traffic.\" So I would not be at all surprised by deployments that support shaping and remarking. Also, there are certainly implementations that are closer to RFC 2598 or RFC 3248 and therefore less strict. I think the draft should make it clear that there is likely to be variation in actual behaviour for EF traffic that exceeds the nominal rate. (Leaving aside the fact that without a string of matching SLAs along the path, the nominal rate might not even be well defined.) Brian I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: Cc: Richard Barnes; ; Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list ."}
{"_id":"q-en-rfc7657-301cb861a0ef53f77f883e43def23b39707618b22b1342e77062029a4339b5df","text":"Hi Ruediger, On 12\/08\/2014 19:38, wrote: Hi Brian, with EF I link an expectation of excess traffic being dropped. In general I agree; but that only makes sense if there is an agreement (or mechanism) to define the nominal rate, and rate control of some kind at the source. (An IP phone is in effect a rate controller, for example.) A rate scheduler with single digit millisecond buffer depth and tail drop like behavior is not an issue. To me, that's a shaper configured to be EF compliant. If such a constraint is not desired then the text may say \"if mapped to a non-EF PHB, excess traffic may be shaped\". I'd like to ask for some explaining text if shaping of EF excess traffic is regarded as a property to be expected for this PHB. Yes, technically that's correct - but a shaper could be inserted at the boundary between two DS domains, and for the end-to-end user that will appear as a property of the PHB. If an AF class is used to transport EF, then any potential remarking should be done in a way avoiding re-ordering (i.e. remark to DSCPs within the same AF class only). There's no point in remarking excess EF traffic to a PHB which may cause reordering. I fully agree. I think that's what a text on remarking of EF should express, if remarking is kept as an option to be expected (I've not yet heard of such a deployment). Yes. I'm not advocating such behaviour; my point is only that EF may not always be strictly conformant to RFC 3246. Brian Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Brian E Carpenter [mailto:] Gesendet: Montag, 11. August 2014 22:13 An: Geib, Rüdiger Cc: ; ; Betreff: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi Ruediger, On 11\/08\/2014 22:21, wrote: Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. Well, it seems to me to be a SHOULD, with the MUST that you cite below being conditional on \"a mechanism that allows unlimited preemption of other traffic.\" So I would not be at all surprised by deployments that support shaping and remarking. Also, there are certainly implementations that are closer to RFC 2598 or RFC 3248 and therefore less strict. I think the draft should make it clear that there is likely to be variation in actual behaviour for EF traffic that exceeds the nominal rate. (Leaving aside the fact that without a string of matching SLAs along the path, the nominal rate might not even be well defined.) Brian I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: Cc: Richard Barnes; ; Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list ."}
{"_id":"q-en-rfc7657-5bc41b798bc32605a06cce8f5c72839e26b78a417840b6f5129ab89ed91744aa","text":"Hi Brian, we are in agreement in most points. Of course a provider could shape EF traffic on an interconnection. This may not be a solution which I favor, but it is possible. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Brian E Carpenter [mailto:] Gesendet: Dienstag, 12. August 2014 22:35 An: Geib, Rüdiger Cc: ; ; Betreff: Re: AW: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi Ruediger, On 12\/08\/2014 19:38, wrote: Hi Brian, with EF I link an expectation of excess traffic being dropped. In general I agree; but that only makes sense if there is an agreement (or mechanism) to define the nominal rate, and rate control of some kind at the source. (An IP phone is in effect a rate controller, for example.) A rate scheduler with single digit millisecond buffer depth and tail drop like behavior is not an issue. To me, that's a shaper configured to be EF compliant. If such a constraint is not desired then the text may say \"if mapped to a non-EF PHB, excess traffic may be shaped\". I'd like to ask for some explaining text if shaping of EF excess traffic is regarded as a property to be expected for this PHB. Yes, technically that's correct - but a shaper could be inserted at the boundary between two DS domains, and for the end-to-end user that will appear as a property of the PHB. If an AF class is used to transport EF, then any potential remarking should be done in a way avoiding re-ordering (i.e. remark to DSCPs within the same AF class only). There's no point in remarking excess EF traffic to a PHB which may cause reordering. I fully agree. I think that's what a text on remarking of EF should express, if remarking is kept as an option to be expected (I've not yet heard of such a deployment). Yes. I'm not advocating such behaviour; my point is only that EF may not always be strictly conformant to RFC 3246. Brian Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Brian E Carpenter [mailto:] Gesendet: Montag, 11. August 2014 22:13 An: Geib, Rüdiger Cc: ; ; Betreff: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Hi Ruediger, On 11\/08\/2014 22:21, wrote: Hi David, new EF related text has been added in the -01 version. I've copied in some text of RFC3246 related to EF remarking and policing below. My take: . remarking of entire flows is an option, but no remarking of packets exceeding EF capacity limits. looking at the EF jitter and delay properties, I doubt that shaping is desirable. RFC3246 doesn't mention shaping as part of EF conditioning. I personally wouldn't expect EF shaping in sections where policing is applied. dropping of packets exceeding EF capacity is a MUST, if I interpret RFC3246 correctly. Well, it seems to me to be a SHOULD, with the MUST that you cite below being conditional on \"a mechanism that allows unlimited preemption of other traffic.\" So I would not be at all surprised by deployments that support shaping and remarking. Also, there are certainly implementations that are closer to RFC 2598 or RFC 3248 and therefore less strict. I think the draft should make it clear that there is likely to be variation in actual behaviour for EF traffic that exceeds the nominal rate. (Leaving aside the fact that without a string of matching SLAs along the path, the nominal rate might not even be well defined.) Brian I suggest to adapt the section of draft-dart-dscp to be more precise regarding the optional remarking of EF traffic and to remove shaping as a conditioning option if traffic is beyond the EF forwarding capacity limit. A Proposal for the final sentence: ...exceeds that capacity must be dropped. EF compliant flows may be remarked to a different DSCP. All other new text indicated by the Diff version looks allright. Regards, Ruediger draft-dart-dscp: 3. Expedited Forwarding (EF) [RFC3246] intended for inelastic traffic. Beyond the basic EF PHB, the VOICE-ADMIT PHB [RFC5865] is an admission controlled variant of the EF PHB. Both of these PHBs are based on pre-configured limited forwarding capacity; traffic that exceeds that capacity may be shaped, remarked to a different DSCP, or dropped. RFC3246 (three excerpts): Packets belonging to a single microflow within the EF aggregate passing through a device SHOULD NOT experience re-ordering in normal operation of the device. Packets marked for EF PHB MAY be remarked at a DS domain boundary only to other codepoints that satisfy the EF PHB. Packets marked for EF PHBs SHOULD NOT be demoted or promoted to another PHB by a DS domain. If the EF PHB is implemented by a mechanism that allows unlimited preemption of other traffic (e.g., a priority queue), the implementation MUST include some means to limit the damage EF traffic could inflict on other traffic (e.g., a token bucket rate limiter). Traffic that exceeds this limit MUST be discarded. -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Ben Campbell Gesendet: Samstag, 9. August 2014 19:50 An: Cc: Richard Barnes; ; Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 This is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list ."}
{"_id":"q-en-rfc7657-056642b7e5f06306123b0d4c06a95af0cfbfc9f5b178d2532b47305b36ad11fb","text":"Hi, [I’m not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow “The RTCWEB protocol suit encompasses a number of forms of multiplexing” seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing “unidirectional UDP packet flow” to “transport-layer flow” since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing “multiplexed over RTP sessions” to “multiplexed in a single RTP session” and “multiplexing of source streams in RTP sessions” to “multiplexing of source streams in a single RTP session”. In Section 6, the second bullet point refers to “an RTCP session”. There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it’s important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of “RTCWEB” in this draft need to change to “WebRTC”. Cheers, Colin On 9 Aug 2014, at 19:48, Ben Campbell <: Hi, The DART working group has started a last call for draft-ietf-dart-dscp-rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: From: Ben Campbell <: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: , , To: Cc: , , Richard Barnes < is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio\/Video Transport Core Maintenance -- Colin Perkins"}
{"_id":"q-en-rfc7657-16e3fe26dcec5850f6a41f42064392197bae7a5b0a8398a2cdaae32940354b3f","text":"Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <: Hi, [I’m not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow “The RTCWEB protocol suit encompasses a number of forms of multiplexing” seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing “unidirectional UDP packet flow” to “transport-layer flow” since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing “multiplexed over RTP sessions” to “multiplexed in a single RTP session” and “multiplexing of source streams in RTP sessions” to “multiplexing of source streams in a single RTP session”. In Section 6, the second bullet point refers to “an RTCP session”. There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it’s important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of “RTCWEB” in this draft need to change to “WebRTC”. Cheers, Colin On 9 Aug 2014, at 19:48, Ben Campbell <: Hi, The DART working group has started a last call for draft-ietf-dart-dscp-rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: From: Ben Campbell <: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: , , To: Cc: , , Richard Barnes < is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio\/Video Transport Core Maintenance -- Colin Perkins"}
{"_id":"q-en-rfc7657-34f53b1243a89082e83f36ed3f98638a0395f3bbeb31354a0c626c15fa832b35","text":"(As individual) Hi, Here are some WGLC comments on draft-ietf-dart-dscp-rtp-02. Thanks! Ben. ---------------- **** Substantive: -- General: I was going to ask if we can be more precise on what sort of layering (and muxing?) we expect to really happen on top of DTLS, especially for WebRTC use cases. But I think Colin's comments are on the right track, so I will comment in that thread. -- Abstract (and intro) It's probably worth mentioning that, other than mixing RTP\/RTCP, RTP multiplexing is a relatively new thing. It's needed by new work such as WebRTC and clue, and it is enabled by bundle. The point being, this wasn't something we really needed to worry about until now. -- Section 2.1, list item 3: \"An RTP session could be multiplexed with other protocols ... \" What is likely to really happen here? I don't think we will see an arbitrary mixing of other protocols in the immediate future. What are the realistic constraints, and likely layerings? For example, with WebRTC, we are likely to see some number of RTP\/RTCP streams, stun, turn, and dtls, with dtls carrying one or more SCTP associations (i.e. data channels) right? Do we have ways to signal more than that in sdp-bundle? OTOH, I guess one could argue that people might try to mix in more things in the future. -- 2.1, 2nd to last paragraph, last sentence (starting with \"In contrast...\" Is this specific to SCTP associations carried over DTLS packets a la RFC5764, or are we talking about SCTP\/UDP in general? -- 2.2, third paragraph: Are we talking about TCP as the outer transport protocol, and muxing things on the TCP 5-tuple? Or are we considering TCP as something that might get multiplexed on the UDP 5-tuple? Where do Jonathan Lennox's comments about potentially falling back to an ICE TCP candidate fit? -- section 3, paragraph 5: Does the term \"network node\" include application endpoints that might do initial DiffServ marking? -- section 3, paragraph 12: \"... observable forwarding behavior (e.g., loss, delay, jitter) will often depend only on the relative loading of the link\" Relative to what? Other links? Relative load to the capacity of the link? -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. -- section 6, last bullet: Is there a such thing as \"less than best effort traffic\" where \"best effort\" treatments would be unacceptable? Actually, it's not clear to me from this paragraph if CS1 is ever appropriate, at least from the application endpoint perspective, as it seem to give completely unpredictable results. -- Normative References: Are these first two references both \"normative\" enough to block on them? **** Editorial: -- section 1, paragraph 1: \"As a result use of different DSCPs...\" Missing comma after \"result\". -- 3.2, paragraph 1: \"... and such nodes remark traffic ...\" May remark? Always remark? -- 3.2, paragraph 3, last sentence: Is this sentence redundant to the previous paragraph? -- 4, paragraph 1: 2nd and 3rd sentence These sentences seem to contradict. The first says that receiving audio early is not useful, but the second says it may be useful. -- 4, 2nd paragraph: \"... e.g., are in an AF class ...\" in the _same_ AF class? -- 5.1, 7th paragraph Is this paragraph redundant with previous discussions of AF classes? -- 5.2, third paragraph: Can you elaborate on what it means to be \"contained in a buffer\"? -- 5.2, around paragraph 5: There are words about why non-interactive media is likely to have larger jitter buffers, but the fact that interactive media may have smaller buffers us left to implication. -- 5.3, 1st and 2nd sentence: These seem redundant to previous discussions about AF classes. -- 5.3, 2nd paragraph: It's not clear to me what this paragraph means. Is drop likelihood the likelihood that anything is dropped in a session, or the chance of any given packet being dropped? I assume drop likelihood is relative to that of other sessions crossing the same path? And that under non congested conditions none of this will matter? -- 6, 1st paragraph: \" ... the following requirements ...\" Are these requirements per se, or guidelines? -- 6, bullet list Each bullet starts with a verb, but ommits the subject. E.g., in the first bullet, what is the actor that should not use different DSCPs within a different stream? -- 6, 1st bullet: The double negation is confusing (\"should not use\", \"If this is not done...\"). Also, 2nd bullet: Is \"use a single PHB and DSCP\" different than just saying \"use a single DSCP\"? 3rd bullet: Am I correct in assuming SCTP multihoming is not an issue here? Should we mention that explicitly?"}
{"_id":"q-en-rfc7657-ec1aa39d497a2c387423162c3bce3f6ded0357305d36dea8df18e5a3e4a47922","text":"Colin - many thanks for the review. I'll pick up your proposed changes, perhaps with minor edits. Ben, 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? WebRTC will only multiplex its data channels, and this numbered list is about WebRTC, so this text should focus on those data channels - I'll revise the draft accordingly. Other text elsewhere in the draft is broader (e.g., SCTP\/UDP without DTLS, which is of interest, even though WebRTC always uses DTLS). Thanks, --David -----Original Message----- From: Dart [mailto:] On Behalf Of Ben Campbell Sent: Monday, August 18, 2014 4:48 PM To: Colin Perkins Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <: Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin On 9 Aug 2014, at 19:48, Ben Campbell <: Hi, The DART working group has started a last call for draft-ietf-dart-dscp- rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: From: Ben Campbell <: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: , , To: Cc: , , Richard Barnes < is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio\/Video Transport Core Maintenance -- Colin Perkins _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-9d86db7e02d60773c889609bc8a9fa372d4eacf6014016c3254b256dba809522","text":"Last Call review - drat-ietf-dart-dscp-rtp-02 Summary: This document is not ready for IETF Last Call, but close. The recommendations are reasonable and reasonably argued, but the precision and specificity of the language needs to be tightened up before publication. The below addresses some specific concerns. Section 2 nit: “communication in real-time” -“communication in real time” nit: The complex example needs to mention that there may be non-media streams; suggest “there may be multiple media and non-media streams”. 2.1 Reference to SSRC for reference clock is wrong - “an RTP stream may contain multiple source streams that use the same reference clock (SSRC)” - this should be “clock, identified by the same CNAME”. The SSRC has to be different for each RTP stream in an RTP session. (The naming choice here is confusing….) The section needs to mention that RTP can be carried over a non-datagram protocol such as TCP, but that this document does not say more about this - just to show that its omission is deliberate, not accidental. (In fact 5.3 discusses TCP-encapsulated RTP. So it’s appropriate to mention it here.) STUN is not an encapsulation protocol, so should be omitted from the “encapsulated via STUN” sentence. TURN is. STUN packets are, however, multiplexed with the RTP packets. Agree that the UDP stream is not unidirectional. 2.2 STUN\/TURN paragraph sits oddly here. It seems to belong outside the “reasons for multiplexing” flow. Perhaps move it to the beginning of the section? Again, STUN description needs tuning; STUN is used also for enabling communication without a relay server, by exchanging publicly-visible IP addresses and ports. 4. “receiving the audio packets ahead of the video is not useful” -“is not very useful” - the next sentence gives a reason why it is somewhat useful. 5.1 Diffserv, Reordering and Transport Protocols The paragraph “Reordering also affects other forms of congestion control” is wrong. The content is OK, but the intro is not - it is the differential treatment (including drop probability) that creates problems for RMCAT, not (just) the reordering. DCCP is sensitive to differential treatment, since it does congestion control, so description of it as “problem free” is wrong. I think there are considerations coming from reordering (which affect protocols with immediate feedback, such as ACK-based protocols), and there are consdierations from diferential treatment (guessing wrong about what’s affected by a queue). The former applies to TCP; the latter applies to TCP, SCTP, DCCP, and (probably) whatever RMCAT comes to. These two should be separated. 5.2 DiffServ, reordering and real time communication The last paragraph of the section is somewhat misleading - network packet reordering done for *whatever* reason has no upper bound. If the authors think that packet reordering is more likely to be problematic with different DSCPs than with the same DSCP, that’s what they should say. The reference to RTCP multi-stream optimization seems completely wrong. The grouping into RTCP reporting groups is about receiver SSRCs that see the same set of packets, not about grouping reports about different SSRC together. (unless I’ve misunderstood something). When not using multi-stream optimization, these SSRCs send duplicate reports. 6. Guidelines The word “requirements” seems at odds with the headline “guidelines”. The word “session” is used several times without explanation - “RTCP session”, “reliable transport protoocol session”. From context, I guess “flow” or “connection” would be more appropriate. I wonder if the first requirement can be phrased in the positive? For instance: Within a single RTP stream, should use a single PHB and DSCP, or a set of PHBs and DSCPs that do not allow reordering, for instance a single AF class. All in all, the document*'s recommendations are clear and reasonable, but the document can be improved. -- Surveillance is pervasive. Go Dark."}
{"_id":"q-en-rfc7657-51d7b53ab5bf77e2e6e7f2728c22c9dcdfb8995670827eaa9c36943ba2bc9c9e","text":"Here's the next to last paragraph in Section 5.3: SCTP [RFC4960] differs from TCP in a number of ways, including the ability to deliver messages in an order that differs from the order in which they were sent and support for unreliable streams. However, SCTP performs congestion control and retransmission across the entire association, and not on a per-stream basis. Although there may be advantages to using multiple drop precedence across SCTP streams or within an SCTP stream that does not use reliable ordered delivery, there is no practical operational experience in doing so (e.g., the SCTP sockets API [RFC6458] does not support use of more than one DSCP for an SCTP association). As a consequence, the impacts on SCTP protocol and implementation behavior are unknown and difficult to predict. Hence a single PHB and DSCP should be used for all packets in an SCTP association, independent of the number or nature of streams in that association. Similar reasoning applies to a DCCP connection; a single PHB and DSCP should be used because the scope of congestion control is the connection and there is no operational experience with using more than one PHB or DSCP. I propose to add the following new sentence as its own paragraph: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport connection (e.g., DCCP) or association (e.g., SCTP) is out of scope for this document. I could add examples of topics that could be addressed, but would prefer to leave that to the actual design activity. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 14, 2014 9:16 AM To: ; Cc: ; Black, David Subject: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) Wearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:] On Behalf Of Sent: Thursday, August 14, 2014 9:06 AM To: Cc: ; Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may Support the PHB and offer the same corresponding DSCP Not support the PHB and use the DSCP for a different PHB Not support the PHB and not use the DSCP Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-14acc793193d9a4c9bc5b2f043e49bced4ddb6521a030c8df2fe404b7d67048e","text":"I could live with that - it would be even nicer if we actually had a document with set of recommendations to point to - but since we don't, this seems an appropriate statement. Gorry Here's the next to last paragraph in Section 5.3: SCTP [RFC4960] differs from TCP in a number of ways, including the ability to deliver messages in an order that differs from the order in which they were sent and support for unreliable streams. However, SCTP performs congestion control and retransmission across the entire association, and not on a per-stream basis. Although there may be advantages to using multiple drop precedence across SCTP streams or within an SCTP stream that does not use reliable ordered delivery, there is no practical operational experience in doing so (e.g., the SCTP sockets API [RFC6458] does not support use of more than one DSCP for an SCTP association). As a consequence, the impacts on SCTP protocol and implementation behavior are unknown and difficult to predict. Hence a single PHB and DSCP should be used for all packets in an SCTP association, independent of the number or nature of streams in that association. Similar reasoning applies to a DCCP connection; a single PHB and DSCP should be used because the scope of congestion control is the connection and there is no operational experience with using more than one PHB or DSCP. I propose to add the following new sentence as its own paragraph: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport connection (e.g., DCCP) or association (e.g., SCTP) is out of scope for this document. I could add examples of topics that could be addressed, but would prefer to leave that to the actual design activity. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 14, 2014 9:16 AM To: ; Cc: ; Black, David Subject: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) Wearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:] On Behalf Of Sent: Thursday, August 14, 2014 9:06 AM To: Cc: ; Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may Support the PHB and offer the same corresponding DSCP Not support the PHB and use the DSCP for a different PHB Not support the PHB and not use the DSCP Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-20a373836f6bbb628584f4645a83640d4208050a224188e4d1798d50521bd575","text":"Good, I added a few words to be more explicit when I put the text into my working version of -03: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport protocol connection (e.g., DCCP) or transport protocol association (e.g., SCTP) is out of scope for this document. Thanks, --David -----Original Message----- From: [mailto:] Sent: Friday, August 22, 2014 3:13 PM To: Black, David Cc: ; ; Black, David Subject: RE: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) I could live with that - it would be even nicer if we actually had a document with set of recommendations to point to - but since we don't, this seems an appropriate statement. Gorry Here's the next to last paragraph in Section 5.3: SCTP [RFC4960] differs from TCP in a number of ways, including the ability to deliver messages in an order that differs from the order in which they were sent and support for unreliable streams. However, SCTP performs congestion control and retransmission across the entire association, and not on a per-stream basis. Although there may be advantages to using multiple drop precedence across SCTP streams or within an SCTP stream that does not use reliable ordered delivery, there is no practical operational experience in doing so (e.g., the SCTP sockets API [RFC6458] does not support use of more than one DSCP for an SCTP association). As a consequence, the impacts on SCTP protocol and implementation behavior are unknown and difficult to predict. Hence a single PHB and DSCP should be used for all packets in an SCTP association, independent of the number or nature of streams in that association. Similar reasoning applies to a DCCP connection; a single PHB and DSCP should be used because the scope of congestion control is the connection and there is no operational experience with using more than one PHB or DSCP. I propose to add the following new sentence as its own paragraph: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport connection (e.g., DCCP) or association (e.g., SCTP) is out of scope for this document. I could add examples of topics that could be addressed, but would prefer to leave that to the actual design activity. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 14, 2014 9:16 AM To: ; Cc: ; Black, David Subject: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) Wearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:] On Behalf Of Sent: Thursday, August 14, 2014 9:06 AM To: Cc: ; Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may Support the PHB and offer the same corresponding DSCP Not support the PHB and use the DSCP for a different PHB Not support the PHB and not use the DSCP Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-ed124c21b4ef56973fa10cd5d1d9dfbb5966585f25bd159c9d3b8dc4dba7aa6f","text":"On 08\/22\/2014 09:33 PM, Black, David wrote: Good, I added a few words to be more explicit when I put the text into my working version of -03: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport protocol connection (e.g., DCCP) or transport protocol association (e.g., SCTP) is out of scope for this document. It would be nice to add \"is a topic for future work\", but forward-looking statements should be avoided in RFCs. They turn out to be embarassing down the road far too often.... (however, the WG could recommend to the ADs that this subject be pursued by someone, somewhere, at some time....) Thanks, --David -----Original Message----- From: [mailto:] Sent: Friday, August 22, 2014 3:13 PM To: Black, David Cc: ; ; Black, David Subject: RE: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) I could live with that - it would be even nicer if we actually had a document with set of recommendations to point to - but since we don't, this seems an appropriate statement. Gorry Here's the next to last paragraph in Section 5.3: SCTP [RFC4960] differs from TCP in a number of ways, including the ability to deliver messages in an order that differs from the order in which they were sent and support for unreliable streams. However, SCTP performs congestion control and retransmission across the entire association, and not on a per-stream basis. Although there may be advantages to using multiple drop precedence across SCTP streams or within an SCTP stream that does not use reliable ordered delivery, there is no practical operational experience in doing so (e.g., the SCTP sockets API [RFC6458] does not support use of more than one DSCP for an SCTP association). As a consequence, the impacts on SCTP protocol and implementation behavior are unknown and difficult to predict. Hence a single PHB and DSCP should be used for all packets in an SCTP association, independent of the number or nature of streams in that association. Similar reasoning applies to a DCCP connection; a single PHB and DSCP should be used because the scope of congestion control is the connection and there is no operational experience with using more than one PHB or DSCP. I propose to add the following new sentence as its own paragraph: Guidance on transport protocol design and implementation to provide support for use of multiple PHBs and DSCPs in a transport connection (e.g., DCCP) or association (e.g., SCTP) is out of scope for this document. I could add examples of topics that could be addressed, but would prefer to leave that to the actual design activity. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 14, 2014 9:16 AM To: ; Cc: ; Black, David Subject: WGLC: draft-ietf-dart-dscp-rtp-02 - Gorry's item (2) Wearing none of my hats, I would prefer to put Gorry's item (2) into a TSV (Transport Area) draft somewhere, and hence prefer the suggestion to say that this document does not provide that sort of guidance. (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e., things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Thanks, --David -----Original Message----- From: Dart [mailto:] On Behalf Of Sent: Thursday, August 14, 2014 9:06 AM To: Cc: ; Subject: Re: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 Thanks When I said \"transport\" I was thinking of the algorithms to be used in the end-host to figure out what was operational and where congestion and delay were experienced. But what you say is all an import part. I expect what you discuss, could go into the tsvwg intercom draft. Gorry Hi Gorry, the following text will likely appear in the next version of my diffserv-intercon draft. The more DSCPs appear in a flow which aren't deployed end-to-end for the corresponding PHB, the more often one of the scenarios will be encountered. The following scenarios start from a domain sending IP traffic using a PHB and a corresponding DSCP to an interconnected domain. The receiving domain may Support the PHB and offer the same corresponding DSCP Not support the PHB and use the DSCP for a different PHB Not support the PHB and not use the DSCP Support the PHB with a differing DSCP, and the DSCP of the sending domain is not used for another PHB Support the PHB with a differing DSCP, and the DSCP of the sending domain is used for another PHB Another question to be answered then is how a network provider will treat unrecognized or unexpected DSCPs received at network boundaries. Regards, Ruediger -----Ursprüngliche Nachricht----- Von: Dart [mailto:] Im Auftrag von Gorry Fairhurst Gesendet: Mittwoch, 13. August 2014 22:33 An: Betreff: [Dart] WGLC: draft-ietf-dart-dscp-rtp-02 I can see good points raised on the details, instead I have some questions about the overall document strcuture: [snip] (2) I don't know if the document's goal is also to make transport recommendations for using multiple code points - i.e.things such as must be robust to the network changing a DSCP; needs to independently verify that a particular DCSP is not being black-holed, needs to not imply relative precedence when interpreting loss or marking of packets for a flow using multiple DCSPs etc. ??? If these are out of scope, then maybe the document should say that this particular document does not provide this sort of guidance. Gorry _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list -- Surveillance is pervasive. Go Dark."}
{"_id":"q-en-rfc7657-3dc5d5359aa59424a535c2199ed0b68d131b3cf92f61a11b7e4a4091b45c5ceb","text":"Hi Colin, I've picked up your changes (including RTCWEB -WebRTC globally) in my working draft, with two exceptions: (1) Items 3 and 4 in the list of what can be multiplexed. I don't think you suggested any changes to these two items, but they need significant attention for other reasons: Ben's comment that item 3 ought to focus on the WebRTC data channel STUN doesn't encapsulate WebRTC traffic (TURN does). I plan to merge these items 3 and 4 as part of revising them, and intend to move the topic of TURN encapsulation out to be discussed elsewhere, as it's independent of multiplexing. I'll propose specific text in a separate message. (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. Thanks, --David -----Original Message----- From: Colin Perkins [mailto:] Sent: Monday, August 18, 2014 11:18 AM To: Cc: WG; Ben Campbell; Subject: Re: [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin On 9 Aug 2014, at 19:48, Ben Campbell <: Hi, The DART working group has started a last call for draft-ietf-dart-dscp-rtp- 02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: From: Ben Campbell <: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: , , To: Cc: , , Richard Barnes < is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio\/Video Transport Core Maintenance -- Colin Perkins"}
{"_id":"q-en-rfc7657-cfe31bfd8d18adc18d8960988e05fec12e223a6c4866a97e02265aac516305d8","text":"Section 2.1 of the draft currently has this text on WebRTC multiplexing: 3. An RTP session could be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. That text has at least a couple of problems: This list is about WebRTC, so item 3 ought to specifically focus on the WebRTC data channel. STUN doesn't encapsulate WebRTC traffic (TURN does). On the latter, for simplicity, I plan to remove the mention of encapsulation from here and deal with it elsewhere as part of discussion of what happens if TURN decides to send all the traffic over TCP (that'll be in a separate message, stay tuned). Proposed new text (merging item 4 into item 3, which aligns with the structure of RFC 5764 and the rfc5764-mux-fixes draft): 3. An RTP session could be multiplexed with a single SCTP over DTLS association plus signaling traffic for STUN [RFC5389] and TURN [RFC5766] into a single transport level flow as described in [RFC5764] and [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]. STUN and TURN are used for NAT traversal. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 21, 2014 9:06 PM To: Ben Campbell; Colin Perkins Cc: ; ; WG; Black, David Subject: RE: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Colin - many thanks for the review. I'll pick up your proposed changes, perhaps with minor edits. Ben, 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? WebRTC will only multiplex its data channels, and this numbered list is about WebRTC, so this text should focus on those data channels - I'll revise the draft accordingly. Other text elsewhere in the draft is broader (e.g., SCTP\/UDP without DTLS, which is of interest, even though WebRTC always uses DTLS). Thanks, --David -----Original Message----- From: Dart [mailto:] On Behalf Of Ben Campbell Sent: Monday, August 18, 2014 4:48 PM To: Colin Perkins Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <: Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin On 9 Aug 2014, at 19:48, Ben Campbell <: Hi, The DART working group has started a last call for draft-ietf-dart-dscp- rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: From: Ben Campbell <: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: , , To: Cc: , , Richard Barnes < is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio\/Video Transport Core Maintenance -- Colin Perkins _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-85e621a718ecae8a3d47660b9a2e0a8038366ed8f63c8dfef5a7b42ff83920fc","text":"Someone was kind enough to privately point out an embarrassing DCCP thinko in Section 5.1: Unreliable datagram protocols (e.g., UDP, UDP-Lite, DCCP) are not sensitive to reordering in the network, because they do not provide reliable delivery or congestion control. That one's my fault - of course DCCP provides congestion control. The above sentence will be changed to: UDP and UDP-Lite are not sensitive to reordering in the network, because they do not provide reliable delivery or congestion control. The DCCP reference will be moved earlier in the section - in this text: In addition, congestion control functionality in transport protocols usually infers congestion when packets are lost, creating an additional sensitivity to significant reordering - such reordering may be (mis-)interpreted as indicating congestion-caused packet loss, causing a reduction in transmission rate. \"(including DCCP)\" will be inserted after \"in transport protocols\". Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id":"q-en-rfc7657-e0370a3525e76e8db471b8ca096065b9f059ba99d4bd8d4a0a7787a3b710e277","text":"I agree except where noted inline: On Aug 22, 2014, at 3:27 PM, Black, David <: Proposed new text (merging item 4 into item 3, which aligns with the structure of RFC 5764 and the rfc5764-mux-fixes draft): 3. An RTP session could be multiplexed with a single SCTP over DTLS association plus signaling traffic for STUN [RFC5389] and TURN [RFC5766] into a single transport level flow as described in [RFC5764] and [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]. STUN and TURN are used for NAT traversal. I agree with the direction here--but I'm not sure I would characterize STUN and TURN as signaling traffic. And STUN is used for connectivity checks, as well as NAT traversal. OTOH, maybe it would be better to just for this section to just say that STUN and TURN can be multiplexed in the flow without the additional comments about them? Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 21, 2014 9:06 PM To: Ben Campbell; Colin Perkins Cc: ; ; WG; Black, David Subject: RE: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Colin - many thanks for the review. I'll pick up your proposed changes, perhaps with minor edits. Ben, 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? WebRTC will only multiplex its data channels, and this numbered list is about WebRTC, so this text should focus on those data channels - I'll revise the draft accordingly. Other text elsewhere in the draft is broader (e.g., SCTP\/UDP without DTLS, which is of interest, even though WebRTC always uses DTLS). Thanks, --David -----Original Message----- From: Dart [mailto:] On Behalf Of Ben Campbell Sent: Monday, August 18, 2014 4:48 PM To: Colin Perkins Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <: Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin On 9 Aug 2014, at 19:48, Ben Campbell <: Hi, The DART working group has started a last call for draft-ietf-dart-dscp- rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: From: Ben Campbell <: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: , , To: Cc: , , Richard Barnes < is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio\/Video Transport Core Maintenance -- Colin Perkins _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-8674eb0b0479b3008da8910e50fa61007ab4d9e79d76aab06ed8f55776b3f177","text":"In addition to his helpful comments to the list, Colin Perkins sent me a private suggestion to double check the DART dscp-rtp draft text against this requirement in Section 2 of draft-ietf-rmcat-cc-requirements-05.txt on Congestion Control Requirements For RMCAT: 9. Flows managed by this algorithm and flows competing against at a bottleneck may have different DSCP[RFC5865] markings depending on the type of traffic, or may be subject to flow-based QoS. A particular bottleneck or section of the network path may or may not honor DSCP markings. The algorithm should attempt to leverage DSCP markings when they're available. I think the DART dscp-rtp draft text is ok wrt that RMCAT draft text, as the RMCAT draft uses the unmodified word \"flow\" and hence is silent on presence, absence, and\/or scope of multiplexing. It's also the case that the DART draft is supposed to document the present state of things, whereas this RMCAT requirements draft concerns future congestion control mechanisms. OTOH, the text in the DART draft on coupled congestion controllers appears to be somewhat off, as the guideline on avoidance of reordering within the scope of a common (coupled) congestion controller only applies when all bottlenecks are assumed to be shared, as opposed to when measurements are used to detect them. That makes the second half of the first guideline bullet in Section 6 too broad, and may suggest some additional edits to the text on shared bottleneck detection in Section 5.1. Here are the text changes that should correct this situation: -- Section 5.1 OLD Shared bottlenecks can be detected via correlations of measured metrics such as one-way delay. An alternative approach assumes that the set of packets on a single 5-tuple marked with DSCPs that do not allow reordering will utilize a common network path and common forwarding resources at each network node. NEW Shared bottlenecks can be detected via techniques such as correlation of one-way delay measurements across RTP streams. An alternate approach is to assume that the set of packets on a single 5-tuple marked with DSCPs that do not allow reordering will utilize a common network path and common forwarding resources at each network node. -- Section 6 After: o Should not use different PHBs and DSCPs that allow reordering within a single RTP stream. If this is not done, significant network reordering may overwhelm implementation assumptions about reordering limits, e.g., jitter buffer size, causing poor user experiences, see Section 5.2 above. OLD When a common (coupled) congestion controller is used across multiple RTP streams, this recommendation against use of PHBs and DSCPs that allow reordering applies across all of the RTP streams that are within the scope of a single common (coupled) congestion controller. NEW This guideline applies to all of the RTP streams that are within the scope of a common (coupled) congestion controller that does not use per-RTP-stream measurements for bottleneck detection. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id":"q-en-rfc7657-2e766e4a1cd616a4f166f6e387d83c709be12bd77bceb74e1d1793a0e5ea6f1c","text":"Ok, \"signaling traffic for STUN [RFC5389] and TURN [RFC5766]\" --\"STUN [RFC5389] and TURN [RFC5766] traffic\" It's even fewer words ;-) - consider that done. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Friday, August 22, 2014 5:24 PM To: Black, David Cc: Colin Perkins; ; ; WG Subject: Re: WGLC: draft-ietf-dart-dscp-rtp-02 - proposed text for section 2.1 mux items 3 and 4 I agree except where noted inline: On Aug 22, 2014, at 3:27 PM, Black, David <: Proposed new text (merging item 4 into item 3, which aligns with the structure of RFC 5764 and the rfc5764-mux-fixes draft): 3. An RTP session could be multiplexed with a single SCTP over DTLS association plus signaling traffic for STUN [RFC5389] and TURN [RFC5766] into a single transport level flow as described in [RFC5764] and [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]. STUN and TURN are used for NAT traversal. I agree with the direction here--but I'm not sure I would characterize STUN and TURN as signaling traffic. And STUN is used for connectivity checks, as well as NAT traversal. OTOH, maybe it would be better to just for this section to just say that STUN and TURN can be multiplexed in the flow without the additional comments about them? Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 21, 2014 9:06 PM To: Ben Campbell; Colin Perkins Cc: ; ; WG; Black, David Subject: RE: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Colin - many thanks for the review. I'll pick up your proposed changes, perhaps with minor edits. Ben, 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? WebRTC will only multiplex its data channels, and this numbered list is about WebRTC, so this text should focus on those data channels - I'll revise the draft accordingly. Other text elsewhere in the draft is broader (e.g., SCTP\/UDP without DTLS, which is of interest, even though WebRTC always uses DTLS). Thanks, --David -----Original Message----- From: Dart [mailto:] On Behalf Of Ben Campbell Sent: Monday, August 18, 2014 4:48 PM To: Colin Perkins Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] WGLC: draft-ietf-dart-dscp-rtp-02 Hi, I concur with all of Colin's comments, save one question below: On Aug 18, 2014, at 10:17 AM, Colin Perkins <: Hi, [I'm not on the DART list, so please cc me in replies] This draft looks good overall, but I did have some comments, primarily about the discussion of RTP multiplexing. The four bullet points in Section 2.1 that follow \"The RTCWEB protocol suit encompasses a number of forms of multiplexing\" seem to confuse RTP sessions, RTCP, and transport-layer flows. I suggest they be changed to: The RTP streams that comprise a WebRTC session can be multiplexed together in a number of ways: 1. Individual source streams are carried in one or more individual RTP streams. These RTP streams can be multiplexed onto a single transport-layer flow or sent as separate transport-layer flows. This memo only considers the case where the RTP streams are to be multiplexed onto a single transport-layer flow, forming a single RTP session; 2. The RTP Control Protocol (RTCP) [RFC3550] may be multiplexed onto the same transport-layer flow as the RTP stream with which it is associated, as described in [RFC5761], or it may be sent on a separate transport-layer flow; 3. The RTP and RTCP traffic can be multiplexed with other protocols via UDP encapsulation over a common pair of UDP ports as described in [RFC5764] as updated by [I-D.petithuguenin-avtcore-rfc5764-mux-fixes]; and Can we clarify what \"other protocols\" are expected? Are we just talking about WebRTC data-channels over SCTP\/DTLS, or other things? If the latter, are we talking things we expect to do today, or in immediate futures, or extensions that might happen someday? 4. The data may be further encapsulated via STUN [RFC5389] and TURN [RFC5766] for NAT (Network Address Translator) traversal. In the following paragraph (penultimate paragraph in Section 2.1), I suggest changing \"unidirectional UDP packet flow\" to \"transport-layer flow\" since it will not be unidirectional (since RTCP also flows in the reverse direction), and might not use UDP. In the first paragraph of section 2.2, I suggest changing \"multiplexed over RTP sessions\" to \"multiplexed in a single RTP session\" and \"multiplexing of source streams in RTP sessions\" to \"multiplexing of source streams in a single RTP session\". In Section 6, the second bullet point refers to \"an RTCP session\". There is no such thing. Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Editorial: the protocol is called WebRTC, but the working group is RTCWEB. Accordingly, I think all instances of \"RTCWEB\" in this draft need to change to \"WebRTC\". Cheers, Colin On 9 Aug 2014, at 19:48, Ben Campbell <: Hi, The DART working group has started a last call for draft-ietf-dart-dscp- rtp-02, ending on August 22. This informational draft describes considerations for the use of DiffServ code points in situations where one multiplexes multiple RTP packet streams, and potentially other protocol streams, that share the same 5-tuple. Since this draft is likely of interest to several working groups, I would like to solicit additional reviews from participants of TSVWG, AVTCORE, MMUSIC, CLUE, RTCWEB, and RMCAT. Please send any feedback (including feedback to the effect of \"this is ready to progress\") to the DART working group mailing list. Thanks! Ben. Begin forwarded message: Resent-From: From: Ben Campbell <: WGLC: draft-ietf-dart-dscp-rtp-02 Date: August 9, 2014 at 12:50:16 PM CDT Resent-To: , , To: Cc: , , Richard Barnes < is a DART Working Group Last Call of draft-ietf-dart-dscp-rtp-02. It's available on the data tracker at the following URL: The WGLC will conclude on 22 August, 2014. Please send your comments to the authors and the DART mailing list. If you've reviewed it and think it's good to go, please say so. Thanks! Ben. _______________________________________________ Audio\/Video Transport Core Maintenance -- Colin Perkins _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-1e83a109e8a5594c5c0e8a5b031b8c7213e0136f134ec509de3d3231965b8d6f","text":"Ben, Many thanks for the extensive review - comments inline ... Could you suggest some additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4? Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Monday, August 18, 2014 5:49 PM To: Cc: Subject: WGLC Comments on draft-ietf-dart-dscp-rtp-02 (As individual) Hi, Here are some WGLC comments on draft-ietf-dart-dscp-rtp-02. Thanks! Ben. ---------------- **** Substantive: -- General: I was going to ask if we can be more precise on what sort of layering (and muxing?) we expect to really happen on top of DTLS, especially for WebRTC use cases. But I think Colin's comments are on the right track, so I will comment in that thread. Dealt with in other thread, on mux items 3 and 4 in Section 2.1. -- Abstract (and intro) It's probably worth mentioning that, other than mixing RTP\/RTCP, RTP multiplexing is a relatively new thing. It's needed by new work such as WebRTC and clue, and it is enabled by bundle. The point being, this wasn't something we really needed to worry about until now. Could you suggest text for the Introduction section, along with any additional references? -- Section 2.1, list item 3: \"An RTP session could be multiplexed with other protocols ... \" What is likely to really happen here? I don't think we will see an arbitrary mixing of other protocols in the immediate future. What are the realistic constraints, and likely layerings? For example, with WebRTC, we are likely to see some number of RTP\/RTCP streams, stun, turn, and dtls, with dtls carrying one or more SCTP associations (i.e. data channels) right? Do we have ways to signal more than that in sdp-bundle? OTOH, I guess one could argue that people might try to mix in more things in the future. Dealt with in other thread. -- 2.1, 2nd to last paragraph, last sentence (starting with \"In contrast...\" Is this specific to SCTP associations carried over DTLS packets a la RFC5764, or are we talking about SCTP\/UDP in general? It's SCTP\/UDP in general, clarified. -- 2.2, third paragraph: Are we talking about TCP as the outer transport protocol, and muxing things on the TCP 5-tuple? Or are we considering TCP as something that might get multiplexed on the UDP 5-tuple? Where do Jonathan Lennox's comments about potentially falling back to an ICE TCP candidate fit? It's TCP as the outer transport protocol, and this is part of the text that responds to Jonathan Lennox's comments (the rest of it is hidden in 5.3, and needs some more prominence, as it's missing from the guidelines). I added: When TURN selects use of TCP, the entire real-time communications session is carried over a single TCP 5-tuple. And added mention of this scenario (TURN selects TCP) to the guideline on TCP. -- section 3, paragraph 5: Does the term \"network node\" include application endpoints that might do initial DiffServ marking? No, changed to \"node in the network\". -- section 3, paragraph 12: \"... observable forwarding behavior (e.g., loss, delay, jitter) will often depend only on the relative loading of the link\" Relative to what? Other links? Relative load to the capacity of the link? Removed \"relative\" ;-). -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. -- section 6, last bullet: Is there a such thing as \"less than best effort traffic\" where \"best effort\" treatments would be unacceptable? I can come up with possible examples - background bulk transfer of something large that should not interfere with foreground WebRTC data that is being carried as best-effort. Actually, it's not clear to me from this paragraph if CS1 is ever appropriate, at least from the application endpoint perspective, as it seem to give completely unpredictable results. That was intended - would you like to see stronger language? -- Normative References: Are these first two references both \"normative\" enough to block on them? Well, the first one certainly is - if the relevant terminology in the rtp-grouping-taxonomy draft changes, this DART draft will change also, as has already been demonstrated. OTOH, I'll move both RFC 5764 and the rfc5764-mux-fixes draft to informative. **** Editorial: -- section 1, paragraph 1: \"As a result use of different DSCPs...\" Missing comma after \"result\". Fixed. -- 3.2, paragraph 1: \"... and such nodes remark traffic ...\" May remark? Always remark? It's \"may remark,\" but I rephrased for clarity - the sentence now reads: When DiffServ is used, the edge or boundary nodes of a network are responsible for ensuring that all traffic entering that network conforms to that network's policies for DSCP and PHB usage, and such nodes may change DSCP markings on traffic to achieve that result. -- 3.2, paragraph 3, last sentence: Is this sentence redundant to the previous paragraph? Not completely, but I moved the point about ignoring embedded headers into the previous paragraph and removed this sentence. -- 4, paragraph 1: 2nd and 3rd sentence These sentences seem to contradict. The first says that receiving audio early is not useful, but the second says it may be useful. Changed second sentence to talk about increased reliability of receiving audio ... because more reliable arrival of audio helps assure smooth audio rendering ... -- 4, 2nd paragraph: \"... e.g., are in an AF class ...\" in the _same_ AF class? Yes, changed to \"a single AF class\". -- 5.1, 7th paragraph Is this paragraph redundant with previous discussions of AF classes? I don't think the paragraph is redundant, but I removed \"as the three PHBs in an AF class differ solely in drop precedence.\" as that is redundant with 3.1. -- 5.2, third paragraph: Can you elaborate on what it means to be \"contained in a buffer\"? Added: \"because packets that arrive out of order are retrieved in order from the jitter buffer for rendering.\" -- 5.2, around paragraph 5: There are words about why non-interactive media is likely to have larger jitter buffers, but the fact that interactive media may have smaller buffers us left to implication. Elaborated first sentence in previous bullet - it now ends with \"such as interactive conversations for which small jitter buffers are necessary to preserve human perceptions of real-time interaction.\" -- 5.3, 1st and 2nd sentence: These seem redundant to previous discussions about AF classes. Tightened up - the point about same forwarding resources implying no latency variation needs to be made here. New text: Packets on the same 5-tuple that use PHBs within a single AF class can be expected to draw upon the same forwarding resources on network nodes (e.g., use the same router queue) and hence use of multiple drop precedences within an AF class is not expected to cause latency variation. -- 5.3, 2nd paragraph: It's not clear to me what this paragraph means. Is drop likelihood the likelihood that anything is dropped in a session, or the chance of any given packet being dropped? I assume drop likelihood is relative to that of other sessions crossing the same path? And that under non congested conditions none of this will matter? Deleted second sentence, and rephrased first to: When PHBs within a single AF class are mixed within a flow, the resulting overall likelihood that packets will be dropped from that flow is a mix of the drop likelihoods of the PHBs involved. I also joined it up w\/the previous paragraph. -- 6, 1st paragraph: \" ... the following requirements ...\" Are these requirements per se, or guidelines? Guidelines. -- 6, bullet list Each bullet starts with a verb, but ommits the subject. E.g., in the first bullet, what is the actor that should not use different DSCPs within a different stream? The subject was factored out - \"applications and other traffic sources\". I moved it to start a new paragraph. -- 6, 1st bullet: The double negation is confusing (\"should not use\", \"If this is not done...\"). Also, Now reads: \" Should limit use of DSCPs within a single RTP stream to those whose PHBs do not allow packet reordering.\" 2nd bullet: Is \"use a single PHB and DSCP\" different than just saying \"use a single DSCP\"? The latter is better for \"applications and other traffic sources\" Extensive editing resulted,. 3rd bullet: Am I correct in assuming SCTP multihoming is not an issue here? Should we mention that explicitly? It's not an issue, and does not really need to be mentioned here. Switching among addresses involved in SCTP multihoming is a transient affect akin to (and possibly caused by) routing changes, and that's already mentioned in Section 5.1."}
{"_id":"q-en-rfc7657-c55cb5d061165501190c98c326e082b8df8f36ba0115dd71eeeb1312abefb7b3","text":"Harald, Thank you for carefully reviewing this draft. Comments\/responses are inline at DLB. I’m about to post a -03 version which is not completely done. Thanks, --David From: Dart [mailto:] On Behalf Of Harald Alvestrand Sent: Friday, August 22, 2014 9:47 AM To: Subject: [Dart] HTA's Last Call review - drart-dscp-rtp-02 Last Call review - drat-ietf-dart-dscp-rtp-02 This document is not ready for IETF Last Call, but close. The recommendations are reasonable and reasonably argued, but the precision and specificity of the language needs to be tightened up before publication. The below addresses some specific concerns. Section 2 nit: “communication in real-time” -“communication in real time” nit: The complex example needs to mention that there may be non-media streams; suggest “there may be multiple media and non-media streams”. DLBFixed both. 2.1 Reference to SSRC for reference clock is wrong - “an RTP stream may contain multiple source streams that use the same reference clock (SSRC)” - this should be “clock, identified by the same CNAME”. The SSRC has to be different for each RTP stream in an RTP session. (The naming choice here is confusing….) DLBThe text refers to a single RTP stream that contains multiple source streams, but only one SSRC. DLBAre you sure that this needs to change to CNAME from SSRC? I’d prefer not to introduce the CNAME DLBconcept if it’s not necessary. The section needs to mention that RTP can be carried over a non-datagram protocol such as TCP, but that this document does not say more about this - just to show that its omission is deliberate, not accidental. (In fact 5.3 discusses TCP-encapsulated RTP. So it’s appropriate to mention it here.) DLBDone. STUN is not an encapsulation protocol, so should be omitted from the “encapsulated via STUN” sentence. TURN is. STUN packets are, however, multiplexed with the RTP packets. DLBAgree, see text in separate message. Agree that the UDP stream is not unidirectional. DLBAgree, and picked up Colin’s suggested change here. 2.2 STUN\/TURN paragraph sits oddly here. It seems to belong outside the “reasons for multiplexing” flow. Perhaps move it to the beginning of the section? Again, STUN description needs tuning; STUN is used also for enabling communication without a relay server, by exchanging publicly-visible IP addresses and ports. DLBOk, I see “sits oddly”. I’ve moved this text into Section 2.1 and adjusted it - see the -03 draft when it’s posted. 4. “receiving the audio packets ahead of the video is not useful” -“is not very useful” - the next sentence gives a reason why it is somewhat useful. DLBChanged to “significantly ahead” and changed next sentence to be about reliability instead of timing (early). 5.1 Diffserv, Reordering and Transport Protocols The paragraph “Reordering also affects other forms of congestion control” is wrong. The content is OK, but the intro is not - it is the differential treatment (including drop probability) that creates problems for RMCAT, not (just) the reordering. DLBI don’t think so. If RMCAT can’t cope with a video stream that uses multiple PHBs from an AF class, something is wrong. DLBI’ll tag this as an open issue in the draft - could you start a separate thread that includes the RMCAT WG to sort this DLBout? DCCP is sensitive to differential treatment, since it does congestion control, so description of it as “problem free” is wrong. DLBYup, serious thinko by yours truly, see other message on that specific topic for new text. I think there are considerations coming from reordering (which affect protocols with immediate feedback, such as ACK-based protocols), and there are consdierations from diferential treatment (guessing wrong about what’s affected by a queue). The former applies to TCP; the latter applies to TCP, SCTP, DCCP, and (probably) whatever RMCAT comes to. These two should be separated. DLBI’m not sure that I understand what you’re asking for, and I’m not sure whether I agree. I believe that SCTP is DLBTCP-like in being ACK-based, DCCP is covered by text in the other message on that topic, and “whatever RMCAT comes to” DLBis speculative (although the draft does have text on Michael Welzl’s concern about coupled congestion controllers that DLBdon’t use measurements to detect bottlenecks). DLBIs there specific text on this topic that can be identified as wrong or misleading and proposed alternative text? 5.2 DiffServ, reordering and real time communication The last paragraph of the section is somewhat misleading - network packet reordering done for *whatever* reason has no upper bound. If the authors think that packet reordering is more likely to be problematic with different DSCPs than with the same DSCP, that’s what they should say. DLBOk, paragraph now reads: Network packet reordering has no effective upper bound, and can exceed the size of any reasonable jitter buffer. In practice, the size of jitter buffers for replay is limited by external factors such as the amount of time that a human is willing to wait for replay to start. Use of different DSCPs that allow reordering is more likely to cause reordering problems than use of a single DSCP or set of DSCPs that does not allow reordering. The reference to RTCP multi-stream optimization seems completely wrong. The grouping into RTCP reporting groups is about receiver SSRCs that see the same set of packets, not about grouping reports about different SSRC together. (unless I’ve misunderstood something). When not using multi-stream optimization, these SSRCs send duplicate reports. DLBThe DART draft text does not mention SSRCs, and appears to be consistent with Section 3 and the first paragraph DLBof Section 3.1 of draft-ietf-avtcore-rtp-multi-stream-optimisation-03. The point is that any use of different DSCPs DLBfor different RTP streams breaks the (twice-stated) requirement in that AVTCORE draft for an identical view of the DLBnetwork conditions” across the RTP streams involved, each of which has its own SSRC. DLBI don’t think the current DART draft text is actually wrong, but I’d welcome editing suggestions that improve clarity. 6. Guidelines The word “requirements” seems at odds with the headline “guidelines”. DLBFixed. The word “session” is used several times without explanation - “RTCP session”, “reliable transport protoocol session”. From context, I guess “flow” or “connection” would be more appropriate. DLBRTCP text will be fixed when open issue is resolved on list. I wonder if the first requirement can be phrased in the positive? For instance: Within a single RTP stream, should use a single PHB and DSCP, or a set of PHBs and DSCPs that do not allow reordering, for instance a single AF class. DLBDone, Ben also noticed this. All in all, the document's recommendations are clear and reasonable, but the document can be improved. DLBThank you. -- Surveillance is pervasive. Go Dark."}
{"_id":"q-en-rfc7657-8effbfc9d804fa249981a4a5e0143713ac986e38241d09a1eba0ebb6b3293f1b","text":"Hi, comments inline. I deleted sections that do not need to seem further comment (or where the comment would have been \"okay\"). On Aug 22, 2014, at 7:03 PM, Black, David <: [...] -- Abstract (and intro) It's probably worth mentioning that, other than mixing RTP\/RTCP, RTP multiplexing is a relatively new thing. It's needed by new work such as WebRTC and clue, and it is enabled by bundle. The point being, this wasn't something we really needed to worry about until now. Could you suggest text for the Introduction section, along with any additional references? Okay, how about something like the following (perhaps inserted after \"... including communication based on the Real-time Transport Protocol (RTP)\") \"Historically, distinct RTP streams have been sent over different transport level flows, sometimes multiplexed with RTCP. But recently WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) [RFC4566] bundle negotiation mechanism [I-D.ietf-mmusic-sdp-bundle-negotiation] to send multiple streams, potentially needing different QoS treatments, using the same IP 5-tuple.\" [...] -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB. \" -- section 6, last bullet: Is there a such thing as \"less than best effort traffic\" where \"best effort\" treatments would be unacceptable? I can come up with possible examples - background bulk transfer of something large that should not interfere with foreground WebRTC data that is being carried as best-effort. Actually, it's not clear to me from this paragraph if CS1 is ever appropriate, at least from the application endpoint perspective, as it seem to give completely unpredictable results. That was intended - would you like to see stronger language? No, if that is the intent, I am okay with the existing language. [...]"}
{"_id":"q-en-rfc7657-a16899d6e00a06cead16e187363302a5aa3678f92417307bba9b0b6a12ce11d1","text":"On Aug 23, 2014, at 5:50 PM, Ben Campbell <: -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB. \" Oops, I meant to add draft-ietf-rtcweb-data-channel-11 as a reference for WebRTC data channels."}
{"_id":"q-en-rfc7657-ec378b87b3b651463c940368da3408fcce900ee06c35e1ef0b84ffb0f9bc84ec","text":"I've posted a -03 version of draft-ietf-dart-dscp-rtp-03 to capture the editing completed today. Here's what I believe are still open issues or work to be done. [A] Work item: Gorry Fairhurst's item (1), a new Section 5.4 on \"single PHB\/DSCP for a single TCP connection, SCTP association or DCCP connection\" - I need to write this text, and will try to do that over the weekend. [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: [C] Work item: Request to Ben Campbell for \"additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4.\" [D] Open issue: Question to Harald Alvestrand - Does CNAME need to be used in section 2.2 text? I hope not. [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. [F] Open issue: Harald Alvestrand's concerns about the RTCP multi-stream optimization text in section 5.2 . I don't think there's a problem here, but I'm not an expert on the RTCP technology involved, and Harald may not agree. This is a different RTCP issue than [B]. For [D], [E] and [F], see my recent response to Harald: I appreciate Harald's indulgence of the fact that I sent that response at an unreasonable hour for him and then immediately tagged him with responsibility for half the items above. I'm sure he'll find a way to \"return the favor\" ;-). Thanks, --David -----Original Message----- From: [mailto:] Sent: Friday, August 22, 2014 9:16 PM To: Black, David; Paul Jones; Black, David; Paul Jones Subject: New Version Notification for draft-ietf-dart-dscp-rtp-03.txt A new version of I-D, draft-ietf-dart-dscp-rtp-03.txt has been successfully submitted by David Black and posted to the IETF repository. Name: draft-ietf-dart-dscp-rtp Revision: 03 Title: Differentiated Services (DiffServ) and Real-time Communication Document date: 2014-08-22 Group: dart Pages: 25 URL: Status: Htmlized: Diff: Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). As a result, use of different DSCPs within a single traffic stream may cause transport protocol interactions (e.g., reordering). In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"q-en-rfc7657-0dc7063d67acf7a38ea828762d13df40d1c922bb14715876ed5bd3bf790ffc6c","text":"Progress in this version: [A] Work item: Gorry Fairhurst's item (1), a new Section 5.4 on \"single PHB\/DSCP for a single TCP connection, SCTP association or DCCP connection\" - I need to write this text, and will try to do that over the weekend. I wound up adding this text to Section 5.1, and slimmed down the corresponding guideline in Section 6. I hope this suffices - Gorry should check the text in the -04. [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: Still open, see Ben's recent message. [C] Work item: Request to Ben Campbell for \"additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4.\" Closed by additional text in -04. Ben should double-check that the result is acceptable. [D] Open issue: Question to Harald Alvestrand - Does CNAME need to be used in section 2.2 text? I hope not. Closed - this was actually in 2.1, and based on private discussion w\/Harald, this issue has now been closed by a small edit in -04 to remove a problematic and unnecessary use of SSRC: OLD In addition, an RTP stream may contain multiple source streams that use the same reference clock (SSRC), e.g., components or programs in an MPEG Transport Stream [H.222.0]. NEW In addition, an RTP stream may contain multiple source streams, e.g., components or programs in an MPEG Transport Stream [H.222.0]. [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. Still open - Harald should post specific requests for text changes to the list. [F] Open issue: Harald Alvestrand's concerns about the RTCP multi-stream optimization text in section 5.2 . I don't think there's a problem here, but I'm not an expert on the RTCP technology involved, and Harald may not agree. This is a different RTCP issue than [B]. But, based on private discussion w\/Harald, [F] depends on [B], and resolution of [B] is likely to lead to resolution of [F]. Ben's started a thread on [B], so I'll comment further there. Thanks, --David -----Original Message----- From: [mailto:] Sent: Monday, August 25, 2014 3:36 AM To: Black, David; Paul Jones; Black, David; Paul Jones Subject: New Version Notification for draft-ietf-dart-dscp-rtp-04.txt A new version of I-D, draft-ietf-dart-dscp-rtp-04.txt has been successfully submitted by David Black and posted to the IETF repository. Name: draft-ietf-dart-dscp-rtp Revision: 04 Title: Differentiated Services (DiffServ) and Real-time CommunicHtion Document date: 2014-08-25 Group: dart Pages: 26 URL: Status: Htmlized: Diff: Abstract: This document describes the interaction between Differentiated Services (DiffServ) network quality of service (QoS) functionality and real-time network communication, including communication based on the Real-time Transport Protocol (RTP). DiffServ is based on network nodes applying different forwarding treatments to packets whose IP headers are marked with different DiffServ Code Points (DSCPs). WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) bundle negotiation mechanism to send multiple traffic streams with different QoS requirments using the same network 5-tuple. Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. In addition, DSCP markings may be changed or removed between the traffic source and destination. This document covers the implications of these DiffServ aspects for real-time network communication, including WebRTC. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"q-en-rfc7657-c906a5573afd4416c0043ffd15f2522c85e3480c4225790cd4ba8bf7efb7d368","text":"(as editor) I believe the core of this issue is the role of RTCP in providing RTT estimates. This is the core of open issue [B] and resolving it is likely to resolve much of open issue [F]. I believe the key question is: Is the role of RTCP in providing RTCP estimates important enough to serve as the primary basis for providing guidance on DSCP usage w\/RTCP? Here's a summary of the \"yes it is\" viewpoint (from Colin Perkins): Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. And a summary of the \"no it isn't\" viewpoint (from Paul Jones): it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Thanks, --David (as editor) -----Original Message----- From: Dart [mailto:] On Behalf Of Ben Campbell Sent: Monday, August 25, 2014 1:00 AM To: Subject: [Dart] Open Issue: Guidance for RTCP (as chair) We have an open issue (Designated issue [B] by David) about what guidance to give about RTCP in draft-ietf-dart-dscp-rtp. We need to close this in order to progress the draft--meaning we need to do so ASAP. Please look at the the following quoted text for background, and offer an opinion: (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-0f985ea254e2417d6193ac271d3897299a644d24afb5b1abea4b00918b09e0ab","text":"On 08\/25\/2014 09:57 AM, Black, David wrote: (as editor) I believe the core of this issue is the role of RTCP in providing RTT estimates. This is the core of open issue [B] and resolving it is likely to resolve much of open issue [F]. I think we're just scratching at a deeper issue here: What is the role of the RTT estimate, and is RTT what we're looking for? In ack-based congestion control, RTT estimates are used to determine when we should say \"we have not seen the ACK we expected\" - which indicates either packet loss or increased congestion, either on the forward or the reverse path - the algorithm does not care which. The signal is only useful for end-of-packet-train packet loss (because otherwise there will be later packets leading to SACK indications of lost packets before the RTT timer runs out), so the exact value doesn't really matter - only that the false positive rate isn't too high. In delay-based, sender-side-only congestion control, however, RTT has to be used as a stand-in for the sender-receiver transit time (because we have nothing else). So any variation in return-path RTT is going to be interpreted as congestion change on the forward path - which means wrong decisions. My conclusions are two: If delay-based senders-side-only is used, what matters is that the feedback signal gets there with as little delay variation as possible. The highest precedence available should be used. Delay-based schemes need to have the timing done at receiver. RTT is just too sensitive to errors. The last argument belongs in RMCAT, not here. I'll leave the first argument for your consideration. I believe the key question is: Is the role of RTCP in providing RTCP estimates important enough to serve as the primary basis for providing guidance on DSCP usage w\/RTCP? Here's a summary of the \"yes it is\" viewpoint (from Colin Perkins): Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. To which my comment is \"media has no round trip time\". Media goes one way. And a summary of the \"no it isn't\" viewpoint (from Paul Jones): it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Thanks, --David (as editor) -----Original Message----- From: Dart [mailto:] On Behalf Of Ben Campbell Sent: Monday, August 25, 2014 1:00 AM To: Subject: [Dart] Open Issue: Guidance for RTCP (as chair) We have an open issue (Designated issue [B] by David) about what guidance to give about RTCP in draft-ietf-dart-dscp-rtp. We need to close this in order to progress the draft--meaning we need to do so ASAP. Please look at the the following quoted text for background, and offer an opinion: (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. _______________________________________________ Dart mailing list _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-5aa5ccd5a748600daa07fe24e6214ac7480b0a1d19865418fda2bc6c06a73c78","text":"On 08\/24\/2014 12:50 AM, Ben Campbell wrote: Hi, comments inline. I deleted sections that do not need to seem further comment (or where the comment would have been \"okay\"). On Aug 22, 2014, at 7:03 PM, Black, David <: [...] -- Abstract (and intro) It's probably worth mentioning that, other than mixing RTP\/RTCP, RTP multiplexing is a relatively new thing. It's needed by new work such as WebRTC and clue, and it is enabled by bundle. The point being, this wasn't something we really needed to worry about until now. Could you suggest text for the Introduction section, along with any additional references? Okay, how about something like the following (perhaps inserted after \"... including communication based on the Real-time Transport Protocol (RTP)\") \"Historically, distinct RTP streams have been sent over different transport level flows, sometimes multiplexed with RTCP. But recently WebRTC applications, as well as some conferencing applications, have begun using the Session Description Protocol (SDP) [RFC4566] bundle negotiation mechanism [I-D.ietf-mmusic-sdp-bundle-negotiation] to send multiple streams, potentially needing different QoS treatments, using the same IP 5-tuple.\" [...] -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. -- section 6, last bullet: Is there a such thing as \"less than best effort traffic\" where \"best effort\" treatments would be unacceptable? I can come up with possible examples - background bulk transfer of something large that should not interfere with foreground WebRTC data that is being carried as best-effort. Actually, it's not clear to me from this paragraph if CS1 is ever appropriate, at least from the application endpoint perspective, as it seem to give completely unpredictable results. That was intended - would you like to see stronger language? No, if that is the intent, I am okay with the existing language. [...] _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-6a370a621b44c7a2fdb35a312851aba26b0130665c0a646ff8c421016754eea0","text":"Hi, On 22 Aug 2014, at 21:12, Black, David <: Hi Colin, I've picked up your changes (including RTCWEB -WebRTC globally) in my working draft, with two exceptions: (1) Items 3 and 4 in the list of what can be multiplexed. I don't think you suggested any changes to these two items, but they need significant attention for other reasons: Ben's comment that item 3 ought to focus on the WebRTC data channel STUN doesn't encapsulate WebRTC traffic (TURN does). I plan to merge these items 3 and 4 as part of revising them, and intend to move the topic of TURN encapsulation out to be discussed elsewhere, as it's independent of multiplexing. I'll propose specific text in a separate message. That’s fine. (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. One of the uses of RTCP is certainly to estimate the round-trip time, as described in Section 6.4.1 (page 41) of RFC 3550. The DSCP marking used for RTCP does need to take this use into account. Ideally, this would mean RTCP packets were marked the same as the corresponding RTP packets, as I suggested in the meeting. However, Paul is correct that this only works when all RTP packets have the same marking. Accordingly, I’m not sure what the right marking is for RTCP. One approach might be to say that an SSRC that sends RTP packets with different marking should use marking with the highest(lowest?) precedence of those is uses for RTCP, so the RTT estimate calculated from RTCP is representative of some RTP packets. I’m not sure that using a single DSCP for all RTCP packets would achieve that. Colin -- Colin Perkins"}
{"_id":"q-en-rfc7657-3af64404def0d58bb93d698e7a577e8b1c184ee3ee3b73fcb153d6d6aa586933","text":"On Aug 25, 2014, at 5:17 AM, Harald Alvestrand <: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. Harald's suggestions improve the text. I agree with both."}
{"_id":"q-en-rfc7657-cf0ddcbdf2683c372dca8be5453aad8826ce2f7de50c5998ede369b8b02693fe","text":"On Aug 25, 2014, at 6:19 AM, Colin Perkins <: (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. One of the uses of RTCP is certainly to estimate the round-trip time, as described in Section 6.4.1 (page 41) of RFC 3550. The DSCP marking used for RTCP does need to take this use into account. Ideally, this would mean RTCP packets were marked the same as the corresponding RTP packets, as I suggested in the meeting. However, Paul is correct that this only works when all RTP packets have the same marking. Accordingly, I’m not sure what the right marking is for RTCP. One approach might be to say that an SSRC that sends RTP packets with different marking should use marking with the highest(lowest?) precedence of those is uses for RTCP, so the RTT estimate calculated from RTCP is representative of some RTP packets. I’m not sure that using a single DSCP for all RTCP packets would achieve that. Can this working group reasonably answer this question? If not, we could list it as something implementors need to think about, and note that we do not have generic guidance."}
{"_id":"q-en-rfc7657-b299f793cb999a7e185066547a5fd68c7f35e338e33b91018159edc250397803","text":"Ben, Colin, On (2) below, it might be a challenge to get agreement quickly, but it might be nice if we could. As this work relates to RMCAT, determining one-way delay or changes thereto will likely prove important. In general, I would expect perceived quality to be important and conveying quality metrics and\/or providing feedback to the sender so that perceived quality improves (in whatever form) will be important. I'm suspicious of use of any RTT calculation for any mechanism that might be used to improve QoE. Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. There are several options we could consider: Mark all RTCP packets as CS0 Mark RTCP packets using a locally-defined \"highest priority\" marking Mark RTCP packets the same as media flow for the first (active) SDP line (thus, if audio is the first m= line in SDP and that flow is active, all RTCP packets will be marked the same as audio) Specify a value for all RTCP packets irrespective of any value used in RTP flows I think the right folks on the thread and on the list are present to help make that choice. We just need to decide if that is something we want to specify. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Colin Perkins\" <: \"Black, David\" <; \"\" <; \" WG\" <; \"Paul E. Jones ()\" <; \"\" <: 8\/25\/2014 2:12:01 PM Subject: Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02 On Aug 25, 2014, at 6:19 AM, Colin Perkins <: (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. One of the uses of RTCP is certainly to estimate the round-trip time, as described in Section 6.4.1 (page 41) of RFC 3550. The DSCP marking used for RTCP does need to take this use into account. Ideally, this would mean RTCP packets were marked the same as the corresponding RTP packets, as I suggested in the meeting. However, Paul is correct that this only works when all RTP packets have the same marking. Accordingly, I’m not sure what the right marking is for RTCP. One approach might be to say that an SSRC that sends RTP packets with different marking should use marking with the highest(lowest?) precedence of those is uses for RTCP, so the RTT estimate calculated from RTCP is representative of some RTP packets. I’m not sure that using a single DSCP for all RTCP packets would achieve that. Can this working group reasonably answer this question? If not, we could list it as something implementors need to think about, and note that we do not have generic guidance."}
{"_id":"q-en-rfc7657-52b1e13aededeab479e596df5aae993c5bdc70a9c4467bc02f44fe92ba9b56e2","text":"Our charter is not to improve QoS or solve congestion issues. It's just to give guidance on DSCP choices for multiplexed media. So I think the question becomes, has RMCAT made decisions (or looks very likely to make decisions) to use RTCP in a way that would be impacted by our DSCP recommendations? On Aug 25, 2014, at 2:52 PM, Paul E. Jones <: Ben, Colin, On (2) below, it might be a challenge to get agreement quickly, but it might be nice if we could. As this work relates to RMCAT, determining one-way delay or changes thereto will likely prove important. In general, I would expect perceived quality to be important and conveying quality metrics and\/or providing feedback to the sender so that perceived quality improves (in whatever form) will be important. I'm suspicious of use of any RTT calculation for any mechanism that might be used to improve QoE. If so, then we should document the potential impact. If _not_, then it seems to me the best we could do is mention that RTCP treatments may or may not have an impact on RTT estimates, and that the implementer should think about it. Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. There are several options we could consider: Mark all RTCP packets as CS0 Mark RTCP packets using a locally-defined \"highest priority\" marking Mark RTCP packets the same as media flow for the first (active) SDP line (thus, if audio is the first m= line in SDP and that flow is active, all RTCP packets will be marked the same as audio) Specify a value for all RTCP packets irrespective of any value used in RTP flows I think the right folks on the thread and on the list are present to help make that choice. We just need to decide if that is something we want to specify. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Colin Perkins\" <: \"Black, David\" <; \"\" <; \" WG\" <; \"Paul E. Jones ()\" <; \"\" <: 8\/25\/2014 2:12:01 PM Subject: Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02 On Aug 25, 2014, at 6:19 AM, Colin Perkins <: (2) PHBs and DSCPs for RTCP. I'm not sure what to say about this, as it looks like I need to set off a discussion (debate?) between you and my co-author, Paul Jones. Colin (from WGLC comments): Rather, within a single RTP session there are RTCP packets sent that give information about the RTP streams that are being sent, and that report on the reception quality of RTP streams being received. Using a single PHB and DSCP for all RTCP packets within an RTP session might make sense, but it's important to note that one role of RTCP is to provide an estimate of the round-trip time seen by the media, so the PHB\/DSCP will have to be chosen with care to avoid biasing that estimate too much. Paul (from shortly after the Toronto meeting: During the meeting, there was discussion of marking RTCP packets. Some notes I received on this topic suggested that it was proposed that RTCP should be marked the same as for RTP. The argument was that this is used for RTT calculations. If that is what was said, I'd like to state my disagreement. :-) The forward and reverse paths are not necessarily the same and there is nothing one should assume about the reverse path to provide guidance about the forward path (or vice versa). As perhaps a gross example, I have the ability to download far faster on my home Internet connection than I can upload. Other important traffic characteristics differ in each direction. Further, an RTCP packet might provide information related to several different RTP packets. I certainly would not want to see one RTCP packet per RTP packet. I'll watch where that discussion goes before proposing text. One of the uses of RTCP is certainly to estimate the round-trip time, as described in Section 6.4.1 (page 41) of RFC 3550. The DSCP marking used for RTCP does need to take this use into account. Ideally, this would mean RTCP packets were marked the same as the corresponding RTP packets, as I suggested in the meeting. However, Paul is correct that this only works when all RTP packets have the same marking. Accordingly, I’m not sure what the right marking is for RTCP. One approach might be to say that an SSRC that sends RTP packets with different marking should use marking with the highest(lowest?) precedence of those is uses for RTCP, so the RTT estimate calculated from RTCP is representative of some RTP packets. I’m not sure that using a single DSCP for all RTCP packets would achieve that. Can this working group reasonably answer this question? If not, we could list it as something implementors need to think about, and note that we do not have generic guidance."}
{"_id":"q-en-rfc7657-a23fa5df97114eea025f11ee84d29fe19254ea2af8852e516faa9a1f49151da9","text":"Ben, Our charter is not to improve QoS or solve congestion issues. It's just to give guidance on DSCP choices for multiplexed media. So I think the question becomes, has RMCAT made decisions (or looks very likely to make decisions) to use RTCP in a way that would be impacted by our DSCP recommendations? I'm not aware of whether such a decision has been made. Ben, Colin, On (2) below, it might be a challenge to get agreement quickly, but it might be nice if we could. As this work relates to RMCAT, determining one-way delay or changes thereto will likely prove important. In general, I would expect perceived quality to be important and conveying quality metrics and\/or providing feedback to the sender so that perceived quality improves (in whatever form) will be important. I'm suspicious of use of any RTT calculation for any mechanism that might be used to improve QoE. If so, then we should document the potential impact. If _not_, then it seems to me the best we could do is mention that RTCP treatments may or may not have an impact on RTT estimates, and that the implementer should think about it. If accurate RTT measurements could be made, they could be useful. The problem is that in some environments, we know that RTTs will not be accurate. Sometimes they are, of course. We could have some text as you suggest, but I would personally prefer we not encourage use of RTT values for any particular purpose. :-) Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. David? :-) Paul"}
{"_id":"q-en-rfc7657-7e4545c9614931c400333918c3f282850f49915d0607d86513ad97a0486e47d6","text":"-- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. Done, plus some more editing, here's the result in my working draft: A WebRTC application may use one or more RTP streams, as discussed above. In addition, it may include an SCTP-based data channel [I-D.ietf-rtcweb-data-channel] whose QoS treatment depends on the nature of the application. For example, best effort treatment of data channels is likely to suffice for messaging, shared white board, and guided browsing applications, whereas latency-sensitive games might desire better QoS for their data channels."}
{"_id":"q-en-rfc7657-ca2e3373368ee1a3060a372594033d7f25eaa94382874fe422b3f3e20e506821","text":"On 25 Aug 2014, at 22:59, Paul E. Jones <: Ben, Our charter is not to improve QoS or solve congestion issues. It's just to give guidance on DSCP choices for multiplexed media. So I think the question becomes, has RMCAT made decisions (or looks very likely to make decisions) to use RTCP in a way that would be impacted by our DSCP recommendations? I’m not aware of whether such a decision has been made. I don’t believe RMCAT has considered this issue. Ben, Colin, On (2) below, it might be a challenge to get agreement quickly, but it might be nice if we could. As this work relates to RMCAT, determining one-way delay or changes thereto will likely prove important. In general, I would expect perceived quality to be important and conveying quality metrics and\/or providing feedback to the sender so that perceived quality improves (in whatever form) will be important. I'm suspicious of use of any RTT calculation for any mechanism that might be used to improve QoE. If so, then we should document the potential impact. If _not_, then it seems to me the best we could do is mention that RTCP treatments may or may not have an impact on RTT estimates, and that the implementer should think about it. If accurate RTT measurements could be made, they could be useful. The problem is that in some environments, we know that RTTs will not be accurate. Sometimes they are, of course. We could have some text as you suggest, but I would personally prefer we not encourage use of RTT values for any particular purpose. :-) Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. -- Colin Perkins"}
{"_id":"q-en-rfc7657-2ccf0f3b9996cb87b28a31212d6f1e64476aeebc323802bb63b4eee1323da7e5","text":"On Aug 26, 2014, at 1:17 PM, Colin Perkins <: I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. Agreed. RTCP should not have any higher priority than RTP media. First, you don't want RTCP traffic to cause damage to RTP traffic. Second, not being in the same class, RTCP reported data wont reflect the reality for RTP traffic. If you want protection for RTCP packets, use redundancy or other techniques within the bounds allowed by 3550."}
{"_id":"q-en-rfc7657-90ffc52986085b32caf8d1f69a2d03986741f6e48b258d57f287635a57ab7b3e","text":"On Aug 26, 2014, at 5:17 AM, Colin Perkins <: Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? \/Ben"}
{"_id":"q-en-rfc7657-14485fea15e08df34a2b3fa82ec7ad8cae631a928eb788d30cfd4a2bcf5ec3bb","text":"On Aug 26, 2014, at 1:07 AM, Black, David <: -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. Done, plus some more editing, here's the result in my working draft: A WebRTC application may use one or more RTP streams, as discussed above. In addition, it may include an SCTP-based data channel [I-D.ietf-rtcweb-data-channel] whose QoS treatment depends on the nature of the application. For example, best effort treatment of data channels is likely to suffice for messaging, shared white board, and guided browsing applications, whereas latency-sensitive games might desire better QoS for their data channels. WFM."}
{"_id":"q-en-rfc7657-d9ff6e4513fc3a21fe13408a0c8aabedef6f605fbed1d1aa60438dad6194bcb4","text":"On 08\/26\/2014 04:38 PM, Ben Campbell wrote: On Aug 26, 2014, at 1:07 AM, Black, David <: -- section 4: It might be nice to have a more WebRTC-ish example. For example an audio stream, video stream, and a data channel carrying something like a shared white board or game. Sure, please send text. Okay, how about something like the following, added to the end of section 4: \"A WebRTC application may carry one or more RTP streams, as discussed above. In addition, it might carry an SCTP data channel. The treatment of the data channel would depend on the nature of the application. For example, messaging applications, shared white board, or guided browsing applications might be best effort, while a latency-sensitive game application might require a higher priority PHB.\" I would prefer to say \"A WebRTC application may use....\" - an application is something that lives in a browser at one end of a connection, talking to something at the other end of the connection (might be an instance of the same application, might be something completely different). I would also prefer \"might desire\" to \"might require\" - games are unlikely to refuse to operate if they don't get a higher priority PHB, they'll just work with degraded performance. That's nits. Done, plus some more editing, here's the result in my working draft: A WebRTC application may use one or more RTP streams, as discussed above. In addition, it may include an SCTP-based data channel [I-D.ietf-rtcweb-data-channel] whose QoS treatment depends on the nature of the application. For example, best effort treatment of data channels is likely to suffice for messaging, shared white board, and guided browsing applications, whereas latency-sensitive games might desire better QoS for their data channels. WFM. Works for me too. If I was nitpicking, I would change \"it may include\" to \"it may use\" in sentence 2 too, but I can live with this just fine. -- Surveillance is pervasive. Go Dark."}
{"_id":"q-en-rfc7657-e4a032dacbcea42f434c9b9d15938d76c689cde6fde91e32defec4f7fc487369","text":"Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? <editor hat offSure, when there's a notion of priority or importance. There won't always be one (e.g., is CS2 higher priority than AF2x? That depends ...). OTOH, we don't need to say much here, e.g., the class selector codepoints (CSx) are ordered, and adding a pointer to draft-ietf-tsvwg-rtcweb-qos will be helpful. <\/editor hat offTurning to the other RTCP issue, [F] on multi-stream optimization, I wonder whether we inadvertently framed that issue backwards. Given the above, a single RTCP report on multiple RTP streams that use rather different DSCPs may not result in representative RTT values for all of the streams, because the report has to be sent with one DSCP. If that outcome is a problem, one should send separate RTCP reports (duh!). That statement seems valuable to make and can be made with a citation of RFC 3530, as opposed to the multi-stream optimization draft. Harald and Colin - what do you think? Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Tuesday, August 26, 2014 10:16 AM To: Colin Perkins; Paul E. Jones Cc: Black, David; ; WG; draft-ietf-dart-dscp- Subject: Treatment of RTCP (was Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On Aug 26, 2014, at 5:17 AM, Colin Perkins <: Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don't agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It's in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? \/Ben"}
{"_id":"q-en-rfc7657-1fdbf6b21ba15dcf4e6abbbb70f07cbdd3252779dc56087d39d15015be76205e","text":"Ben, Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Since DSCP values cannot be assumed to any particular PHB behavior in the network, that makes answering that question challenging. My personal preference in a voice\/video conference would be to use the same marking as is used for those flows -- and I would use the same value for both voice and video. However, if the app sharing video is considered more important by some applications, perhaps that's the value that should be used in those applications. I can accept the suggestion, leaving the specific selection as an implementation matter. I do wish there was something more concrete so that two devices would always follow the same approach to selecting a value, but I doubt we can get agreement very quickly. Paul"}
{"_id":"q-en-rfc7657-f08d3052365f61e5d18bdf8aa15df1a5a7d55be5791ed9e8959847f648f72d3d","text":"On 26 Aug 2014, at 16:39, Black, David <: Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? <editor hat offSure, when there's a notion of priority or importance. There won't always be one (e.g., is CS2 higher priority than AF2x? That depends ...). OTOH, we don't need to say much here, e.g., the class selector codepoints (CSx) are ordered, and adding a pointer to draft-ietf-tsvwg-rtcweb-qos will be helpful. <\/editor hat offTurning to the other RTCP issue, [F] on multi-stream optimization, I wonder whether we inadvertently framed that issue backwards. Given the above, a single RTCP report on multiple RTP streams that use rather different DSCPs may not result in representative RTT values for all of the streams, because the report has to be sent with one DSCP. If that outcome is a problem, one should send separate RTCP reports (duh!). Each reporting SSRC sends a separate RTCP report block for each SSRC it receives, so this is not a problem. The question is what marking an SSRC uses for the RTCP packets it sends, given that it uses several different markings for the RTP media packets it sends. That statement seems valuable to make and can be made with a citation of RFC 3530, as opposed to the multi-stream optimization draft. Harald and Colin - what do you think? The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. -- Colin Perkins"}
{"_id":"q-en-rfc7657-6cb25239fd1699d3a32c760df3a5a4ee61c235da1d3ee38f8fbabee307d966cc","text":"On 26 Aug 2014, at 16:52, Paul E. Jones <: Ben, Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Colin Since DSCP values cannot be assumed to any particular PHB behavior in the network, that makes answering that question challenging. My personal preference in a voice\/video conference would be to use the same marking as is used for those flows -- and I would use the same value for both voice and video. However, if the app sharing video is considered more important by some applications, perhaps that's the value that should be used in those applications. I can accept the suggestion, leaving the specific selection as an implementation matter. I do wish there was something more concrete so that two devices would always follow the same approach to selecting a value, but I doubt we can get agreement very quickly. Paul -- Colin Perkins"}
{"_id":"q-en-rfc7657-84f31a1d7846e775385ac41499cbf3baed6ff442df8536dd72412ef9e5977f82","text":"<editor hat OFFColin writes: The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. Looking closer, that discussion in the current DART draft currently says: RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. That's based on this text from the last paragraph of Section 1 (Introduction) of the multi-stream optimization draft: This memo defines such an RTCP extension, RTCP Reporting Groups. This extension is used to indicate the SSRCs that originate from the same endpoint, and therefore have identical reception quality, hence allowing the endpoints to suppress unnecessary RTCP reception quality reports. When different DSCPs are used for SSRCs (RTP streams) that originate from the same source, the statement that they \"therefore have identical reception quality\" is clearly incorrect, so it looks like the current DART draft text is correct, IMHO. Harald? <\/editor hat OFFThanks, --David -----Original Message----- From: Colin Perkins [mailto:] Sent: Tuesday, August 26, 2014 11:54 AM To: Black, David Cc: Ben Campbell; Paul E. Jones; ; WG; draft-ietf- Subject: Re: Treatment of RTCP (was Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On 26 Aug 2014, at 16:39, Black, David <: Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? <editor hat offSure, when there's a notion of priority or importance. There won't always be one (e.g., is CS2 higher priority than AF2x? That depends ...). OTOH, we don't need to say much here, e.g., the class selector codepoints (CSx) are ordered, and adding a pointer to draft-ietf-tsvwg-rtcweb-qos will be helpful. <\/editor hat offTurning to the other RTCP issue, [F] on multi-stream optimization, I wonder whether we inadvertently framed that issue backwards. Given the above, a single RTCP report on multiple RTP streams that use rather different DSCPs may not result in representative RTT values for all of the streams, because the report has to be sent with one DSCP. If that outcome is a problem, one should send separate RTCP reports (duh!). Each reporting SSRC sends a separate RTCP report block for each SSRC it receives, so this is not a problem. The question is what marking an SSRC uses for the RTCP packets it sends, given that it uses several different markings for the RTP media packets it sends. That statement seems valuable to make and can be made with a citation of RFC 3530, as opposed to the multi-stream optimization draft. Harald and Colin - what do you think? The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. -- Colin Perkins"}
{"_id":"q-en-rfc7657-5d39dbc3a2ab3c6140bb5f42690d6f4638034497c627a4ff01e72638fd3b5bee","text":"The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w\/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w\/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. Thanks, --David -----Original Message----- From: Colin Perkins [mailto:] Sent: Tuesday, August 26, 2014 12:19 PM To: Paul E. Jones Cc: Ben Campbell; Black, David; ; WG; draft-ietf- Subject: Re: Treatment of RTCP (was Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On 26 Aug 2014, at 16:52, Paul E. Jones <: Ben, Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don't agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It's in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Colin Since DSCP values cannot be assumed to any particular PHB behavior in the network, that makes answering that question challenging. My personal preference in a voice\/video conference would be to use the same marking as is used for those flows -- and I would use the same value for both voice and video. However, if the app sharing video is considered more important by some applications, perhaps that's the value that should be used in those applications. I can accept the suggestion, leaving the specific selection as an implementation matter. I do wish there was something more concrete so that two devices would always follow the same approach to selecting a value, but I doubt we can get agreement very quickly. Paul -- Colin Perkins"}
{"_id":"q-en-rfc7657-a767ee11c69579c4f703a6fbefb25b8889ceea89e812026b772d38066d78323d","text":"Colin, On 26 Aug 2014, at 16:52, Paul E. Jones <: Ben, Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. I'm a little confused here. These are separate SSRCs, but all part of a single RTP session. So, wouldn't the three SSRCs be reported in different report blocks in the sender report? The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? For this, I would argue it should be whatever DSCP that has the lower drop precedence (in the case of assured forwarding). Otherwise, it should be the same as the media, I'd think. Paul"}
{"_id":"q-en-rfc7657-57d219a395d21516f6920cc3f3d3ca4e10d858c5bf343f718e7550e83d42d0d7","text":"On 27 Aug 2014, at 06:17, Paul E. Jones <: On 26 Aug 2014, at 16:52, Paul E. Jones <: Getting feedback to the sender is important, though. In an ideal world, I would argue that RTCP packets should be marked with whatever DSCP value will deliver RTCP packets in the most expedient way. Since we don't have an ideal world, I don't know which DSCP value that would be. Would the starting positions of \"getting feedback is important, even of not for RTT estimates\" and \"we need RTCP for RTT estimates\" likely land on the same guidance for DSCP values? The argument to send RTCP packets in the most expedient way sounds reasonable. I don't know if we need to recommend a particular DSCP, since we already have quite a bit of text on how DSCPs might (or might not) map into some predictable PHB treatment. Good question and valid point. Nowhere in the document do we recommend the use of a particular DSCP value for any particular thing, and we should not recommend a particular value for RTCP in this document. I'm just not sure what statements should be made. I suspect we can all agree that RTCP information is important. It's just the DSCP-related guidance that goes with that that is challenging. I don’t agree that RTCP information should be sent as higher priority than the media. Ideally, it should be sent with the same priority as the media, so it can be used to sample the RTT. This RTT sample is independent of RMCAT. It’s in base RTP specification, and so is something we need to support to the extent possible. Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. I'm a little confused here. These are separate SSRCs, but all part of a single RTP session. So, wouldn’t the three SSRCs be reported in different report blocks in the sender report? Each of the SSRCs will report on all the others, unless the rtp-multi-stream-optimisation draft is used, but so what? The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? For this, I would argue it should be whatever DSCP that has the lower drop precedence (in the case of assured forwarding). Otherwise, it should be the same as the media, I'd think. You mean the RTCP for each SSRC should use the DSCP with the lowest drop preference of those used for the media sent by that SSRC? -- Colin Perkins"}
{"_id":"q-en-rfc7657-7312a3c370e386c309d109403707ccb849cf1f11576d8d50f8bf99264acdfa77","text":"On 26 Aug 2014, at 17:38, Black, David <: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w\/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w\/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. -- Colin Perkins"}
{"_id":"q-en-rfc7657-a2d9037e4b2ce9eb8a324442d113aeafcaf0776041102dc28c8873c4e066f0f2","text":"On 27. aug. 2014, at 18:00, Colin Perkins <: On 26 Aug 2014, at 17:38, Black, David <: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w\/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w\/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP \/ RTCP is allowed?! So can we send extra packets to probe for the RTT? Cheers, Michael"}
{"_id":"q-en-rfc7657-953dc4bd123d548dc4cbf49ed98f02a6bd00a750a33f119ae56a64c6e8398c7e","text":"On 27 Aug 2014, at 19:39, Michael Welzl <: On 27. aug. 2014, at 18:00, Colin Perkins <: On 26 Aug 2014, at 17:38, Black, David <: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w\/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w\/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP \/ RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. -- Colin Perkins"}
{"_id":"q-en-rfc7657-6cb3dc2ae968af87f5beaaf113706fbe66bfb9870c330f4f32d39cfeae0c58b7","text":"On 27. aug. 2014, at 20:42, Colin Perkins <: On 27 Aug 2014, at 19:39, Michael Welzl <: On 27. aug. 2014, at 18:00, Colin Perkins <: On 26 Aug 2014, at 17:38, Black, David <: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w\/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w\/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP \/ RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable. I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn't check) Cheers, Michael"}
{"_id":"q-en-rfc7657-7498261616684db3f0262f443518661013688fa5fe06569132137e152127a9fc","text":"On 27 Aug 2014, at 19:47, Michael Welzl <: On 27. aug. 2014, at 20:42, Colin Perkins <: On 27 Aug 2014, at 19:39, Michael Welzl <: On 27. aug. 2014, at 18:00, Colin Perkins <: On 26 Aug 2014, at 17:38, Black, David <: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w\/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w\/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP \/ RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable. You have the RTT estimate, irrespective of the other information you include along with the regular RTCP packets, although it’s relatively infrequent and coarse-grained. I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn’t check) It probably should talk about this, I agree. -- Colin Perkins"}
{"_id":"q-en-rfc7657-1048dfe3f0ce2f8a1bf198e44a9d62e29def2bc19d03ebea59ba5c326f48d13b","text":"Hi, Where are we with this discussion? Are there conclusions buried in there somewhere? Thanks! Ben. On Aug 27, 2014, at 1:50 PM, Colin Perkins <: On 27 Aug 2014, at 19:47, Michael Welzl <: On 27. aug. 2014, at 20:42, Colin Perkins <: On 27 Aug 2014, at 19:39, Michael Welzl <: On 27. aug. 2014, at 18:00, Colin Perkins <: On 26 Aug 2014, at 17:38, Black, David <: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w\/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w\/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP \/ RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable. You have the RTT estimate, irrespective of the other information you include along with the regular RTCP packets, although it’s relatively infrequent and coarse-grained. I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn’t check) It probably should talk about this, I agree. -- Colin Perkins _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-157622e8228b127782653b65df237273a85f99eab6a96d6834bdcbcaeaf05638","text":"I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Cheers, Michael On 27. aug. 2014, at 21:46, Ben Campbell <: Hi, Where are we with this discussion? Are there conclusions buried in there somewhere? Thanks! Ben. On Aug 27, 2014, at 1:50 PM, Colin Perkins <: On 27 Aug 2014, at 19:47, Michael Welzl <: On 27. aug. 2014, at 20:42, Colin Perkins <: On 27 Aug 2014, at 19:39, Michael Welzl <: On 27. aug. 2014, at 18:00, Colin Perkins <: On 26 Aug 2014, at 17:38, Black, David <: The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? Answering a question w\/a question :-), how are those reports likely to be used? For example, if the primary use of these reports is to adjust a variable rate codec's sending rate, the P-frame info is probably more useful as indicative of what's happening to the traffic that the network drops first when the going gets rough (or whose delivery w\/o loss indicates that a sending rate increase may be reasonable), which suggests P-frame-like RTCP report marking. I doubt the RTT estimate derived from RTCP is used for congestion control, since it’s too infrequent to get insight into the dynamics. It’s for user experience reporting, maybe rough clustering of receivers, that sort of thing. I'd agree if I didn't have the impression, in RMCAT, that nothing but RTP \/ RTCP is allowed?! So can we send extra packets to probe for the RTT? I’d expect RMCAT will probe the one-way delay variation by measuring the arrival times of RTP packets, and report that in RTCP once per video frame (or so). That would give a much more accurate measurement than a single-packet sample of the RTT derived from RTCP, and would still allow per-frame adaptation. I agree that this is a useful signal to use - but I think you still need a rough idea of the RTT to be able to interoperate with TCP, else you may cause TCP to go into RTOs and be ignorant of that. But this could perhaps be a more coarse signal - maybe that's okay. I think this is reasonable. You have the RTT estimate, irrespective of the other information you include along with the regular RTCP packets, although it’s relatively infrequent and coarse-grained. I wonder if your RTCP draft in RMCAT should clarify this? (sorry if it does already, didn’t check) It probably should talk about this, I agree. -- Colin Perkins _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-7a4a4718fa63af3b7cea2e7f629edef2ee09c4a6d625fdf2ce60abf0ae907462","text":"On Aug 27, 2014, at 3:45 PM, Michael Welzl <: I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben."}
{"_id":"q-en-rfc7657-de9c33fd8b7bc0c918de32d006fc95309c02dd7f40a3983c11b09aa7caba822c","text":"Colin I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. I'm a little confused here. These are separate SSRCs, but all part of a single RTP session. So, wouldn’t the three SSRCs be reported in different report blocks in the sender report? Each of the SSRCs will report on all the others, unless the rtp-multi-stream-optimisation draft is used, but so what? Oh, I think I understand what you are saying. You're saying that each media flow (SSRC) would be responsible for sending its own RTCP packets and those packets would be marked in the same way as that media flow. In that case, I agree with you. That said, would we really require the sending SSRC to include any data for the other SSRCs if they're each sending RTCP packets separately? That seems redundant. Does RFC 3550 require that? (It's been a while...) The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? For this, I would argue it should be whatever DSCP that has the lower drop precedence (in the case of assured forwarding). Otherwise, it should be the same as the media, I'd think. You mean the RTCP for each SSRC should use the DSCP with the lowest drop preference of those used for the media sent by that SSRC? That's what I'm suggesting. So, a video flow using AF4x would use AF41 for RTCP. I suggest that, since I assume we don't want to lose feedback information if we can avoid it. Paul"}
{"_id":"q-en-rfc7657-e1f82ec0498cbc4c5b52b63ef419c3470cfa737ba298b5d8a23aa0d9e9eca85b","text":"RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Michael Welzl\" <; \"Colin Perkins\" <; \"Paul E. Jones\" <; \"Black, David\" <: \"\" <; \"\" <; \" WG\" <: 8\/27\/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On Aug 27, 2014, at 3:45 PM, Michael Welzl <: I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-ebd56fba6829fd42136c5d7a5e6a8ac408f4fc1c2ebffbbce4aa44ff02a35480","text":"Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Michael Welzl\" <; \"Colin Perkins\" <; \"Paul E. Jones\" <; \"Black, David\" <: \"\" <; \"\" <; \" WG\" <: 8\/27\/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On Aug 27, 2014, at 3:45 PM, Michael Welzl <: I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-84a5fcb28d3b328fb3ef7f54744dd777e150e7488901f940a5652aea7b4c5bbd","text":"I do not object to the text per se. But I do have a bit of a nagging concern that we may be offering too strong of guidance, given the thought process so far. Do we believe we understand this well enough to say the sender should to this or that, as opposed to say that these are things the implementer should think about, and that these are probably reasonable choices? Is this an area where we need more deployment experience to offer real guidance? (I think it's okay for the doc to say that, if needed.) But in any case, I will defer to Colin, Paul, and David. On Aug 27, 2014, at 8:58 PM, Black, David <: Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Michael Welzl\" <; \"Colin Perkins\" <; \"Paul E. Jones\" <; \"Black, David\" <: \"\" <; \"\" <; \" WG\" <: 8\/27\/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On Aug 27, 2014, at 3:45 PM, Michael Welzl <: I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-ad981a0999ebf82d4f36d8c1431b908a897989c43ea94a252a1581c87d4d1a0a","text":"David, Should it be the DSCP value of the SSRC being reported on or the DSCP of the SSRC sender? My thought that was if Alice and Bob are sending flows to each other and Bob is sending audio using EF, then when Bob sends out a Sender Report, the packet would be marked EF. The way this is worded, if Alice is sending packets using CS0, then Bob would mark his SR's using CS0. I'm not sure how to handle the RR's, though, particularly of a receive-only device. We could say it would be the same as the flow being reported on, but there might be 31 such flows being reported on. Perhaps if there is agreement that the RTCP packets will be marked in the same way as the sender would send its media, then we say the reports should be marked in the same was as it would if it did send media. So, do we want RTCP packets to be marked the same as the media flow transmitted or the same as the received media flow? Paul ------ Original Message ------ From: \"Black, David\" <: \"Paul E. Jones\" <; \"Ben Campbell\" <; \"Michael Welzl\" <; \"Colin Perkins\" <: \"\" <; \"\" <; \" WG\" <; \"Black, David\" <: 8\/27\/2014 9:58:34 PM Subject: Treatment of RTCP - proposed text Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Michael Welzl\" <; \"Colin Perkins\" <; \"Paul E. Jones\" <; \"Black, David\" <: \"\" <; \"\" <; \" WG\" <: 8\/27\/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On Aug 27, 2014, at 3:45 PM, Michael Welzl <: I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-7ae336c2db89745bc054be9851933d0e0d955595ac3201ad565afeac82159782","text":"Ben, I think the answer is really whether we can quickly reach consensus. I have an idea how I'd implement it if I didn't have guidance otherwise, which I explained in my last email. I think this can be resolved pretty quickly. If not, we can certainly leave it open. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Black, David\" <: \"Paul E. Jones\" <; \"Michael Welzl\" <; \"Colin Perkins\" <; \"\" <; \"\" <; \" WG\" <: 8\/27\/2014 10:28:07 PM Subject: Re: Treatment of RTCP - proposed text I do not object to the text per se. But I do have a bit of a nagging concern that we may be offering too strong of guidance, given the thought process so far. Do we believe we understand this well enough to say the sender should to this or that, as opposed to say that these are things the implementer should think about, and that these are probably reasonable choices? Is this an area where we need more deployment experience to offer real guidance? (I think it's okay for the doc to say that, if needed.) But in any case, I will defer to Colin, Paul, and David. On Aug 27, 2014, at 8:58 PM, Black, David <: Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Michael Welzl\" <; \"Colin Perkins\" <; \"Paul E. Jones\" <; \"Black, David\" <: \"\" <; \"\" <; \" WG\" <: 8\/27\/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On Aug 27, 2014, at 3:45 PM, Michael Welzl <: I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-ac1d383c48c04eef8471d42ab29afea4fd0c8885dbd63813364b3c2b6117682f","text":"Should it be the DSCP value of the SSRC being reported on or the DSCP of the SSRC sender? It should be the SSRC\/RTP stream DSCP. I think the proposed text covers that for both the SR and RR cases (Bob would use EF in your example), but I admit to thinking more about RRs when I wrote the proposed text. If there are 31 flows being reported on in a single RTCP RR, I think the receiver just picks a DSCP, as it may not know the DSCPs for any of the flows (e.g., if they've all been remarked enroute). I do like the idea of having the reporter use the DSCP that it would use to send a similar RTP stream - I'd be happy to slim the text down to only recommend that, as it's simpler and the RTCP sender should always know what DSCP it would use if it were sending similar media. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:] Sent: Wednesday, August 27, 2014 11:14 PM To: Black, David; Ben Campbell; Michael Welzl; Colin Perkins Cc: ; ; WG; Black, David Subject: Re: Treatment of RTCP - proposed text David, Should it be the DSCP value of the SSRC being reported on or the DSCP of the SSRC sender? My thought that was if Alice and Bob are sending flows to each other and Bob is sending audio using EF, then when Bob sends out a Sender Report, the packet would be marked EF. The way this is worded, if Alice is sending packets using CS0, then Bob would mark his SR's using CS0. I'm not sure how to handle the RR's, though, particularly of a receive-only device. We could say it would be the same as the flow being reported on, but there might be 31 such flows being reported on. Perhaps if there is agreement that the RTCP packets will be marked in the same way as the sender would send its media, then we say the reports should be marked in the same was as it would if it did send media. So, do we want RTCP packets to be marked the same as the media flow transmitted or the same as the received media flow? Paul ------ Original Message ------ From: \"Black, David\" <: \"Paul E. Jones\" <; \"Ben Campbell\" <; \"Michael Welzl\" <; \"Colin Perkins\" <: \"\" <; \"\" <; \" WG\" <; \"Black, David\" <: 8\/27\/2014 9:58:34 PM Subject: Treatment of RTCP - proposed text Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Michael Welzl\" <; \"Colin Perkins\" <; \"Paul E. Jones\" <; \"Black, David\" <: \"\" <; \"\" <; \" WG\" <: 8\/27\/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On Aug 27, 2014, at 3:45 PM, Michael Welzl <: I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-72f9fc82e7404d898ab317a89d4ce6f912426c422bd1199f53affeae55daf045","text":"Paul, David, On 28 Aug 2014, at 04:13, Paul E. Jones <: Should it be the DSCP value of the SSRC being reported on or the DSCP of the SSRC sender? My thought that was if Alice and Bob are sending flows to each other and Bob is sending audio using EF, then when Bob sends out a Sender Report, the packet would be marked EF. Agree. An SSRC should use the same marking it would use to send packets, and not the marking of the received packets. The way this is worded, if Alice is sending packets using CS0, then Bob would mark his SR's using CS0. I'm not sure how to handle the RR's, though, particularly of a receive-only device. We could say it would be the same as the flow being reported on, but there might be 31 such flows being reported on. Perhaps if there is agreement that the RTCP packets will be marked in the same way as the sender would send its media, then we say the reports should be marked in the same was as it would if it did send media. A receive-only device should mark in the way it would if it sent media, I agree. So, do we want RTCP packets to be marked the same as the media flow transmitted or the same as the received media flow? Transmitted, I think. Colin Paul ------ Original Message ------ From: \"Black, David\" <: \"Paul E. Jones\" <; \"Ben Campbell\" <; \"Michael Welzl\" <; \"Colin Perkins\" <: \"\" <; \"\" <; \" WG\" <; \"Black, David\" <: 8\/27\/2014 9:58:34 PM Subject: Treatment of RTCP - proposed text Trying to propose some text here: OLD o Should use a single DSCP for an RTCP session, primarily to avoid RTCP reordering (and because there is no compelling reason for use of different drop precedences). One of the PHBs and associated DSCP used for the associated RTP traffic would be an appropriate choice. [Editor's note: This bullet is an open technical issue.] NEW o Should use the same DSCP for RTCP reports as used for the RTP stream that is being reported on when that DSCP is known by the RTCP sender. When an RTP stream uses multiple DSCPs that differ only in drop precedence, RTCP reports on that RTP stream should use the DSCP with the least likelihood of drop to favor delivery of the RTCP reports. When a single RTCP message reports on multiple RTP streams that are sent with different DSCPs, the RTCP sender should choose one of those DSCPs. When the RTCP sender does not know what DSCP or DSCPs were used to send an RTP stream, it should choose a DSCP that it would use to send a similar RTP stream. The latter sentence is courtesy of the fact that there will be cases where the RTCP sender will not know what DSCP or DSCPs were used to send the RTP stream, due to en-route remarking. If that text looks close, I'll edit further and try to get the -05 submitted by the end of this week. Thanks, --David -----Original Message----- From: Paul E. Jones [mailto:] Sent: Wednesday, August 27, 2014 6:53 PM To: Ben Campbell; Michael Welzl; Colin Perkins; Black, David Cc: ; ; WG Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) RTCP might not be used for RTT calculations (it might; I just doubt it's terribly useful), but RTCP might be used to convey QoE measurements or one-way delay information useful for RMCAT. I think there is agreement that the DSCP value applied to the RTCP packet for a given SSRC sender should align with the DSCP value used for the corresponding RTP packets of that sender. In the case where an AFxx class is used, I'm not sure there is agreement (though no disagreement). I stated my view that we should use the lowest drop precedence in that case, but others should weigh in. Paul ------ Original Message ------ From: \"Ben Campbell\" <: \"Michael Welzl\" <; \"Colin Perkins\" <; \"Paul E. Jones\" <; \"Black, David\" <: \"\" <; \"\" <; \" WG\" <: 8\/27\/2014 4:48:37 PM Subject: Re: [Dart] [AVTCORE] Treatment of RTCP (was Re: Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On Aug 27, 2014, at 3:45 PM, Michael Welzl <: I don't know the beginning of this but I can help go up the stack: for the short dialogue between Colin and me, the conclusion is: Colin is right. RTCP probably won't be used by congestion control to estimate the RTT. Thanks, Michael, I think that fits with some earlier conversations as well. Colin and Paul (and David): Are we converging on what guidance to put into the DART draft? Thanks! Ben. _______________________________________________ Dart mailing list -- Colin Perkins"}
{"_id":"q-en-rfc7657-60b105ea4d9a88ec5a4c07fde3e48411552100dd175c33f7463063fbd587e405","text":"David, On 26 Aug 2014, at 17:27, Black, David <: <editor hat OFFColin writes: The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. Looking closer, that discussion in the current DART draft currently says: RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. A quick follow-up to ensure this is clear: the multi-stream-optimisation cannot be used when reporting on received RTP streams where the different streams have different markings, since those streams are treated differently in the network. The marking I use for the RTP streams I send (and hence the marking I use for my RTCP packets) doesn’t influence whether I can use the multi-stream-optimisation, however. Colin That's based on this text from the last paragraph of Section 1 (Introduction) of the multi-stream optimization draft: This memo defines such an RTCP extension, RTCP Reporting Groups. This extension is used to indicate the SSRCs that originate from the same endpoint, and therefore have identical reception quality, hence allowing the endpoints to suppress unnecessary RTCP reception quality reports. When different DSCPs are used for SSRCs (RTP streams) that originate from the same source, the statement that they \"therefore have identical reception quality\" is clearly incorrect, so it looks like the current DART draft text is correct, IMHO. Harald? <\/editor hat OFFThanks, --David -----Original Message----- From: Colin Perkins [mailto:] Sent: Tuesday, August 26, 2014 11:54 AM To: Black, David Cc: Ben Campbell; Paul E. Jones; ; WG; draft-ietf- Subject: Re: Treatment of RTCP (was Re: [Dart] Colin Perkins comments - WGLC: draft-ietf-dart-dscp-rtp-02) On 26 Aug 2014, at 16:39, Black, David <: Since not all the media sent by a single SSRC has the same marking, my suggestion would be that each SSRC mark the RTCP packets it sends with one of the same code points as it uses to mark the media. Since RTCP is somewhat important, it would make sense for each SSRC to mark the RTCP packets it sends using the highest priority code point it uses to mark the RTP media packets it sends. That makes sense to me. Paul, and others, do you agree with that last paragraph? <editor hat offSure, when there's a notion of priority or importance. There won't always be one (e.g., is CS2 higher priority than AF2x? That depends ...). OTOH, we don't need to say much here, e.g., the class selector codepoints (CSx) are ordered, and adding a pointer to draft-ietf-tsvwg-rtcweb-qos will be helpful. <\/editor hat offTurning to the other RTCP issue, [F] on multi-stream optimization, I wonder whether we inadvertently framed that issue backwards. Given the above, a single RTCP report on multiple RTP streams that use rather different DSCPs may not result in representative RTT values for all of the streams, because the report has to be sent with one DSCP. If that outcome is a problem, one should send separate RTCP reports (duh!). Each reporting SSRC sends a separate RTCP report block for each SSRC it receives, so this is not a problem. The question is what marking an SSRC uses for the RTCP packets it sends, given that it uses several different markings for the RTP media packets it sends. That statement seems valuable to make and can be made with a citation of RFC 3530, as opposed to the multi-stream optimization draft. Harald and Colin - what do you think? The discussion of the multi-stream-optimisation draft is a separate issue, and is correct as it is. -- Colin Perkins -- Colin Perkins"}
{"_id":"q-en-rfc7657-cd3cd855d54df4d7c79bc1f7612d6779803ae1cfe8ff2ad6f29dc170d552d4f5","text":"Paul, On 27 Aug 2014, at 22:41, Paul E. Jones <: I agree that the value should be one of the values used for media, but the challenge is specifying which DSCP value to use. If audio is sent using EF, video as AF41, app sharing video as AF31, etc., which of these does the endpoint choose to use for RTCP? Such an endpoint will have three SSRC values, and will mark the RTCP packets sent by each SSRC in the same way as the media packets sent by that SSRC. That is, the RTCP relating to the audio will be marked EF, the RTCP relating to the video will be marked AF41, and the RTCP relating to the application sharing video will be marked AF31. The RTCP packets for each stream are sent separately, so this case seems straight-forward. I'm a little confused here. These are separate SSRCs, but all part of a single RTP session. So, wouldn’t the three SSRCs be reported in different report blocks in the sender report? Each of the SSRCs will report on all the others, unless the rtp-multi-stream-optimisation draft is used, but so what? Oh, I think I understand what you are saying. You're saying that each media flow (SSRC) would be responsible for sending its own RTCP packets and those packets would be marked in the same way as that media flow. In that case, I agree with you. Yes. That said, would we really require the sending SSRC to include any data for the other SSRCs if they're each sending RTCP packets separately? That seems redundant. Does RFC 3550 require that? (It’s been a while...) RFC 3550 does require that, and it is redundant (except that it indicates that the SSRCs are co-located); draft-ietf-avtcore-rtp-multi-stream-optimisation-04 offers an extension to avoid it in some cases. The more difficult case is when an SSRC is sending video using different markings for RTP packets carrying the I- and P-frames. Should that SSRC then mark its RTCP packets like the RTP packets carrying I-frames, like the RTP packets carrying P-frames, or what? For this, I would argue it should be whatever DSCP that has the lower drop precedence (in the case of assured forwarding). Otherwise, it should be the same as the media, I'd think. You mean the RTCP for each SSRC should use the DSCP with the lowest drop preference of those used for the media sent by that SSRC? That's what I'm suggesting. So, a video flow using AF4x would use AF41 for RTCP. I suggest that, since I assume we don't want to lose feedback information if we can avoid it. Makes sense. -- Colin Perkins"}
{"_id":"q-en-rfc7657-067a55166edb03da45a314d41d82f32e8ca523c71caf5bbe00be106cbc2b9309","text":"Looking at the list discussion, I think I see enough info to produce a -05 version of this draft that should address all the last call items. Reminder - we had 6 WG LC open issues and work items: [A] Work item: Gorry Fairhurst's item (1), a new Section 5.4 on \"single PHB\/DSCP for a single TCP connection, SCTP association or DCCP connection\" - I need to write this text, and will try to do that over the weekend. --Done, as noted previously, this text wound up in section 5.1 of the ---04 draft, along with slimming down of the corresponding guideline in --section 6. I haven't seen a note from Gorry indicating that he's --checked it, though. [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: --I think I see rough agreement that for RTCP SRs, the same DSCP should --be used as the RTP stream being reported on, and for RTCP RRs, the --DSCP to use should be the one that would be used to send a similar --RTP stream. --Beyond that, when an AF class is used, the DSCP with least likelihood --of drop should be used, and for a single RTCP report on multiple RTP --streams for which different DSCPs apply, it's up to the RTCP --implementation to choose one. --There's enough text to write here, including mentioning that RTCP --feedback is not currently used for congestion control, that I think --this should be in a new section 5.4, along with a rewritten guideline --item in Section 6. I hope to send draft text later today. [C] Work item: Request to Ben Campbell for \"additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4.\" --Done, text is in -04, with some minor edits coming in -05. [D] Open issue: Question to Harald Alvestrand - Does CNAME need to be used in section 2.2 text? I hope not. --Closed via a small text deletion in section 2.1 of -04 draft. [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. [F] Open issue: Harald Alvestrand's concerns about the RTCP multi-stream optimization text in section 5.2 . I don't think there's a problem here, but I'm not an expert on the RTCP technology involved, and Harald may not agree. This is a different RTCP issue than [B]. --Not an issue - At least Colin Perkins and I believe the existing --DART draft text is fine, so I don't think there's anything that needs --to be done for this. I'm about to vanish for 2.5 weeks of vacation w\/little to no email access, so my goal is to get the -05 version submitted either tomorrow or Saturday. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id":"q-en-rfc7657-fa18757e2777ad09b5f4df5ec157d108f6a7277fe12817f224e85885c6e8030d","text":"On 28 Aug 2014, at 19:12, Black, David <: Looking at the list discussion, I think I see enough info to produce a -05 version of this draft that should address all the last call items. Reminder - we had 6 WG LC open issues and work items: [A] Work item: Gorry Fairhurst's item (1), a new Section 5.4 on \"single PHB\/DSCP for a single TCP connection, SCTP association or DCCP connection\" - I need to write this text, and will try to do that over the weekend. --Done, as noted previously, this text wound up in section 5.1 of the ---04 draft, along with slimming down of the corresponding guideline in --section 6. I haven't seen a note from Gorry indicating that he's --checked it, though. [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: --I think I see rough agreement that for RTCP SRs, the same DSCP should --be used as the RTP stream being reported on, and for RTCP RRs, the --DSCP to use should be the one that would be used to send a similar --RTP stream. The distinction between RTCP SR and RR isn’t useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn’t send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. --Beyond that, when an AF class is used, the DSCP with least likelihood --of drop should be used, and for a single RTCP report on multiple RTP --streams for which different DSCPs apply, it's up to the RTCP —implementation to choose one. No. An SSRC that uses different DSCPs in the RTP packets it sends needs to use the DCSP with the least likelihood of drop from that set when sending its RTCP packets. In both cases, the marking of the RTP packets you receive does not affect how you mark the RTCP packets you send. You chose the marking for your RTCP packets based on the marking of the RTP packet you send, not those you receive. Colin --There's enough text to write here, including mentioning that RTCP --feedback is not currently used for congestion control, that I think --this should be in a new section 5.4, along with a rewritten guideline --item in Section 6. I hope to send draft text later today. [C] Work item: Request to Ben Campbell for \"additional text on context (WebRTC, clue and bundle) for the Introduction and Abstract, plus for a better example in Section 4.\" --Done, text is in -04, with some minor edits coming in -05. [D] Open issue: Question to Harald Alvestrand - Does CNAME need to be used in section 2.2 text? I hope not. --Closed via a small text deletion in section 2.1 of -04 draft. [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. [F] Open issue: Harald Alvestrand's concerns about the RTCP multi-stream optimization text in section 5.2 . I don't think there's a problem here, but I'm not an expert on the RTCP technology involved, and Harald may not agree. This is a different RTCP issue than [B]. --Not an issue - At least Colin Perkins and I believe the existing --DART draft text is fine, so I don't think there's anything that needs --to be done for this. I'm about to vanish for 2.5 weeks of vacation w\/little to no email access, so my goal is to get the -05 version submitted either tomorrow or Saturday. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ---------------------------------------------------- -- Colin Perkins"}
{"_id":"q-en-rfc7657-aac68c6ea702a7852f42fb2562d0702efbc9ae98b59ed108331be04949ea0539","text":"On Aug 28, 2014, at 1:22 PM, Colin Perkins <: [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: --I think I see rough agreement that for RTCP SRs, the same DSCP should --be used as the RTP stream being reported on, and for RTCP RRs, the --DSCP to use should be the one that would be used to send a similar --RTP stream. The distinction between RTCP SR and RR isn’t useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn’t send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do?"}
{"_id":"q-en-rfc7657-bf4830edf1acff930652168da000eb98c789f5f0dfd3e31eac8f8c284955b386","text":"The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do? Yes, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:34 PM To: Colin Perkins Cc: Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On Aug 28, 2014, at 1:22 PM, Colin Perkins <: [B] Open issue: PHBs and DSCPs for RTCP. The RTCP guideline bullet cannot be revised until this open issue is resolved on the list. See: --I think I see rough agreement that for RTCP SRs, the same DSCP should --be used as the RTP stream being reported on, and for RTCP RRs, the --DSCP to use should be the one that would be used to send a similar --RTP stream. The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do?"}
{"_id":"q-en-rfc7657-dd34e22020fee00416f2bda3dc8d7e8046e5a56f7d69140225c7d92d8dee8934","text":"Here's the proposed new section 5.4, with the RTCP multi-stream reporting optimizations text moved into that new section from its current location at the end of 5.3, plus the rewritten Section 6 guideline bullet: 5.4. DiffServ and RTCP The RTP Control Protocol (RTCP) [RFC3550] is used with RTP to monitor quality of service and convey information about RTP session participants. A sender of RTCP packets that also sends RTP packets (i.e., originates an RTP stream) should use the same DSCP marking for both types of packets. If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. If the RTCP sender uses or would use multiple DSCPs that differ only in drop precedence for RTP, then it should use the DSCP with the least likelihood of drop for RTCP to increase the likelihood of RTCP packet delivery. This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same network behavior, including packet loss. This mechanism is highly inappropriate when the RTP streams involved use different DSCPs, even if the corresponding PHBs differ solely in drop precedence. 6. Guidelines [... snip ...] o Should use a single DSCP for RTCP packets, which should be a DSCP used for RTP packets that are or would be sent by the same sender, see Section 5.4. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id":"q-en-rfc7657-66e8e7966dcc9effd7105b24935e6366c1087a1cb84a67ed7012b802c6125750","text":"On Aug 28, 2014, at 2:41 PM, Black, David <: The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do? Yes, --David Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? (Right now I am not sending audio, video, or interactive-holodeck-with-smell-o-vision)."}
{"_id":"q-en-rfc7657-daca3938ff5d7cb616ae7ea3ffa584281434aaeee2aee207af0f99f13f684ed7","text":"Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? Seems reasonable to me. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:48 PM To: Black, David Cc: Colin Perkins; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On Aug 28, 2014, at 2:41 PM, Black, David <: The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do? Yes, --David Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? (Right now I am not sending audio, video, or interactive-holodeck-with-smell- o-vision)."}
{"_id":"q-en-rfc7657-b328ba2e132d99864b54c513102c0847b73785d3ac6288757ba2324b0cfd4a73","text":"On 28 Aug 2014, at 20:48, Ben Campbell <: On Aug 28, 2014, at 2:41 PM, Black, David <: The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn’t send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn’t going to do? Yes, --David Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? Yes, that’s how RTP works. -- Colin Perkins"}
{"_id":"q-en-rfc7657-bb87a5e5a1674e023e9b2c0e6b44ab35e8af98a60fba3aff7158393a79f4bf58","text":"I'll go add a sentence to explain that to the draft 5.4 text ... Thanks, --David -----Original Message----- From: Colin Perkins [mailto:] Sent: Thursday, August 28, 2014 4:27 PM To: Ben Campbell Cc: Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 28 Aug 2014, at 20:48, Ben Campbell <: On Aug 28, 2014, at 2:41 PM, Black, David <: The distinction between RTCP SR and RR isn't useful here. What you want to say is that an SSRC needs to use the same marking for the RTCP packets it sends as it uses for the RTP packets it sends. If it doesn't send any RTP packets, it marks its RTCP packets with the marking it would use if it did send RTP. That last bit concerns me a bit. Are we really asking an implementation to figure out how it would have done something it isn't going to do? Yes, --David Maybe I'm not connecting the dots correctly, but what kind of media is it going to not send? Are we assuming the same as what it receives? Yes, that's how RTP works. -- Colin Perkins"}
{"_id":"q-en-rfc7657-ad274e4740a821231525865a1128758d9d85a5f7abdc2b85004b38783b926f49","text":"Minor edit to proposed text below: OLD If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. NEW If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets with media similar to the RTP traffic that it receives. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 28, 2014 3:45 PM To: ; WG () Cc: Black, David; Colin Perkins (); Subject: DART dscp-rtp draft: Proposed RTCP text Here's the proposed new section 5.4, with the RTCP multi-stream reporting optimizations text moved into that new section from its current location at the end of 5.3, plus the rewritten Section 6 guideline bullet: 5.4. DiffServ and RTCP The RTP Control Protocol (RTCP) [RFC3550] is used with RTP to monitor quality of service and convey information about RTP session participants. A sender of RTCP packets that also sends RTP packets (i.e., originates an RTP stream) should use the same DSCP marking for both types of packets. If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. If the RTCP sender uses or would use multiple DSCPs that differ only in drop precedence for RTP, then it should use the DSCP with the least likelihood of drop for RTCP to increase the likelihood of RTCP packet delivery. This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same network behavior, including packet loss. This mechanism is highly inappropriate when the RTP streams involved use different DSCPs, even if the corresponding PHBs differ solely in drop precedence. 6. Guidelines [... snip ...] o Should use a single DSCP for RTCP packets, which should be a DSCP used for RTP packets that are or would be sent by the same sender, see Section 5.4. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id":"q-en-rfc7657-e37cdecb1ebdf8318b11970ddf3a364324920b20a90c570a9922075898938e9e","text":"That works for me, thanks! On Aug 28, 2014, at 3:36 PM, Black, David <: Minor edit to proposed text below: OLD If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. NEW If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets with media similar to the RTP traffic that it receives. Thanks, --David -----Original Message----- From: Black, David Sent: Thursday, August 28, 2014 3:45 PM To: ; WG () Cc: Black, David; Colin Perkins (); Subject: DART dscp-rtp draft: Proposed RTCP text Here's the proposed new section 5.4, with the RTCP multi-stream reporting optimizations text moved into that new section from its current location at the end of 5.3, plus the rewritten Section 6 guideline bullet: 5.4. DiffServ and RTCP The RTP Control Protocol (RTCP) [RFC3550] is used with RTP to monitor quality of service and convey information about RTP session participants. A sender of RTCP packets that also sends RTP packets (i.e., originates an RTP stream) should use the same DSCP marking for both types of packets. If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. If the RTCP sender uses or would use multiple DSCPs that differ only in drop precedence for RTP, then it should use the DSCP with the least likelihood of drop for RTCP to increase the likelihood of RTCP packet delivery. This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same network behavior, including packet loss. This mechanism is highly inappropriate when the RTP streams involved use different DSCPs, even if the corresponding PHBs differ solely in drop precedence. 6. Guidelines [... snip ...] o Should use a single DSCP for RTCP packets, which should be a DSCP used for RTP packets that are or would be sent by the same sender, see Section 5.4. Thanks, --David ---------------------------------------------------- David L. Black, Distinguished Engineer EMC Corporation, 176 South St., Hopkinton, MA 01748 +1 (508) 293-7953 FAX: +1 (508) 293-7786 Mobile: +1 (978) 394-7754 ----------------------------------------------------"}
{"_id":"q-en-rfc7657-99673e49098e436eb1fe87504187f17f9e4689cefb1f683e8e50c1c33ee15140","text":"On 28 Aug 2014, at 20:45, Black, David <: Here's the proposed new section 5.4, with the RTCP multi-stream reporting optimizations text moved into that new section from its current location at the end of 5.3, plus the rewritten Section 6 guideline bullet: 5.4. DiffServ and RTCP The RTP Control Protocol (RTCP) [RFC3550] is used with RTP to monitor quality of service and convey information about RTP session participants. A sender of RTCP packets that also sends RTP packets (i.e., originates an RTP stream) should use the same DSCP marking for both types of packets. If an RTCP sender doesn't send any RTP packets, it should mark its RTCP packets with the DSCP that it would use if it did send RTP packets. If the RTCP sender uses or would use multiple DSCPs that differ only in drop precedence for RTP, then it should use the DSCP with the least likelihood of drop for RTCP to increase the likelihood of RTCP packet delivery. This looks okay (the correction in your next message is good also). You might also add something along the lines of “If the SDP bundle extension [cite] is used to negotiate sending multiple types of media in a single RTP session, then the receivers will send separate RTCP reports for each type of media, using a separate SSRC for each media type; those RTCP reports need to be marked with the DSCP corresponding to the type of media handled by the reporting SSRC.” This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. I don’t think this is a problem. The media doesn’t get consistent network QoS treatment in both directions, and the RTCP is trying to sample the RTT seen by the media, so this is fine. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same network behavior, including packet loss. This mechanism is highly inappropriate when the RTP streams involved use different DSCPs, even if the corresponding PHBs differ solely in drop precedence. This could maybe say “received RTP streams”, since it’s okay to use the rtp-multi-stream-optimisation if you send with different DSCPs (the optimisation is optimising how you send reports about what you receive). 6. Guidelines [... snip ...] o Should use a single DSCP for RTCP packets, which should be a DSCP used for RTP packets that are or would be sent by the same sender, see Section 5.4. Perhaps “Each SSRC should use a single DSCP for RTCP … used by RTP packets that are or would be sent by that SSRC…”? Just “sender\" could be ambiguous, since an endpoint could be a sender for several streams, each of which has a separate SSRC and could use a different DSCP. -- Colin Perkins"}
{"_id":"q-en-rfc7657-120e9166aeaf6e28b0653be4fbc417b5aca7dc94b9fb6c9ce5f25565a1a8777c","text":"I think the text in -04 looks reasonable. I would like to do two things: The justification for \"single DSCP\" in SCTP and DCCP is \"we don't know what will happen\". A logical consequence is that this recommendation might change as the result of further study, so we might want to add near the bottom of section 5 a sentence saying \"This recommendation may be revisited if experiments and analysis shows compelling reasons to change it.\" I still think the ban against RTCP multi-stream reporting optimization is completely wrong. The reports will correctly reflect the differing packet loss behaviours of the incoming RTP streams, and that's all they should be required to do. I regard the latter as somewhat important. The former is more a matter of taste (if we're arguing based on ignorance, allow for the case where ignorance becomes knowledge). On 08\/28\/2014 10:25 PM, Ben Campbell wrote: Okay, works for me. Thanks! Ben. On Aug 28, 2014, at 3:15 PM, Black, David <: If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. In private discussion, both Harald and I favored saying less (rather than more) about RMCAT in this DART draft. For that reason I think \"at least not an issue we plan to address\" is a valid characterization of this item. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:44 PM To: Black, David; Harald Tveit Alvestrand Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward (as chair) On Aug 28, 2014, at 1:12 PM, Black, David <: [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. I have mixed feelings on this. If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. David, thoughts? Harald, do you care to comment further?"}
{"_id":"q-en-rfc7657-02d33b7cb244e8dff2a96e04ab678b94d999386958a5fbdaff4e60a44ecf9bdf","text":"It would be nice if we could close on the multi-stream question really soon now. I don't think I see a consensus here so far. Perhaps this is an area where we should punt and indicate it needs further study? Thanks! Ben. On Aug 29, 2014, at 10:14 AM, Black, David <: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimization text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 6:49 AM To: Ben Campbell; Black, David Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward I think the text in -04 looks reasonable. I would like to do two things: The justification for \"single DSCP\" in SCTP and DCCP is \"we don't know what will happen\". A logical consequence is that this recommendation might change as the result of further study, so we might want to add near the bottom of section 5 a sentence saying \"This recommendation may be revisited if experiments and analysis shows compelling reasons to change it.\" I still think the ban against RTCP multi-stream reporting optimization is completely wrong. The reports will correctly reflect the differing packet loss behaviours of the incoming RTP streams, and that's all they should be required to do. I regard the latter as somewhat important. The former is more a matter of taste (if we're arguing based on ignorance, allow for the case where ignorance becomes knowledge). On 08\/28\/2014 10:25 PM, Ben Campbell wrote: Okay, works for me. Thanks! Ben. On Aug 28, 2014, at 3:15 PM, Black, David <: If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. In private discussion, both Harald and I favored saying less (rather than more) about RMCAT in this DART draft. For that reason I think \"at least not an issue we plan to address\" is a valid characterization of this item. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:44 PM To: Black, David; Harald Tveit Alvestrand Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward (as chair) On Aug 28, 2014, at 1:12 PM, Black, David <: [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. I have mixed feelings on this. If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. David, thoughts? Harald, do you care to comment further? _______________________________________________ Dart mailing list"}
{"_id":"q-en-rfc7657-0963f20a7d0014e2564a7a6ae51ae450092b1cf8af39dc9f24f8432febe6f93d","text":"On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimization text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 6:49 AM To: Ben Campbell; Black, David Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward I think the text in -04 looks reasonable. I would like to do two things: The justification for \"single DSCP\" in SCTP and DCCP is \"we don't know what will happen\". A logical consequence is that this recommendation might change as the result of further study, so we might want to add near the bottom of section 5 a sentence saying \"This recommendation may be revisited if experiments and analysis shows compelling reasons to change it.\" I still think the ban against RTCP multi-stream reporting optimization is completely wrong. The reports will correctly reflect the differing packet loss behaviours of the incoming RTP streams, and that's all they should be required to do. I regard the latter as somewhat important. The former is more a matter of taste (if we're arguing based on ignorance, allow for the case where ignorance becomes knowledge). On 08\/28\/2014 10:25 PM, Ben Campbell wrote: Okay, works for me. Thanks! Ben. On Aug 28, 2014, at 3:15 PM, Black, David <: If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. In private discussion, both Harald and I favored saying less (rather than more) about RMCAT in this DART draft. For that reason I think \"at least not an issue we plan to address\" is a valid characterization of this item. Thanks, --David -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, August 28, 2014 3:44 PM To: Black, David; Harald Tveit Alvestrand Cc: Subject: Re: [Dart] draft-dart-dscp-rtp - way forward (as chair) On Aug 28, 2014, at 1:12 PM, Black, David <: [E] Open issue: Harald Alvestrand's concerns about \"differential treatment\" wrt Section 5.1 . I don't completely understand these concerns, and suspect that they may require an email discussion across the DART and RMCAT WGs to sort through. --Deferred - Harald wanted to think about this, and I've seen nothing --further. I'd suggest that IETF Last Call as an appropriate opportunity --to share any further thoughts, so I don't think there's anything to be done --about this now. I have mixed feelings on this. If we think we can close this as not a real issue (or at least not an issue we plan to address), but there's some risk it might come back up at IETF LC, then that's fine. But if we are saying there is an open issue that needs closure, but we can close it during IETF last call, then I have reservations. The version that goes to IETF LC should be one that the working group believes to be as complete is it's going to get. David, thoughts? Harald, do you care to comment further?"}
{"_id":"q-en-rfc7657-251d7ac8a08e026717149460521a6c32368a73adb6ce4a38b6a646bd53069632","text":"On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I’m about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I’m about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I’m not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it’s not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I’m not sure that’s the sentence we have above. -- Colin Perkins"}
{"_id":"q-en-rfc7657-d3dbab082142ea5cc7990cce302f58d075efcd9d81ea29db6a27a655c5eaeaf9","text":"If DSCP choice for the reduced number of reports is orthogonal to use of the RTCP multi-stream optimisation, then I think the DART draft paragraph on that optimisation can be removed. Consideration of the DSCP that will be used to send the reports may be a consideration in selecting the SSRC that reports on behalf of the reporting group (as we've tied the DSCP for RTCP to the originating SSRC), but that's probably better addressed (if relevant) in the multi-stream optimisation draft. Further comments? Thanks, --David +++Sent from Blackberry ----- Original Message ----- From: Colin Perkins [mailto:] Sent: Friday, August 29, 2014 12:04 PM To: Harald Alvestrand <: Black, David; Ben Campbell <; <: Re: [Dart] draft-dart-dscp-rtp - way forward On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I’m about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I’m about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I’m not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it’s not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I’m not sure that’s the sentence we have above. -- Colin Perkins"}
{"_id":"q-en-rfc7657-73d8831155bd4a91b8b1b922e8b82b854fc1a67a64c22df4b72c19131c1ad1ad","text":"On Aug 29, 2014, at 1:23 PM, Black, David <: If DSCP choice for the reduced number of reports is orthogonal to use of the RTCP multi-stream optimisation, then I think the DART draft paragraph on that optimisation can be removed. Consideration of the DSCP that will be used to send the reports may be a consideration in selecting the SSRC that reports on behalf of the reporting group (as we've tied the DSCP for RTCP to the originating SSRC), but that's probably better addressed (if relevant) in the multi-stream optimisation draft. Further comments? From the conversation so far, I agree."}
{"_id":"q-en-rfc7657-79cf26a76adef807303226c284a63b870e6b14f653337dd225eb9c85b729e57f","text":"On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I’m about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I’m about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I’m not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it’s not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I’m not sure that’s the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id":"q-en-rfc7657-7d21ef5fe6510d473bea75ba6c6b7f933443b2fdbe7ea0385a408ee88f51c17e","text":"Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id":"q-en-rfc7657-b48f6be5e82a52b9ccf33fd088b4625a87db8add25e194b78fe41ff800303500","text":"On 08\/29\/2014 10:09 PM, Black, David wrote: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Looks good to me! Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. -- Surveillance is pervasive. Go Dark."}
{"_id":"q-en-rfc7657-1cee31b88b782bde2689a64807316c65240fa18f8395c522a19f99c35522b8e7","text":"Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id":"q-en-rfc7657-91dd00ab7e0a6b5ca54ff727eac37adcb0b79ff0324221aad314074641cc2789","text":"Correct!! Thanks, --David +++Sent from Blackberry ----- Original Message ----- From: Ben Campbell [mailto:] Sent: Friday, August 29, 2014 04:16 PM To: Black, David Cc: Harald Tveit Alvestrand <; Colin Perkins <; <: Re: [Dart] draft-dart-dscp-rtp - way forward Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id":"q-en-rfc7657-ada43cba1a7ff2e7c2744f4b4a9ae339f0ff052a96c69d5a98d94f2fc1e340d4","text":"Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation."}
{"_id":"q-en-rfc7657-4e5ff3328d95efbd49bbc74b6a4faa8fb49239f6da51cf459f5531f9d8c570b0","text":"Ben, The guidance looks fine to me, but the explanatory text in the last paragraph of Section 5.4 is perhaps not quite right. The text: This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. suggests that the RTT estimate derived from RTCP will be unrepresentative, since it may not have consistent network QoS in each direction. However, since the RTP media packets can use different QoS in each direction, the RTCP also needs to do so, to be representative! If the media used different QoS markings for different directions and the RTCP used the same marking, the RTT estimate wouldn’t match that of the media. I suggest the paragraph be changed to: This guidance may result in different DSCP markings for RTP streams and the RTCP packets reporting on those RTP streams. The resulting variation in network QoS treatment by traffic direction is necessary to get representative round trip time (RTT) estimates that correspond to the media path RTT. RTCP receiver reports may be relatively infrequent and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is important that RTCP receiver reports sent by an SSRC receive the same network QoS treatment as the RTP stream being sent by that SSRC. Colin On 31 Aug 2014, at 01:26, Ben Campbell <: Colin and Harald, I see David has submitted version 06. Can you verify that you are okay with the language in this version? Thanks! Ben. On Aug 29, 2014, at 4:55 PM, Colin Perkins <: Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. _______________________________________________ Dart mailing list -- Colin Perkins"}
{"_id":"q-en-rfc7657-243d7360c965e993598d41fdaea156cce6e9f2e7f47b6a07d9a12c1a65abe2c2","text":"This illustrates well the thought that media RTT is not a good concept - each media stream goes only one way.... On 1. september 2014 13:10:41 CEST, Colin Perkins <: Ben, The guidance looks fine to me, but the explanatory text in the last paragraph of Section 5.4 is perhaps not quite right. The text: This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. suggests that the RTT estimate derived from RTCP will be unrepresentative, since it may not have consistent network QoS in each direction. However, since the RTP media packets can use different QoS in each direction, the RTCP also needs to do so, to be representative! If the media used different QoS markings for different directions and the RTCP used the same marking, the RTT estimate wouldn’t match that of the media. I suggest the paragraph be changed to: This guidance may result in different DSCP markings for RTP streams and the RTCP packets reporting on those RTP streams. The resulting variation in network QoS treatment by traffic direction is necessary to get representative round trip time (RTT) estimates that correspond to the media path RTT. RTCP receiver reports may be relatively infrequent and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is important that RTCP receiver reports sent by an SSRC receive the same network QoS treatment as the RTP stream being sent by that SSRC. Colin On 31 Aug 2014, at 01:26, Ben Campbell <: Colin and Harald, I see David has submitted version 06. Can you verify that you are okay with the language in this version? Thanks! Ben. On Aug 29, 2014, at 4:55 PM, Colin Perkins <: Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. _______________________________________________ Dart mailing list -- Colin Perkins -- Sent from my Android device with K-9 Mail. Please excuse my brevity."}
{"_id":"q-en-rfc7657-77a6abc06fe9ed53ea7e00ce8fa8adad3bca4ff40c968005145b670a21b7a2ff","text":"Makes sense - let me see if I can find time for one more edit this evening ... Thanks, --David +++Sent from Blackberry ----- Original Message ----- From: Colin Perkins [mailto:] Sent: Monday, September 01, 2014 07:10 AM To: Ben Campbell <: Harald Tveit Alvestrand <; Black, David; <: Re: [Dart] draft-dart-dscp-rtp - way forward Ben, The guidance looks fine to me, but the explanatory text in the last paragraph of Section 5.4 is perhaps not quite right. The text: This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. suggests that the RTT estimate derived from RTCP will be unrepresentative, since it may not have consistent network QoS in each direction. However, since the RTP media packets can use different QoS in each direction, the RTCP also needs to do so, to be representative! If the media used different QoS markings for different directions and the RTCP used the same marking, the RTT estimate wouldn’t match that of the media. I suggest the paragraph be changed to: This guidance may result in different DSCP markings for RTP streams and the RTCP packets reporting on those RTP streams. The resulting variation in network QoS treatment by traffic direction is necessary to get representative round trip time (RTT) estimates that correspond to the media path RTT. RTCP receiver reports may be relatively infrequent and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is important that RTCP receiver reports sent by an SSRC receive the same network QoS treatment as the RTP stream being sent by that SSRC. Colin On 31 Aug 2014, at 01:26, Ben Campbell <: Colin and Harald, I see David has submitted version 06. Can you verify that you are okay with the language in this version? Thanks! Ben. On Aug 29, 2014, at 4:55 PM, Colin Perkins <: Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. _______________________________________________ Dart mailing list -- Colin Perkins"}
{"_id":"q-en-rfc7657-88f4f2fe29890a290a9f23c7dad7e6ceee718d5f2da656744f45192bb4656322","text":"I already requested publication on 06, so please hold off on submitting a new version for the moment. I want to coordinate any updates with Richard. I think this is something we can update in any new revision from his AD review, or as part of the IETF last call. On Sep 1, 2014, at 6:22 AM, Black, David <: Makes sense - let me see if I can find time for one more edit this evening ... Thanks, --David +++Sent from Blackberry ----- Original Message ----- From: Colin Perkins [mailto:] Sent: Monday, September 01, 2014 07:10 AM To: Ben Campbell <: Harald Tveit Alvestrand <; Black, David; <: Re: [Dart] draft-dart-dscp-rtp - way forward Ben, The guidance looks fine to me, but the explanatory text in the last paragraph of Section 5.4 is perhaps not quite right. The text: This guidance may result in different DSCP markings for RTP streams and RTCP receiver reports about those RTP streams. The resulting variation in network QoS treatment by traffic direction could result in unrepresentative round trip time (RTT) estimates that don't correspond to consistent network QoS treatment in both directions. RTCP receiver reports may be relatively infrequent (e.g., may be sent only once per video frame rendered) and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is not important that RTCP receiver reports receive the same network QoS treatment as the RTP stream or streams being reported on. suggests that the RTT estimate derived from RTCP will be unrepresentative, since it may not have consistent network QoS in each direction. However, since the RTP media packets can use different QoS in each direction, the RTCP also needs to do so, to be representative! If the media used different QoS markings for different directions and the RTCP used the same marking, the RTT estimate wouldn’t match that of the media. I suggest the paragraph be changed to: This guidance may result in different DSCP markings for RTP streams and the RTCP packets reporting on those RTP streams. The resulting variation in network QoS treatment by traffic direction is necessary to get representative round trip time (RTT) estimates that correspond to the media path RTT. RTCP receiver reports may be relatively infrequent and hence the resulting RTT estimates are of limited utility for congestion control (although they have other important uses, see [RFC3550]). For this reason, it is important that RTCP receiver reports sent by an SSRC receive the same network QoS treatment as the RTP stream being sent by that SSRC. Colin On 31 Aug 2014, at 01:26, Ben Campbell <: Colin and Harald, I see David has submitted version 06. Can you verify that you are okay with the language in this version? Thanks! Ben. On Aug 29, 2014, at 4:55 PM, Colin Perkins <: Without having seen the submitted version, this sounds okay. -- Colin Perkins On 29 Aug 2014, at 21:16, Ben Campbell <: Thanks, David! Am I counting correctly that this would close the last substantive open issue? If so, and if Harald and Colin confirm they are okay with the change, we should be able to request publication for the upcoming version, correct? (I see that Harald expressed support as I am typing this...) Thanks! Ben. On Aug 29, 2014, at 3:09 PM, Black, David <: Ok, I see a range of views from skepticism to outright opposition ... I'll delete the paragraph and reference to the multi-stream optimization draft and submit the resulting -06 version w\/a change note that any interaction of DiffServ and RTCP multi-stream optimization will be dealt with in the draft about the latter. That submission won't happen tonight, as the network in the SAS Lounge in EWR isn't even close to what we're used to at IETF meetings :-). Thanks, --David -----Original Message----- From: Harald Alvestrand [mailto:] Sent: Friday, August 29, 2014 3:29 PM To: Colin Perkins Cc: Ben Campbell; Black, David; Subject: Re: [Dart] draft-dart-dscp-rtp - way forward On 08\/29\/2014 06:04 PM, Colin Perkins wrote: On 29 Aug 2014, at 16:52, Harald Alvestrand <: On 08\/29\/2014 05:14 PM, Black, David wrote: Harald, I'm about to submit a -05 with the indication that the single DSCP recommendation for SCTP and DCCP may be revised. The RTCP multi-stream optimisation text will still be in there with Colin's clarification about \"received\" streams. I'm about to vanish for about 3 weeks, but could put in a revised -06 over the weekend if you can quickly convince Colin. Explicitly pinging Colin - Colin, are you arguing that the sentence RTCP multi-stream reporting optimizations for an RTP session [I-D.ietf-avtcore-rtp-multi-stream-optimisation] assume that the RTP streams involved experience the same packet loss behavior. This mechanism is highly inappropriate when the RTP streams involved use different PHBs, even if those PHBs differ solely in drop precedence. should stay in the draft? I was, but thinking again, I'm not so sure. I think this recommendation is wrong. I can't find anything in your latest messages that speak to this particular point. You're one of the authors of -multi-stream, so you should be able to speak clearly to the point. Can you clarify? If I have several SSRCs, and receive several media streams, then provided each of my SSRCs sees the exact same quality for each received stream, then I can use the multi-stream-optimisation to reduce the number of RTCP cross reports I send. The multi-stream-optimisation draft says that already, and it's not clear that the DART drafts needs to say anything further on the topic. Whether I use the same DSCP for all RTCP reports I send is, I think, orthogonal to whether I use the multi-stream-optimisation. The dart draft should possibly say that, but I'm not sure that's the sentence we have above. I read the sentence above as saying flatly and unconditionally \"don't use multi-stream-optimization when the RTP streams have different PHBs\" which means that if I want to use one PHB for audio and another PHB for video, I can't use multi-stream-optimization. I'd be sad if that was the case, *especially* if we can't figure out any reason to make that recommendation. _______________________________________________ Dart mailing list -- Colin Perkins"}
{"_id":"q-en-rfc7657-c05146f6f1be6e6a4e563a082bc90d4c581de91f4b25812713652f387462493a","text":"I have reviewed this draft in preparation for IETF LC. Overall this looks very good. As someone who is not deeply familiar with DiffServ concepts, the document provided a helpful introduction and clearly justified its recommendations. I'll go ahead and request last call. Some minor comments are below. My main concern is that this document is so well populated with references that it will get stuck in MISSREF for years while others catch up :) Thanks, --Richard MINOR Section 6: \"\"\" The only use of multiple standardized PHBs and DSCPs that prevents network reordering among packets marked with different DSCPs is use of PHBs within a single AF class. \"\"\" It doesn't prevent reordering, right? It just makes reordering much more unlikely and more transient. (Unless you're using a strict definition of \"network reordering\" that ignores things like ECMP balancing.) The \"allow\" phrasing is used several times in this section. It would be helpful to clarify. EDITORIAL Abstract: \"\"\" Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. \"\"\" This sentence doesn't really parse. Maybe just delete \"the results (e.g., reordering)\"? Likewise for the same phrase in the introduction. Introduction: \"\"\" (Section 7 is an empty IANA Considerations section) \"\"\" Note to future self: Remove this parenthetical and renumber once this hits the RFC Editor. Section 5.1: \"\"\" In general, marking packets with different DSCPs results in different PHBs being applied at nodes in the network, making reordering possible due to use of different pools of forwarding resources for each PHB. \"\"\" This seems like a pretty import, so I would state it more strongly. It doesn't just make reordering possible, it makes it much more likely. (This is the flip side of the Section 6 comment above.)"}
{"_id":"q-en-rfc7657-4ba173e35badd97f68922c0bbf98a762425febe7fb2328c583e6e3b9d6fa4332","text":"Richard, Thank you for the review, and I’m pleased that the draft provides a helpful introduction to DiffServ. Comments inline @ DavidI’ll submit a -07 with these changes plus a version of Colin’s suggested change to the 5.4 text on RTCP RTT behavior. Thanks, --David From: Dart [mailto:] On Behalf Of Richard Barnes Sent: Tuesday, September 23, 2014 10:22 PM To: ; Subject: [Dart] AD review of draft-ietf-dart-dscp-rtp-06 I have reviewed this draft in preparation for IETF LC. Overall this looks very good. As someone who is not deeply familiar with DiffServ concepts, the document provided a helpful introduction and clearly justified its recommendations. I'll go ahead and request last call. Some minor comments are below. My main concern is that this document is so well populated with references that it will get stuck in MISSREF for years while others catch up :) Thanks, --Richard MINOR Section 6: \"\"\" The only use of multiple standardized PHBs and DSCPs that prevents network reordering among packets marked with different DSCPs is use of PHBs within a single AF class. \"\"\" It doesn't prevent reordering, right? It just makes reordering much more unlikely and more transient. (Unless you're using a strict definition of \"network reordering\" that ignores things like ECMP balancing.) The \"allow\" phrasing is used several times in this section. It would be helpful to clarify. DavidWill change “prevents” -“does not enable” and change “allow” -“enable” EDITORIAL Abstract: \"\"\" Use of different DSCPs to obtain different QoS treatments within a single network 5-tuple, the results (e.g., reordering) may cause transport protocol interactions, particularly with congestion control functionality. \"\"\" This sentence doesn't really parse. Maybe just delete \"the results (e.g., reordering)\"? Likewise for the same phrase in the introduction. DavidOh dear, I’ve clearly been staring at the same text for too long :-(. Will rephrase to: The results of using multiple DSCPs to obtain different QoS treatments within a single network 5-tuple (e.g., reordering), have transport protocol interactions, particularly with congestion control functionality. Introduction: \"\"\" (Section 7 is an empty IANA Considerations section) \"\"\" Note to future self: Remove this parenthetical and renumber once this hits the RFC Editor. DavidI’ll swap the order of sections 7 and 8, then delete this parenthetical remark now ;-). Section 5.1: \"\"\" In general, marking packets with different DSCPs results in different PHBs being applied at nodes in the network, making reordering possible due to use of different pools of forwarding resources for each PHB. \"\"\" This seems like a pretty import, so I would state it more strongly. It doesn't just make reordering possible, it makes it much more likely. (This is the flip side of the Section 6 comment above.) David“possible” -“very likely”"}
{"_id":"q-en-rfc7657-9427dc160a447842b0e01d34ef2e16d317b49770cbc1e4156dfadb47cf63713e","text":"Hi David, The draft is well written and I regard it as very helpful. There's one change I'd like to suggest: Section 3.1, list number 2. briefly explains AF. The section doesn't explicitly mention that traffic carried by one of the three PHBs of an AF class are not reordered. This feature, avoiding reordering packets belonging to different PHBs of an AF class, is however a kind of punch line whenever AF is referred to in later sections. So I'd welcome mentioning it in section 3.1, list point 2. minor comments (no objection if ignored) ############################# Section 4. , second block. Why are I-frames marked AF41 and P-frames AF43 in the example? To me, AF42 for P makes more sense (or make it AF42 for I frames). AF43 could be used for B-frames (which aren't mentioned in the text). Section 5.1 second block after the bullet pointed list \".making reordering very likely.\" Would \"making reordering likely\" be sufficient? Section 5.1 There's at least one ECMP implementation I'm aware of which includes QoS bits to calculate the load balancing hash value. It reorders packets of a flow using multiple classes, if they are spaced less than the resulting delay difference. This is an exceptional implementation, the other solutions I'm aware of do ignore QoS bits when calculating ECMP hash values. ECMP is a proprietary feature, I think. And one editorial comment: Section 3., last bullet point and following section: the bullet point is focused on Lower Effort PHB marked by CS 1 and the following section continues by discussing CS 1 issues more general. This discussion may be added to the bullet point (to me the discussion doesn't seem to be related to the first bullet point). Sorry for being late with my review. Regards, Ruediger"}
{"_id":"q-en-rfc7657-e4285a0fe0d74804fff3eb9e270aadbec56e87e20ca6c5ac8d700266bb7c7de9","text":"Hi Ruediger, Sorry for being late with my review. No apology necessary - you have the honor of submitting the first IETF Last Call comments on this draft. There's one change I'd like to suggest: Section 3.1, list number 2. briefly explains AF. The section doesn't explicitly mention that traffic carried by one of the three PHBs of an AF class are not reordered. This feature, avoiding reordering packets belonging to different PHBs of an AF class, is however a kind of punch line whenever AF is referred to in later sections. So I'd welcome mentioning it in section 3.1, list point 2. Sure, that's a good suggestion - I'll do that. That absence of reordering concept is covered elsewhere in the draft, but it first shows up in Section 5.1, so mentioning it earlier in Section 3.1 will help. On the minor comments, I'd just as soon not tinker with the example text in Section 4, our AD suggested emphasizing that point in Section 5.1 (but if other reviewers dislike \"very\", that word can be bit-bucketed), and the ECMP implementation described in your comments is one that cannot claim to support AF, as it does not meet the requirements of RFC 2597. It's a network operator responsibility to not run AF across such an implementation; I think that sort of DiffServ operational concern is best covered elsewhere. My current inclination is not to make any changes for these minor comments. And one editorial comment: Section 3., last bullet point and following section: the bullet point is focused on Lower Effort PHB marked by CS 1 and the following section continues by discussing CS 1 issues more general. This discussion may be added to the bullet point (to me the discussion doesn't seem to be related to the first bullet point). That's a good catch - the paragraph after that CS1 bullet point mixes two concepts that ought to be teased apart and merged into the two foregoing bullets to improve clarity: Expanding on the non-requirements for different class selector code points to provide service differentiation. This text should be merged into the first bullet. Expanding on the problems with assuming that CS1 selects a Lower Effort service. This text should be merged into the second (CS1) bullet. Thanks, --David -----Original Message----- From: [mailto:] Sent: Wednesday, October 01, 2014 3:14 AM To: Black, David Cc: ; Subject: Re: [Dart] I-D Action: draft-ietf-dart-dscp-rtp-07.txt, Hi David, The draft is well written and I regard it as very helpful. There's one change I'd like to suggest: Section 3.1, list number 2. briefly explains AF. The section doesn't explicitly mention that traffic carried by one of the three PHBs of an AF class are not reordered. This feature, avoiding reordering packets belonging to different PHBs of an AF class, is however a kind of punch line whenever AF is referred to in later sections. So I'd welcome mentioning it in section 3.1, list point 2. minor comments (no objection if ignored) Section 4. , second block. Why are I-frames marked AF41 and P-frames AF43 in the example? To me, AF42 for P makes more sense (or make it AF42 for I frames). AF43 could be used for B-frames (which aren't mentioned in the text). Section 5.1 second block after the bullet pointed list \".making reordering very likely.\" Would \"making reordering likely\" be sufficient? Section 5.1 There's at least one ECMP implementation I'm aware of which includes QoS bits to calculate the load balancing hash value. It reorders packets of a flow using multiple classes, if they are spaced less than the resulting delay difference. This is an exceptional implementation, the other solutions I'm aware of do ignore QoS bits when calculating ECMP hash values. ECMP is a proprietary feature, I think. And one editorial comment: Section 3., last bullet point and following section: the bullet point is focused on Lower Effort PHB marked by CS 1 and the following section continues by discussing CS 1 issues more general. This discussion may be added to the bullet point (to me the discussion doesn't seem to be related to the first bullet point). Sorry for being late with my review. Regards, Ruediger"}
{"_id":"q-en-rfc7657-0e65a3de8b9726d4edf6b58aac7561d6a6dd81a1d8c4f34fb036e47143125d1f","text":"I am the assigned Gen-ART reviewer for this draft. For background on Gen-ART, please see the FAQ at < Please resolve these comments along with any other Last Call comments you may receive. Document: draft-ietf-dart-dscp-rtp-07 Reviewer: Robert Sparks Review Date: 14-Oct-2014 IETF LC End Date: 14-Oct-2014 IESG Telechat date: not yet scheduled for a telechat Summary: Ready with nits These are very small nits to consider. Please feel free to leave the existing text alone if these suggestions don't help. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work?"}
{"_id":"q-en-rfc7657-307a5f7878216b2e56db5a553e9237b8da1cee44fdd19317b6a9b44c643a1e95","text":"Robert, Thanks for the review. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. Indeed, that sentence is problematic. I've edited the entire paragraph for clarity. Here's the new text: When PHBs that enable reordering are mixed within a single network 5-tuple, the effect is to mix QoS-based traffic classes within the scope of a single transport protocol connection or association. As these QoS-based traffic classes receive different network QoS treatments, they use different pools of network resources and hence may exhibit different levels of congestion. The result for congestion-controlled protocols is that a separate instance of congestion control functionality is needed per QoS-based traffic class. Current transport protocols support only a single instance of congestion control functionality for an entire connection or association; extending that support to multiple instances would add significant protocol complexity. Traffic in different QoS-based classes may use different paths through the network; this complicates path integrity checking in connection- or association-based protocols, as those paths may fail independently. In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work? Yes, and I've removed \"emission of\" from that proposed text. Thanks, --David -----Original Message----- From: Robert Sparks [mailto:] Sent: Tuesday, October 14, 2014 11:50 AM To: General Area Review Team; ; ; Subject: Gen-art LC review: draft-ietf-dart-dscp-rtp-07 I am the assigned Gen-ART reviewer for this draft. For background on Gen-ART, please see the FAQ at < Please resolve these comments along with any other Last Call comments you may receive. Document: draft-ietf-dart-dscp-rtp-07 Reviewer: Robert Sparks Review Date: 14-Oct-2014 IETF LC End Date: 14-Oct-2014 IESG Telechat date: not yet scheduled for a telechat Summary: Ready with nits These are very small nits to consider. Please feel free to leave the existing text alone if these suggestions don't help. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work?"}
{"_id":"q-en-rfc7657-a5345fc44a85b10d6371f102424b4033df66eeeb467a10e0832633b964aacad9","text":"On 10\/14\/14 1:18 PM, Black, David wrote: Robert, Thanks for the review. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. Indeed, that sentence is problematic. I've edited the entire paragraph for clarity. Here's the new text: When PHBs that enable reordering are mixed within a single network 5-tuple, the effect is to mix QoS-based traffic classes within the scope of a single transport protocol connection or association. As these QoS-based traffic classes receive different network QoS treatments, they use different pools of network resources and hence may exhibit different levels of congestion. The result for congestion-controlled protocols is that a separate instance of congestion control functionality is needed per QoS-based traffic class. Current transport protocols support only a single instance of congestion control functionality for an entire connection or association; extending that support to multiple instances would add significant protocol complexity. Traffic in different QoS-based classes may use different paths through the network; this complicates path integrity checking in connection- or association-based protocols, as those paths may fail independently. That's great. Thanks! In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work? Yes, and I've removed \"emission of\" from that proposed text. Ack Thanks, --David -----Original Message----- From: Robert Sparks [mailto:] Sent: Tuesday, October 14, 2014 11:50 AM To: General Area Review Team; ; ; Subject: Gen-art LC review: draft-ietf-dart-dscp-rtp-07 I am the assigned Gen-ART reviewer for this draft. For background on Gen-ART, please see the FAQ at < Please resolve these comments along with any other Last Call comments you may receive. Document: draft-ietf-dart-dscp-rtp-07 Reviewer: Robert Sparks Review Date: 14-Oct-2014 IETF LC End Date: 14-Oct-2014 IESG Telechat date: not yet scheduled for a telechat Summary: Ready with nits These are very small nits to consider. Please feel free to leave the existing text alone if these suggestions don't help. At the end of page 13, the sentence that starts \"Transport protocol support for multiple\"... is very long and hard to parse. I suspect it will be hard to translate. The action of changing the existing protocols is implied rather than explicit in the current wording. \"current designs\" is vague. I suggest this as a starting point: \"Adding support for multiple QoS-based traffic classes within a single network 5-tuple to a transport protocol adds significant complexity compared to the current protocol definitions. For congestion-controlled transport protocols, network congestion information for each QoS-based traffic class would have to be disambiguated to allow congestion control to be managed separately for each such traffic class.\" Hopefully it can be made even simpler. In the first paragraph of 5.2, would \"Such reordering may lead to unneeded retransmission, and spurious emission of retransmission control signals (such as NACK) in reliable delivery protocols (see Section 5.1)\" work?"}
{"_id":"q-en-rfc8205-76b172172433d4c150c8ab8aab43eae9a2edb4e017e2043f45b178e94efa5abb","text":"Origin Validation Using ROAs\nRoute origin validation using RPKI constructs, as developed in the IETF SIDR WG, is a necessary component of BGP security. It provides cryptographic validation that the first-hop AS is authorized to originate a route for the prefix in question."}
{"_id":"q-en-rfc8205-0b25bb228ae67c4a3f600cc57768a7b9a95d25ae3a0ff14748f5339c221bf57b","text":"Attributes Signed by an Originating AS\nThe next-hop ASN is included in the data covered by the signature. Without this inclusion, the AS path cannot be secured; for example, the path can be shortened (by a MITM (man in the middle)) without being detected. It was decided that only the originating AS needs to insert a signature Expire Time in the update, as it is the originator of the route. The origin AS also will re-originate, i.e., beacon, the update prior to the Expire Time of the advertisement (see Section 3.2). (For an explanation of why upstream ASes do not insert their respective signature Expire Times, please see Section 3.2.2.) Expire Time and beaconing were eventually replaced by router key rollover. The BGPsec protocol [RFC8205] is expected to make use of router key rollover to mitigate replay attacks and withdrawal suppression [BGPsec-Rollover] [Replay-Protection]. It was decided that each signed update would include only one NLRI prefix. If more than one NLRI prefix were included and an upstream AS elected to propagate the advertisement for a subset of the prefixes, then the signature(s) on the update would break (see Sections 5.1 and 5.2). If a mechanism were employed to preserve prefixes that were dropped, this would reveal information to subsequent ASes that is not revealed in normal BGP operation. Thus, a trade-off was made to preserve the level of route information exposure that is intrinsic to BGP over the performance hit implied by limiting each update to carry only one prefix. The signature data is carried in an optional, non-transitive BGP attribute. The attribute is optional because this is the standard mechanism available in BGP to propagate new types of data. It was decided that the attribute should be non-transitive because of concern about the impact of sending the (potentially large) signatures to routers that don't understand them. Also, if a router that does not understand BGPsec somehow gets an update message with path signatures (i.e., the update includes the BGPsec_PATH attribute (see Section 3 of RFC 8205)), then it would be undesirable for that router to forward the update to all of its neighbors, especially those who do not understand BGPsec and may choke if they receive many updates with large optional BGP attributes. It is envisioned that BGPsec and traditional BGP will coexist while BGPsec is deployed incrementally."}
{"_id":"q-en-rfc8205-f734c2218c0255d7e8a59203350d7f5aa4233e3afeca74f0761a40ba682820dc","text":"Attributes Signed by an Upstream AS\nThe rationale for this choice (Method 2) was as follows. Signatures are performed over hash blocks. When the number of bytes to be signed exceeds one hash block, the remaining bytes will overflow into a second hash block, resulting in a performance penalty. So, it is advantageous to minimize the number of bytes being hashed. Also, an analysis of the three options noted above did not identify any vulnerabilities associated with this approach."}
{"_id":"q-en-rfc8205-403fed656b8b669c734f82caff51fe078209e7fd0fb981bf00f5418272b33f61","text":"Attributes That Are Not Signed\nAny of the above-mentioned attributes that are not signed are viewed as local (e.g., do not need to propagate beyond the next hop) or lack clear security needs. NO-EXPORT is sent over a secured next hop and does not need signing. The BGPsec design should work with any transport-layer protections. It is well understood that the transport layer must be protected hop by hop (if only to prevent malicious session termination)."}
{"_id":"q-en-rfc8205-b365d1909201d89858abc41337967acbde1f728bf33fcd7e78c3973380dea180","text":"Receiving Router Actions\nSee Section 8.1 for suggestions regarding efficient sequencing of BGPsec validation processing in a receiving router. Some or all of the validation actions may be performed by an off-board server (see Section 9.3)."}
{"_id":"q-en-rfc8205-57a484fbaf7b3c9a99574d7c3f9b41b758789a696631de81a4d863a6e6cc48de","text":"Prepending of ASes in AS Path\nThe initial version [BGPsec-Initial] of the BGPsec specification calls for a signature to be associated with each prepended AS. The optimization of having just one signature for multiple prepended ASes was pursued later. The pCount field is now used to represent AS prepends; see Section 3.1 in RFC 8205."}
{"_id":"q-en-rfc8205-d00290f71d1f0eb9f2cabaf4347878d7d873debf778dce16ade9980f5bd85570","text":"RPKI Data That Needs to Be Included in Updates\nWhether or not each router public key certificate should be included in a signed update was discussed. Inclusion of this information might be helpful for routers that do not have access to RPKI servers or temporarily lose connectivity to them. It is safe to assume that in the majority of network environments, intermittent connectivity would not be a problem. So, it is best to avoid this complexity, because the majority of the use environments do not have connectivity constraints. Because the SKI of a router certificate is a hash of the public key of that certificate, it suffices to select the public key from that certificate. This design assumes that each BGPsec router has access to a cache containing the relevant data from (validated) router certificates."}
{"_id":"q-en-rfc8205-4d9d188bd9a5c9caabdafbb6af81a79796f90aebb159d31dbb8ef216f21acf30","text":"Withdrawals Not Signed\nIn the current BGP protocol, any AS can withdraw, at any time, any prefix it previously announced. The rationale for not signing withdrawals is that BGPsec assumes the use of transport security between neighboring BGPsec routers. Thus, no external entity can inject an update that withdraws a route or replay a previously transmitted update containing a withdrawal. Because the rationale for withdrawing a route is not visible to a neighboring BGPsec router, there are residual vulnerabilities associated with withdrawals. For example, a router that advertised a (valid) route may fail to withdraw that route when it is no longer viable. A router also might re-advertise a route that it previously withdrew, before the route is again viable. This latter vulnerability is mitigated by the Expire Time associated with the origin AS's signature (see Section 3.2). Repeated withdrawals and announcements for a prefix can run up the BGP Route Flap Damping (RFD) penalty [RFC2439] and may result in unreachability for that prefix at upstream routers. But what can the attacker gain from doing so?  This phenomenon is intrinsic to the design and operation of RFD."}
{"_id":"q-en-rfc8205-0ff9f8da20eb39c0289d0d25f7c3f410d51f7456b7dd56668a12b4e64fdcd3c2","text":"Signature Expire Time for Withdrawal Protection (a.k.a. Mitigation of Replay Attacks)\nMitigation of BGPsec update replay attacks can be thought of as protection against malicious re-advertisements of withdrawn routes. If each AS along a path were to insert its own signature Expire Time, then there would be much additional BGP chattiness and an increase in BGP processing load due to the need to detect and react to multiple (possibly redundant) signature Expire Times. Furthermore, there would be no extra benefit from the point of view of mitigation of replay attacks as compared to having a single Expire Time corresponding to the signature of the originating AS. As noted in Section 3.2.1, the recommended Expire Time value is on the order of days, but 4 to 8 hours may be used in some cases on the basis of perceived need for extra protection from replay attacks. Thus, different ASes may choose different values based on the perceived need to protect against malicious route replays. (A shorter Expire Time reduces the window during which an AS can maliciously replay the route. However, shorter Expire Time values cause routes to be refreshed more often, thus causing more BGP chatter.)  Even a 4-hour duration seems long enough to keep the re-origination workload manageable. For example, if 500K routes are re-originated every 4 hours, it amounts to an increase in BGP update load of 35 updates per second; this can be considered reasonable. However, further analysis is needed to confirm these recommendations. As stated in Section 3.2.1, the originating AS will re-originate a route sufficiently in advance of its Expire Time. What is considered \"sufficiently in advance\"?  To answer this question, modeling should be performed to determine the 95th-percentile convergence time of update propagation in a BGPsec-enabled Internet. Each BGPsec router should stagger the Expire Time values in the updates it originates, especially during table dumps to a neighbor or during its own recovery from a BGP session failure. By doing this, the re-origination (i.e., beaconing) workload at the router will be dispersed."}
{"_id":"q-en-rfc8205-f0e16b84f337e745e14a8cef7f1c36b082f5dcf0bd05ff151bc2208db04c126d","text":"Should Route Expire Time be Communicated in a Separate Message?\nIt was suggested that if the re-beaconing of the signature Expire Time is carried in a separate special message, then any processing load related to the update may be reduced. But it was recognized that such a re-beaconing message by necessity entails AS path and prefix information and, hence, cannot be separated from the update. It was observed that at the edge of the Internet, there are frequent updates that may result from such simple situations as a BGP session being switched from one interface to another (e.g., from primary to backup) between two peering ASes (e.g., customer and provider). With traditional BGP, these updates do not propagate beyond the two ASes involved. But with BGPsec, the customer AS will put in a new signature Expire Time each time such an event happens; hence, the update will need to propagate throughout the Internet (limited only by the process of best-path selection). It was accepted that this cost of added churn will be unavoidable."}
{"_id":"q-en-rfc8205-5d530259ff8a63abdf84656343653d35d99c22c98ebbf9266aaefc72bc6532b2","text":"Effect of Expire Time Updates in BGPsec on RFD\nTo summarize, this decision is supported by the following observations:  Expire-Time-triggered updates are generally not preceded by withdrawals; hence, the path hunting and associated RFD exacerbation [Mao02] [RIPE580] problems are not anticipated. Such updates would not normally change the best path (unless another concurrent event impacts the best path). Expire-Time-triggered updates would have a negligible impact on RFD penalty accumulation because the re-advertisement interval is much longer relative to the half-time of RFD penalty decay. Elaborating further on the third observation above, it may be noted that the re-advertisements (i.e., beacons) of a route for a given address prefix from a given peer will be received at intervals of several hours (see Section 3.2). During that time period, any incremental contribution to the RFD penalty due to an Expire-Time-triggered update would decay sufficiently to have negligible (if any) impact on damping the address prefix in question. Additional details regarding this analysis and justification are as follows: The frequency with which RFD penalty increments may be triggered for a given prefix from a given peer is the same as the re-beaconing frequency for that prefix from its origin AS. The re-beaconing frequency is on the order of once every several hours (see Section 3.2). The incremental RFD penalty assigned to a prefix due to a re-beaconed update varies, depending on the implementation. For example, it appears that the JunOS implementation [JunOS] would assign a penalty of 1000 or 500, depending on whether the re-beaconed update is regarded as a re-advertisement or an attribute change, respectively. Normally, a re-beaconed update would be treated as an attribute change. On the other hand, the Cisco implementation [CiscoIOS] assigns an RFD penalty only in the case of an actual flap (i.e., a route is available, then unavailable, or vice versa). So, it appears that Cisco's implementation of RFD would not assign any penalty for a re-beaconed update (i.e., a route was already advertised previously and was not withdrawn, and the re-beaconed update is merely updating the Expire Time attribute). Even if one assumes that an RFD penalty of 500 is assigned (corresponding to an attribute change according to the JunOS RFD implementation), it can be illustrated that the incremental effect it would have on damping the prefix in question would be negligible: the half-time of RFD penalty decay is normally set to 15 minutes, whereas the re-beaconing frequency is on the order of once every several hours. An incremental penalty of 500 would decay to 31.25 in 1 hour, 0.12 in 2 hours, and 3x10^(-5) in 3 hours. It may also be noted that the threshold for route suppression is 3000 in JunOS and 2000 in Cisco IOS. Based on the foregoing analysis, it may be concluded that routine re-beaconing by itself would not result in RFD suppression of  routes in the BGPsec protocol."}
{"_id":"q-en-rfc8205-3b075356ad098e7af55c156b2353a7626d640996e006ebaf5b30e8e06172cf31","text":"Signature Algorithms\nInitially, the RSA-2048 algorithm for BGPsec update signatures was considered as a choice because it is being used ubiquitously in the RPKI system. However, the use of ECDSA P-256 was decided upon because it yields a smaller signature size; hence, the update size and (in turn) the RIB size needed in BGPsec routers would be much smaller [RIB_size]. Using two different signature algorithms (e.g., ECDSA P-256 and RSA-2048) to test the transition from one algorithm to the other will increase confidence in prototype implementations. Optimizations and specialized algorithms (e.g., for speedups) built on Elliptic Curve Cryptography (ECC) algorithms may have active IPR (intellectual property rights), but at the time of publication of this document no IPR had been disclosed to the IETF for the basic (unoptimized) algorithms. (To understand this better, [RFC6090] can be useful as a starting point.) Recently, even open-source implementations have incorporated certain cryptographic optimizations and demonstrated significant performance speedup [Gueron]. Researchers continue to devote significant effort toward demonstrating substantial speedup for the ECDSA as part of BGPsec implementations [Mehmet1] [Mehmet2]."}
{"_id":"q-en-rfc8205-3d5b1e7388ff7c0e52f9ea1e942aceeaff5c92afc50f0e7303caeee00e2e8b70","text":"Agility of Signature Algorithms\nA length field in the Signature_Block allows for delineation of the two signature blocks. Hence, a BGPsec router that doesn't know about a particular algorithm suite (and, hence, doesn't know how long signatures were for that algorithm suite) could still skip over the corresponding Signature_Block when parsing the message. The overlap period between the two algorithms is expected to last 2 to 4 years. The RIB memory and cryptographic processing capacity will have to be sized to cope with such overlap periods when updates would contain two sets of signatures [RIB_size]. The lifetime of a signature algorithm is anticipated to be much longer than the duration of a transition period from the current algorithm to a new algorithm. It is fully expected that all ASes will have converted to the required new algorithm within a certain amount of time that is much shorter than the interval in which a subsequent newer algorithm may be investigated and standardized for BGPsec. Hence, the need for more than two Signature_Blocks per update is not envisioned."}
{"_id":"q-en-rfc8205-f2fd3219aaf2e63e1f23f1c59fd6d876a4bbd0aab4daaf7ac1ce61c741031744","text":"Sequential Aggregate Signatures\nIn the SAS method, there would be only one (aggregated) signature per signature block, irrespective of the number of AS hops. For example, ASn (the nth AS) takes as input the signatures of all previous ASes [AS1, ..., AS(n-1)] and produces a single composite signature. This composite signature has the property that a recipient who has the public keys for AS1, ..., ASn can verify (using only the single composite signature) that all of the ASes actually signed the message. The SAS could potentially result in savings in bandwidth and in Protocol Data Unit (PDU) size, and maybe in RIB size, but the signature generation and validation costs will be higher as compared to one signature per AS hop. SAS schemes exist in the literature, typically based on RSA or its equivalent. For a SAS with RSA and for the cryptographic strength needed for BGPsec signatures, a 2048-bit signature size (RSA-2048) would be required. However, without a SAS, the ECDSA with a 512-bit signature (256-bit key) would suffice for equivalent cryptographic strength. The larger signature size of RSA used with a SAS undermines the advantages of the SAS, because the average hop count, i.e., the number of ASes, for a route is about 3.8. In the end, it may turn out that the SAS has more complexity and does not provide sufficient savings in PDU size or RIB size to merit its use. Further exploration of this is needed to better understand SAS properties and applicability for BGPsec. There is also a concern that the SAS is not a time-tested cryptographic technique, and thus its adoption is potentially risky."}
{"_id":"q-en-rfc8205-4c11244fbfb2f470a7eaa3b2a8258f022f7083cd8e6ede229d6bcfafc5e99554","text":"Protocol Extensibility\nIn the case that a change to BGPsec is deemed desirable, it is expected that a subsequent version of BGPsec would be created and that this version of BGPsec would specify a new BGP path attribute (let's call it \"BGPsec_PATH_TWO\") that is designed to accommodate the desired changes to BGPsec. At this point, a transition would begin that is analogous to the algorithm transition discussed in Section 4.2. During the transition period, all BGPsec speakers will simultaneously include both the BGPsec_PATH (current) attribute (see Section 3 of RFC 8205) and the new BGPsec_PATH_TWO attribute. Once the transition is complete, the use of BGPsec_PATH could then be deprecated, at which point BGPsec speakers will include only the new BGPsec_PATH_TWO attribute. Such a process could facilitate a transition to new BGPsec semantics in a backwards-compatible fashion."}
{"_id":"q-en-rfc8205-e2401c3d5bfc381ab847e8f910e26b54a5ba81fb6d1379c6c2528e6cd43654ea","text":"Key per Router (Rogue Router Problem)\nGiven a unique key pair per router, if a router is compromised, its key pair can be revoked independently, without disrupting the other routers in the AS. Each per-router key pair will be represented in an end-entity certificate issued under the certification authority (CA) certificate of the AS. The Subject Key Identifier (SKI) in the signature points to the router certificate (and thus the unique public key) of the router that affixed its signature, so that a validating router can reliably identify the public key to use for signature verification."}
{"_id":"q-en-rfc8205-1533087549fad2d3451eec43604423838d68f7ff9d902e0c869f7d887aa03c32","text":"Router ID\nEvery X.509 certificate requires a subject name [RFC6487]. The stylized subject name adopted here is intended to facilitate debugging by including the ASN and router ID."}
{"_id":"q-en-rfc8205-c38388182a7c8f08ddf5b9d359576a46f50ad497d3eeee11a4cb8f62cffe5ab0","text":"Update Packing and Repacking\nCurrently, with traditional BGP, there are, on average, approximately four prefixes announced per update [RIB_size]. So, the number of BGP updates (carrying announcements) is about four times fewer, on average, as compared to the number of prefixes announced. The current decision is to include only one prefix per secured update (see Section 2.2.2). When optimizations are considered in the future, the possibility of packing multiple prefixes into an update can also be considered. (Please see Section 5.2 for a discussion of signature per prefix vs. signature per update.)  Repacking could be performed if signatures were generated on a per-prefix basis. However, one problem regarding this approach -- multiple prefixes in a BGP update but with a separate signature for each prefix -- is that the resulting BGP update violates the basic definition of a BGP update: the different prefixes will have different signatures and Expire Time attributes, while a BGP update (by definition) must have the same set of shared attributes for all prefixes it carries."}
{"_id":"q-en-rfc8205-3b659f2fab80fbaa1c86ad00418a3398662ba221c74df5c3369586f6190fdaf1","text":"Signature per Prefix vs. Signature per Update\nSome notes to assist in future optimization discussions follow: In the general case of one signature per update, multiple prefixes may be signed with one signature together with their shared AS path, next ASN, and Expire Time. If the \"signature per update\" technique is used, then there are potential savings in update PDU size as well as RIB memory size. But if there are any changes made to the announced prefix set along the AS path, then the AS where the change occurs would need to insert an Explicit Path Attribute (EPA) [Secure-BGP]. The EPA conveys information regarding what the prefix set contained prior to the change. There would be one EPA for each AS that made such a modification, and there would be a way to associate each EPA with its corresponding AS.This enables an upstream AS to know and verify what was announced and signed by prior ASes in the AS path (in spite of changes made to the announced prefix set along the way). The EPA adds complexity to processing (signature generation and validation); further increases the size of updates and, thus, of the RIB; and exposes data to downstream ASes that would not otherwise be exposed. Not all of the pros and cons of packing and repacking in the context of signature per prefix vs. signature per update (with packing) have been evaluated. But the current recommendation is for having only one prefix per update (no packing), so there is no need for the EPA."}
{"_id":"q-en-rfc8205-12c20b4de50d2621a3845d347867725393204f492badd7883bfa9148ecb72f77","text":"Maximum BGPsec Update PDU Size\nThe current maximum message size for BGP updates is 4096 octets. An effort is underway in the IETF to extend it to a larger size [BGP-Ext-Msg]. BGPsec will conform to whatever maximum message size is available for BGP while adhering to the guidelines in Section 9.2 of RFC 4271 [RFC4271]. Estimates for the average and maximum sizes anticipated for BGPsec update messages are provided in [MsgSize]."}
{"_id":"q-en-rfc8205-e6ae9d355ef204a487590b87fa28d15fd130bd9e035aac0596763a7b09cea4a1","text":"Temporary Suspension of Attestations and Validations\nIn some situations, a BGPsec router may be unable to keep up with the workload of performing signing and\/or validation. This can happen, for example, during BGP session recovery when a router has to send the entire routing table to a recovering router in a neighboring AS (see [CPUworkload]). So, it is possible that a BGPsec router temporarily pauses performing the validation or signing of updates. When the workload eases, the BGPsec router should clear the validation or signing backlog and send signed updates corresponding to the updates for which validation and signing were skipped. During periods of overload, the router may simply send unsigned updates (with signatures dropped) or may sign and forward the updates with signatures (even though the router itself has not yet verified the signatures it received). A BGPsec-capable AS may request (out of band) that a BGPsec-capable peer AS never downgrade a signed update to an unsigned update. However, in partial-deployment scenarios, it is not possible for a BGPsec router to require a BGPsec-capable eBGP peer to send only signed updates, except for prefixes originated by the peer's AS. If BGPsec has not been negotiated with a peer, then a BGPsec router forwards only unsigned updates to that peer; the sending router does so by following the reconstruction procedure in Section 4.4 of [RFC8205] to generate an AS_PATH attribute corresponding to the BGPsec_PATH attribute in a received signed update. If the above-mentioned temporary suspension is ever applied, then the same AS_PATH reconstruction procedure should be utilized."}
{"_id":"q-en-rfc8205-62758cb5b152082fd2a774896e3f1c08985f4a999c0b4a0824ebc6186dff3fe1","text":"Downgrade Attacks\nBGPsec allows routers to temporarily suspend signing updates (see Section 5.4). Therefore, it would be contradictory if we were to try to incorporate in the BGPsec protocol a way to detect and reject downgrade attacks. One proposed way to detect downgrade attacks was considered, based on signed peering registrations (see Section 9.5)."}
{"_id":"q-en-rfc8205-455b9f1204a8b9b6d8ae37da718e171170026e16ff15407dfade496c59e04628","text":"Inclusion of Address Family in Capability Advertisement\nIf new address families are supported in the future, they will be added in future versions of the specification. A comment was made that too many version numbers are bad for interoperability. Renegotiation on the fly to add a new address family (i.e., without changeover to a new version number) is desirable."}
{"_id":"q-en-rfc8205-b611534d8444bb2138a31818d8923dbf7b26d849d10abe49dd40d8d3180a9cb2","text":"ncremental Deployment: Capability Negotiation\nThe partial-deployment approach to incremental deployment will result in \"BGPsec islands\". Updates that originate within a BGPsec island will generally propagate with signed AS paths to the edges of that island. As BGPsec adoption grows, the BGPsec islands will expand outward (subsuming non-BGPsec portions of the Internet) and\/or pairs of islands may join to form larger BGPsec islands."}
{"_id":"q-en-rfc8205-32af69824f1b8e015da058b619a31325e83e13d98a00798b38ed730fead579a2","text":"Partial Path Signing\nPartial path signing (as described above) implies that the AS path is not rigorously protected. Rigorous AS path protection is a key requirement of BGPsec [RFC7353]. Partial path signing clearly reintroduces the following attack vulnerability: if a BGPsec speaker is allowed to sign an unsigned update and if signed (i.e., partially or fully signed) updates would be preferred over unsigned updates, then a faulty, misconfigured, or subverted BGPsec speaker can manufacture any unsigned update it wants (by inserting a valid origin AS) and add a signature to it to increase the chance that its update will be preferred."}
{"_id":"q-en-rfc8205-ec8561204d5e882f3f8446d4d9ba8c0c012457d203a51f3e168357f02675928b","text":"Consideration of Stub ASes with Resource Constraints: Encouraging Early Adoption\n Various other options were also considered for accommodating a resource-constrained stub AS, as discussed below: An arrangement that can be effected outside of the BGPsec specification is as follows. Through a private arrangement (invisible to other ASes), an ISP's AS (upstream AS) can truncate the stub AS (or downstream AS) from the path and sign the update as if the prefix is originating from the ISP's AS (even though the update originated unsigned from the customer AS). This way, the path will appear fully signed to the rest of the network. This alternative will require the owner of the prefix at the stub AS to issue a ROA for the upstream AS, so that the upstream AS is authorized to originate routes for the prefix. Another type of arrangement that can also be effected outside of the BGPsec specification is as follows. The stub AS does not sign updates, but it obtains an RPKI (CA) certificate and issues a router certificate under that CA certificate. It passes on the private key for the router certificate to its upstream provider. That ISP (i.e., the second-hop AS) would insert a signature on behalf of the stub AS using the private key obtained from the stub AS. This arrangement is called \"proxy signing\" (see Section 6.6). An extended ROA is created that includes the stub AS as the originator of the prefix and the upstream provider as the second-hop AS, and partial signatures would be allowed (i.e., the stub AS need not sign the updates). It is recognized that this approach is also authoritative and not trust based. It was observed that the extended ROA is not much different from what is done with the ROA (in its current form) when a Provider-Independent (PI) address is originated from a provider's AS. This approach was rejected due to possible complications with the creation and use of a new RPKI object, namely, the extended ROA. Also, the validating BGPsec router has to perform a level of indirection with this approach, i.e., it must detect that an update is not fully signed and then look for the extended ROA to validate. Another method, based on a different form of indirection, would be as follows. The customer (stub) AS registers something like a Proxy Signer Authorization, which authorizes the second-hop (i.e., provider) AS to sign on behalf of the customer AS using the provider's own key [Dynamics]. This method allows for fully signed updates (unlike the approach based on the extended ROA). But this approach also requires the creation of a new RPKI object, namely, the Proxy Signer Authorization. In this approach, the second-hop AS and validating ASes have to perform a level of indirection. This approach was also rejected. The various inputs regarding ISP preferences were taken into consideration, and eventually the decision in favor of asymmetric BGPsec was reached (Section 6.5.1). An advantage for a stub AS that does asymmetric BGPsec is that it only needs to minimally upgrade to BGPsec so it can sign updates to its upstream AS while it receives only unsigned updates. Thus, it can avoid the cost of increased processing and memory needed to perform update validations and to store signed updates in the RIBs, respectively."}
{"_id":"q-en-rfc8205-d83adb31e815c177876075afbf651a5acb1629299ac3683d1547bbabb148aa17","text":"Proxy Signing\nConsider a scenario when a customer's AS (say, AS8) is multihomed to two ISPs, i.e., AS8 peers with AS1 and AS2 of ISP-1 and ISP-2, respectively. In this case, AS8 would have an RPKI (CA) certificate; it issues two separate router certificates (corresponding to AS1 and AS2) under that CA certificate, and it passes on the respective private keys for those two certificates to its upstream providers AS1 and AS2. Thus, AS8 has a proxy-signing service from both of its upstream ASes. In the future, if AS8 were to disconnect from ISP-2, then it would revoke the router certificate corresponding to AS2."}
{"_id":"q-en-rfc8205-6e6d0080dea0adb5b26e9cb6f6b1aaae04d799fb76de53173eef37fda034cf84","text":"Multiple Peering Sessions between ASes\nIn traditional BGP, multiple peering sessions between different pairs of routers (between two neighboring ASes) may be simultaneously used for load sharing. Similarly, BGPsec-capable ASes can also have multiple peering sessions between them. Because routers in an AS can have distinct private keys, the same update, when propagated over these multiple peering sessions, will result in multiple updates that may differ in their signatures. The peer (upstream) AS will apply its normal procedures for selecting a best path from those multiple updates (and updates from other peers). This decision regarding load balancing (vs. using one peering session as the primary for carrying data and another as the backup) is entirely local and is up to the two neighboring ASes."}
{"_id":"q-en-rfc8205-0ea3b4e4a299e3ee08f7f094e8ae82a8b62759b5f5e1e4f0e8e3acbacd102a8e","text":"Peer Groups\nBGPsec router processing can make use of peer groups preceding the signing of updates to peers. Some of the update processing prior to forwarding to members of a peer group can be done only once per update, as is done in traditional BGP. Prior to forwarding the update, a BGPsec speaker adds the peer's ASN to the data that needs to be signed and signs the update for each peer AS in the group individually. If updates were to be signed per peer group, information about the forward AS set that constitutes a peer group would have to be divulged (since the ASN of each peer would have to be included in the update). Some ISPs do not like to share this kind of information globally."}
{"_id":"q-en-rfc8205-ef22c927dfee0426162bc144a19f7314eefb5e44db0843c0d08329362dbec812","text":"Communities\nFrom a security standpoint, the community attribute, as currently defined, may be inherently defective. A substantial amount of work on the semantics of the community attribute is needed, and additional work on its security aspects also needs to be done. The community attribute is not necessarily transitive; it is often used only between neighbors. In those contexts, transport-security mechanisms suffice to provide integrity and authentication. (There is no need to sign data when it is passed only between peers.)  It was suggested that one could include only the transitive community attributes in any message that is signed and propagated (across the AS path). It was noted that there is a flag available (i.e., unused) in the community attribute, and it might be used by BGPsec (in some fashion). However, little information is available at this point about the use and function of this flag. It was speculated that this flag could potentially be used to indicate to BGPsec whether or not the community attribute needs protection. For now, community attributes will not be secured by BGPsec path signatures."}
{"_id":"q-en-rfc8205-63a0228406bd5cd584ca5ca75a86df6e7ae4a002f3f27c2f1ee947a42bca4ea1","text":"Consideration of iBGP Speakers and Confederations\nThis topic may need to be revisited to flesh out the details carefully."}
{"_id":"q-en-rfc8205-29e5a7743f3cfb13ef5dcf9c4536cf9bf494dddf562e2d6053115487e903d034","text":"Consideration of Route Servers in IXPs\nThere are basically three methods that an IXP may use to propagate routes: (A) direct bilateral peering through the IXP, (B) BGP peering between clients via peering with a route server at the IXP (without the IXP inserting its ASN in the path), and (C) BGP peering with an IXP route server, where the IXP inserts its ASN in the path. (Note: The IXP's route server does not change the NEXT_HOP attribute even if it inserts its ASN in the path.)  It is very rare for an IXP to use Method C because it is less attractive for the clients if their AS path length increases by one due to the IXP. A measure of the extent of the use of Method A vs. Method B is given in terms of the corresponding IP traffic load percentages. As an example, at a major European IXP, these percentages are about 80% and 20% for Methods A and B, respectively (this data is based on private communication with IXPs circa 2011). However, as the IXP grows (in terms of number of clients), it tends to migrate more towards Method B because of the difficulties of managing up to n x (n-1)\/2 direct interconnections between n peers in Method A. To the extent that an IXP is providing direct bilateral peering between clients (Method A), that model works naturally with BGPsec. Also, if the route server in the IXP plays the role of a regular BGPsec speaker (minus the routing part for payload) and inserts its own ASN in the path (Method C), then that model would also work well in the BGPsec Internet and this case is trivially supported in BGPsec."}
{"_id":"q-en-rfc8205-b6525b9f841abc59cb5bdb3b1d8d87c95acae2395e560c96af60f70b4dfec411","text":"Proxy Aggregation (a.k.a. AS_SETs)\nProxy aggregation does occur in the Internet today, but it is very rare. Only a very small fraction (about 0.1%) of observed updates contain AS_SETs in the AS path [ASset]. Since traditional BGP currently allows for proxy aggregation with the inclusion of AS_SETs in the AS path, it is necessary that BGPsec specify what action a receiving router must take if such an update is received with attestation. BCP 172 [RFC6472] recommends against the use of AS_SETs in updates, so it is anticipated that the use of AS_SETs will diminish over time."}
{"_id":"q-en-rfc8205-4ff4ed58b237cd809bb37f3f999dc345bfd56c41dddc80d4317bacd0ae1925c5","text":"4-Byte AS Numbers\nIt is reasonable to assume that upgrades for 4-byte ASN support will be in place prior to the deployment of BGPsec."}
{"_id":"q-en-rfc8205-4865bd36161f391b6af152fcc4f8838374e49883ee539b49e8abd7422e9833a7","text":"Sequence of BGPsec Validation Processing in a Receiver\nIf the goal is to minimize computational costs associated with cryptographic operations, the sequence of receiver operations that is suggested above is viewed as appropriate. One additional interesting suggestion was that when there are two Signature_Blocks in an update, the validating router can first verify which of the two algorithms is cheaper, to save on processing. If that Signature_Block verifies, then the router can skip validating the other Signature_Block."}
{"_id":"q-en-rfc8205-e9655af570e54daf912f3964f4cfe51ae8c5de0d0c727b5255bf4bdb96538e93","text":"Signing and Forwarding Updates when Signatures Failed Validation\nThe availability of RPKI data at different routers (in the same AS or different ASes) may differ, depending on the sources used to acquire RPKI data. Hence, an update may fail validation in one AS, and the same update may pass validation in another AS. Also, an update may fail validation at one router in an AS, and the same update may pass validation at another router in the same AS. A BCP may be published later that will identify some update-failure conditions that may present unambiguous cases for rejecting the update (in which case the router would not select the AS path in the update). These cases are \"TBD\" (to be determined)."}
{"_id":"q-en-rfc8205-702095a87b64bc4d4f60b32ea303d9b8fa9542caa8f76bff1dd8d4ea2a27fe30","text":"Enumeration of Error Conditions\nThe following list is a first attempt to provide some possible error conditions and recommended receiver reactions in response to the detection of those errors. Refinements will follow after further discussions. E1  Abnormalities where a peer (i.e., the preceding AS) should definitely not have propagated to a receiving eBGPsec router. For example, (A) the number of signatures does not match the number of ASes in the AS path (after accounting for AS prepending), (B) there is an AS_SET in the received update and the update has signatures, or (C) other syntactic errors with signatures have occurred. Reaction: See Section 8.5. E2  Situations where a receiving eBGPsec router cannot find the certificate for an AS in the AS path. Reaction: Mark the update as \"Invalid\". It is acceptable to consider the update in the best-path selection. If it is chosen, then the router should sign and propagate the update. E3  Situations where a receiving eBGPsec router cannot find a ROA for the {prefix, origin} pair in the update. Reaction: Same as in (E2) above. E4  Situations where the receiving eBGPsec router verifies signatures and finds that the update is \"Invalid\" (even though its peer might not have known, e.g., due to RPKI skew). Reaction: Same as in (E2) above. In some networks, the best-path-selection policy may specify choosing an unsigned update over one with invalid signature(s). Hence, the signatures must not be stripped even if the update is \"Invalid\". No evil bit is set in the update (when it is \"Invalid\") because an upstream peer may not get that same answer when it tries to validate."}
{"_id":"q-en-rfc8205-5ac9c25d3546c05520ebad0123674167c0ff7449fd804cd6b41ce0de1e77f8fb","text":"Procedure for Processing Unsigned Updates\nIt is also possible that an update received in IGP (or iBGP) may have private ASNs in the AS path. These private ASNs would normally appear in the rightmost portion of the AS path. It was noted that in this case the private ASNs to the right would be removed (as done in traditional BGP), and then the update will be signed by the originating AS and announced to BGPsec-capable eBGP peers. See Section 7.5 of [RFC8205] for operational considerations for BGPsec in the context of private ASNs."}
{"_id":"q-en-rfc8205-3ec7e501c4c947d39c98336dddb34f9073d0c84f89500b0639f973f767474e67","text":"Response to Syntactic Errors in Signatures and Recommendations for How to React to Them\nAs stated above, a BGPsec router will follow whatever the current IETF (IDR WG) recommendations are for notifying a peer that it is sending malformed messages. Question: If the error is persistent and a full BGP table dump occurs, then would there be 500K such errors resulting in 500K \"notify\" messages sent to the peer that is generating the errors?  Answer: Rate limiting would be applied to the notify messages and should prevent any overload due to these messages."}
{"_id":"q-en-rfc8205-e8ac8bdcd69cf956b952136697135ef32850fc1a6d16ce8dbd4e2e3d34ac3eee","text":"Enumeration of Validation States\nIt may be noted that the result of update validation is just an additional input for the BGP decision process. The router's local policy ultimately has control over what action (regarding BGP path selection) is taken. Initially, four validation states were considered: The update is not signed. The update is signed, but the router does not have corresponding RPKI data to perform a validation check. The validation check was performed, and the check failed (Invalid). The validation check was performed, and the check passed (Valid). As stated above, it was later decided that BGPsec validation outcomes will be mapped to one of only two validation states. It was observed that an update can be invalid for many different reasons. To begin to differentiate these numerous reasons and to try to enumerate different flavors of the Invalid state will not likely be constructive in route-selection decisions and may even introduce new vulnerabilities in the system. However, some questions remain, such as the following: Question: Is there a need to define a separate validation state for the case when an update is not signed but the {prefix, origin} pair matches the ROA information?  After some discussion, a tentative conclusion was reached: this is in principle similar to validation based on partial path signing (which was ruled out; see Section 6.4). So, there is no need to add another validation state for this case; treat it as \"Invalid\", considering that it is unsigned. Another remaining question: Would the RP want to give the update a higher preference over another unsigned update that failed origin validation or over a signed update that failed both signature and ROA validation?"}
{"_id":"q-en-rfc8205-ff456b653f1cde53cb7c7e8b41068593acbf34e3a9cdb9df6a4f8373a9b42cc0","text":"Mechanism for Transporting Validation State through iBGP\nThe attribute used to represent the validation state can be carried between ASes, if desired. ISPs may like to carry it over their eBGP links between their own ASes (e.g., sibling ASes). A peer (or customer) may receive it over an eBGP link from a provider and may want to use it to shortcut their own validation check. However, the peer (or customer) should be aware that this validation-state attribute is just a preview of a neighbor's validation and must perform their own validation check to be sure of the actual state of the update's validation. Question: Should validation-state propagation be protected by attestation in cases where it is useful for diagnostics purposes?  The decision was made to not protect the validation-state information using signatures. The following validation states may be needed for propagation via iBGP between edge routers in an AS: Validation states communicated in iBGP for an unsigned update (route origin validation result): (1) Valid, (2) Invalid, (3) NotFound (see [RFC6811]), (4) Validation Deferred. An update could be unsigned for either of the following two reasons, but they need not be distinguished: (a) it had no signatures (i.e., came in unsigned from an eBGP peer) or (b) signatures were present but stripped. Validation states communicated in iBGP for a signed update: (1) Valid, (2) Invalid, (3) Validation Deferred. The reason for conveying the additional \"Validation Deferred\" state may be illustrated as follows. An ingress edge Router A receiving an update from an eBGPsec peer may not attempt to validate signatures (e.g., in a processor overload situation), and in that case Router A should convey \"Validation Deferred\" state for that signed update (if selected for best path) in iBGP to other edge routers. An egress edge Router B, upon receiving the update from ingress Router A, would then be able to perform its own validation (origin validation for an unsigned update or origin\/signature validation for a signed update). As stated before, the egress router (Router B in this example) may always choose to perform its own validation when it receives an update from iBGP (independently of the update's validation status conveyed in iBGP) to account for the possibility of RPKI data skew at different routers. These various choices are local and entirely at the operator's discretion."}
{"_id":"q-en-rfc8205-801d07f4bf270c9217ccab2fd247b494dce38d791741ed0989a213242b62afb8","text":"Interworking with BGP Graceful Restart\nBGP-GR can be implemented with BGPsec, just as it is currently implemented with traditional BGP. The Restart State bit, Forwarding State bit, End-of-RIB marker, staleness marker (in the Adj-RIB-In), and Selection_Deferral_Timer are key parameters associated with BGP-GR [RFC4724]. These parameters would apply to BGPsec, just as they apply to traditional BGP. Regarding what happens if the BGP router transitions from traditional BGP to BGP-GR to BGPsec, the answer would simply be as follows. If there is a software upgrade to BGPsec during BGP-GR (assuming that the upgrade is being done on a live BGP speaker), then the BGP-GR session should be terminated before a BGPsec session is initiated. Once the eBGPsec peering session is established, the receiving eBGPsec speaker will see signed updates from the sending (newly upgraded) eBGPsec speaker. There is no apparent harm (it may, in fact, be desirable) if the receiving speaker continues to use previously learned unsigned BGP routes from the sending speaker until they are replaced by new BGPsec routes. However, if the Forwarding State bit is set to zero by the sending speaker (i.e., the newly upgraded speaker) during BGPsec session negotiation, then the receiving speaker would mark all previously learned unsigned BGP routes from that sending speaker as \"stale\" in its Adj-RIB-In. Then, as BGPsec updates are received (possibly interspersed with unsigned BGP updates), the \"stale\" routes will be replaced or refreshed."}
{"_id":"q-en-rfc8205-a135bbd90e73e76d57ec53b0b19aa704650681f3ae9e477531f7021b4001e453","text":"BCP Recommendations for Minimizing Churn: Certificate Expiry\/Revocation and Signature Expire Time\nBCP recommendations for minimizing churn in BGPsec have been discussed. There are various potential strategies on how routers should react to such events as certificate expiry\/revocation and signature Expire Time exhaustion [Dynamics]. The details will be documented in the near future after additional work is completed."}
{"_id":"q-en-rfc8205-2f98231771245eb0d1c7e1129fce07239db8bb79ebcdb4214e9571d6f9f28424","text":"Outsourcing Update Validation\nPossibly, an off-router box (one or more per AS) can be used that performs path validation. For example, these capabilities might be incorporated into a route reflector. At an ingress router, one needs the Adj-RIB-In entries validated but not the RIB-out entries. So, the off-router box is probably unlike the traditional route reflector; it sits at the network edge and validates all incoming BGPsec updates. Thus, it appears that each router passes each BGPsec update it receives to the off-router box and receives a validation result before it stores the route in the Adj-RIB-In. Question: What about failure modes here?  The failure modes would be dependent on the following: How much of the control plane is outsourced. How reliable the off-router box is (or, equivalently, communication to and from it). How centralized vs. distributed this arrangement is. When any kind of outsourcing is done, the user needs to be watchful and ensure that the outsourcing does not cross trust\/security boundaries."}
{"_id":"q-en-rfc8205-01ecce450fa37e4bf2af682b416121f0fc2d54eab6589f13b4df5f720c752f5e","text":"New Hardware Capability\nIt is accepted that it might take several years to go beyond test deployment of BGPsec because of the need for additional route processor CPU and memory. However, because BGPsec deployment will be incremental and because signed updates are not sent outside of a set of contiguous BGPsec-enabled ASes, it is not clear how much additional (RIB) memory will be required during initial deployment. See [RIB_size] for preliminary results on modeling and estimation of BGPsec RIB size and its projected growth. Hardware cryptographic support reduces the computation burden on the route processor and offers good security for router private keys. However, given the incremental-deployment model, it also is not clear how substantial a cryptographic processing load will be incurred in the early phases of deployment. There are recent detailed studies that considered software optimizations for BGPsec. In [Mehmet1] and [Mehmet2], computational optimizations for cryptographic processing (i.e., ECDSA speedup) are considered for BGPsec implementations on general-purpose CPUs. In [V_Sriram], software optimizations at the level of update processing and path selection are proposed and quantified for BGPsec implementations."}
{"_id":"q-en-rfc8205-ea85ed16826a6b51a8954d2ce31efdc4a5ceda8e21ce459c5922ba0bae7e84dd","text":"Signed Peering Registrations\nThe idea of using a secure map of AS relationships to \"validate\" updates was discussed and rejected: such solutions were not pursued because they cannot provide strong guarantees regarding the validity of updates. Using these techniques, one can say only that an update is \"plausible\"; one cannot say that it is \"definitely\" valid (based on signed peering relations alone)."}
{"_id":"q-en-rfc8335-0ed947ae18f7272dfd19963c89835fb89b7c99c2038b5e0e429831bbb79f55b6","text":"Hi, Ron, et al., I'm a little confused at this proposal. First, IP addresses can be assigned to interfaces or hosts. Interfaces don't have to have IP addresses, esp. point-to-point interfaces or those used \"anonymously\" (e.g., for broadcast send\/receive). Second, I think the claim that this can measure \"unreachable\" interfaces is misleading. The doc assumes that the probed interface IS reachable - e.g., AFAICT, you can't find out anything that ICMP hopcount-exceeded wouldn't report. The only difference is that you can control the target better and that the response comes back as an Echo-reply (which might be less likely to be blocked than hopcount-exceeded). Third, the destination interface and probed interface need to share the same network stack, not just be on the same node. There are network stacks that isolate processing for different interfaces, which might not be able to see the state of other interfaces inside the same machine. Bug: Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. I think you mean \"if it can reach any interface on the node\", but again this is misleading as per above. Additionally, I think this might have an existing equivalent when the probed interface has an address, e.g., it really seems like it ought to be equivalent to an IP with LSR whose destination IP is the \"destination\" and whose probe IP is the LSR \"next hop\". In a sense, it seems like you're just extending ping with LSR that allows for using ifName, ifIndex, or non-IP addresses rather than just IP addresses. It might be useful to describe that way, FWIW. Also, IMO, the \"hopcount\" of this test ought to be decremented by 1 if the probed interface is not the received interface. Otherwise, you'd be reporting the same hopcount for the incoming interface and forwarded outgoing interfaces, which doesn't seem right to me. Joe On 6\/23\/2016 10:50 AM, Ronald Bonica wrote: Please review and comment. Ron -----Original Message----- From: [mailto:] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <; Reji Thomas <: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: Status: Htmlized: Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat _______________________________________________ Int-area mailing list"}
{"_id":"q-en-rfc8335-976c369b7fd900242fa8f964e72b4dbb79e0b7e415d0720604dbfb86681041b7","text":"Hi, Ron, Scanning through the document, please find a couple of quick questions and comments: 1. Have you considered an approach as in draft-shen-traceroute-ping-ext< which is more general and has potentially better changes of success (working on ICMP Echo but also UDP Ping and TCP Ping)? 2. What is the reason for the “by address” option? The main use case of this functionality as defined seems to be unnumbered \/ link-locals. And if there’s a need for “by address”, a proxy ping is more general. 3. The “by ifIndex” option is essentially pulling operational state out of a box — what’s the line between an SNMP get or reading operational info on \/interfaces-state\/interface\/oper-status vs. getting other node operational info (get CPU%)? And in this context, what’s the Auth model? Thanks! — Carlos. On Jun 23, 2016, at 1:50 PM, Ronald Bonica <<mailto:: Please review and comment. Ron -----Original Message----- From: <mailto:[mailto:] Sent: Thursday, June 23, 2016 11:08 AM To: Ronald Bonica <<mailto:; Reji Thomas <<mailto:: New Version Notification for draft-bonica-intarea-eping-00.txt A new version of I-D, draft-bonica-intarea-eping-00.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-bonica-intarea-eping Revision: 00 Title: Extended Ping (eping) Document date: 2016-06-23 Group: Individual Submission Pages: 12 URL: Status: Htmlized: Abstract: This document describes a new diagnostic tool called Extended Ping (eping). Network operators execute eping to determine whether a remote interface is active. In this respect, eping is similar to ping. Eping differs from ping in that it does not require network reachability between itself and remote interface whose status is being queried. Eping relies on two new ICMP messages, called Extended Echo and Extended Echo Reply. Both ICMP messages are defined herein. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org< The IETF Secretariat _______________________________________________ Int-area mailing list <mailto::\/\/"}
{"_id":"q-en-rfc8335-975c771eca02bf10d841ba54edb598d0a51729eb89eca2ab82ce8249a06a7544","text":"Hi Joe, Good to hear from you! Responses inline....... Ron -----Original Message----- From: Joe Touch [mailto:] Sent: Wednesday, June 29, 2016 5:11 PM To: Ronald Bonica <; Subject: Re: [Int-area] FW: New Version Notification for draft-bonica-intarea- eping-00.txt Hi, Ron, et al., I'm a little confused at this proposal. [RB ] \"Confusion is the welcome mat at the door to creativity.\" :-) First, IP addresses can be assigned to interfaces or hosts. Interfaces don't have to have IP addresses, esp. point-to-point interfaces or those used \"anonymously\" (e.g., for broadcast send\/receive). [RB ] Absolutely. In the draft, we talk about \"unnumbered interfaces\". These are interfaces to which an IP address has not been assigned. Second, I think the claim that this can measure \"unreachable\" interfaces is misleading. The doc assumes that the probed interface IS reachable - e.g., [RB ] You have a good point. I am using the words \"unreachable\" and \"unaddressable\" interchangeably. They aren't synonyms. An interface is totally unreachable if its operational status is down. It might be partially unreachable if it is partially isolated by ACLS. That isn't what we are talking about in the draft. In the draft, we are talking about unaddressable interfaces. While it may be possible to send a packet *through* an unaddressable interface, it is not possible to send a packet *to* an unaddressable interface. For example, it is impossible to send a packet to an unnumbered interface. It is also impossible to send a packet to an interface whose only address is link local from an off-net device. I will fix this in the next draft version. AFAICT, you can't find out anything that ICMP hopcount-exceeded wouldn't report. The only difference is that you can control the target better and that the response comes back as an Echo-reply (which might be less likely to be blocked than hopcount-exceeded). [RB ] There is another difference. In order to determine the status of the probed interface using hopcount-exceeded, you have to make the probe packet traverse the probed interface. This may not be possible. This is why we need both (traditional) ping and traceroute today. Third, the destination interface and probed interface need to share the same network stack, not just be on the same node. There are network stacks that isolate processing for different interfaces, which might not be able to see the state of other interfaces inside the same machine. [RB ] Not always. For example, in our implementation, it is possible to identify the destination by IPv4 address and the probed interface by IPv6 address. Yet IPv4 and IPv6 are different network layer protocols. Bug: Because the Extended Echo message makes a distinction between the destination and probed interfaces, eping can probe every interface on a node if it can reach any node on the node. I think you mean \"if it can reach any interface on the node\", but again this is misleading as per above. [RB ] Same response as above Additionally, I think this might have an existing equivalent when the probed interface has an address, e.g., it really seems like it ought to be equivalent to an IP with LSR whose destination IP is the \"destination\" and whose probe IP is the LSR \"next hop\". In a sense, it seems like you're just extending ping with LSR that allows for using ifName, ifIndex, or non-IP addresses rather than just IP addresses. It might be useful to describe that way, FWIW. [RB ] I'm not sure that I follow this paragraph. Also, IMO, the \"hopcount\" of this test ought to be decremented by 1 if the probed interface is not the received interface. Otherwise, you'd be reporting the same hopcount for the incoming interface and forwarded outgoing interfaces, which doesn't seem right to me. [RB ] Just to be specific, which packet should have its hopcount decremented and by which node? As always, thanks for the careful review Ron Joe"}
{"_id":"q-en-rfc8335-d32e5ad937bcda87e2095d92f03bf925be58a3d9c036ea807ba2084e768cbf56","text":"Hi, The draft says \".. the destination and probed interfaces must be local to one another (i.e., both interfaces must belong to the same node).\" However, virtualization raises some questions about how this should work, and maybe the draft should nail down some of the details with more clarity. What if the probed interface is assigned to a different VRF than the destination interface? e.g, What is the expected xping response if I receive on interface blue0 in the \"blue\" vrf, and red0 is in \"red\" VRF? Does the answer change if the destination interface is on the management VRF? similar question for other forms of virtualization, e.g,, What if the probed interface is assigned to a different network-namespace than the destination interface of an xping req? Does it matter if the above xping is received on the default network namespace vs some other network namespace? One could argue that all the physical intefaces are owned by the \"node\" (the management VRF? default netns?) but virtual interfaces like tunnels and macvlans are a grayer area (unlike physical interfaces, the latter do not default back to the mgmt VRF or default netns when the virtual object is destroyed, so their ownership is unclear). How should xping work in the face of virtual interfaces, e.g., the linux macvlan? How does it work when an interface is renamed? Will xping allow me to probe for \"tun0\" or \"Portchannel1\"? --Sowmini"}
{"_id":"q-en-rfc8335-2abec6764def80c495b8bc144a2f59a98616d14470f55ff1a4b8dc397bd14a02","text":"Hello Sowmini, Good point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ron -----Original Message----- From: Sowmini Varadhan [mailto:] Sent: Tuesday, March 28, 2017 5:32 PM To: Ron Bonica <; Reji Thomas <; ; Cc: ; Subject: question about xping (draft-bonica-intarea-eping) Hi, The draft says \".. the destination and probed interfaces must be local to one another (i.e., both interfaces must belong to the same node).\" However, virtualization raises some questions about how this should work, and maybe the draft should nail down some of the details with more clarity. What if the probed interface is assigned to a different VRF than the destination interface? e.g, What is the expected xping response if I receive xping-I red0\/0\/0.0 10.10.10.1 on interface blue0 in the \"blue\" vrf, and red0 is in \"red\" VRF? Does the answer change if the destination interface is on the management VRF? similar question for other forms of virtualization, e.g,, What if the probed interface is assigned to a different network-namespace than the destination interface of an xping req? Does it matter if the above xping is received on the default network namespace vs some other network namespace? One could argue that all the physical intefaces are owned by the \"node\" (the management VRF? default netns?) but virtual interfaces like tunnels and macvlans are a grayer area (unlike physical interfaces, the latter do not default back to the mgmt VRF or default netns when the virtual object is destroyed, so their ownership is unclear). How should xping work in the face of virtual interfaces, e.g., the linux macvlan? How does it work when an interface is renamed? Will xping allow me to probe for \"tun0\" or \"Portchannel1\"? --Sowmini"}
{"_id":"q-en-rfc8335-175ec4598e2716f3a3e52433423698887f62875c15ec0939afce0eb5b4cfb1d6","text":"On (03\/28\/17 22:27), Ron Bonica wrote: Good point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ok, but what about other forms of VRF-like virtualization like network namespaces? Things can get a bit trickier here because the same ifname can exist in multiple virtual objects. Also, interface ownership can be more blurry for some of these virtualization models like network namespaces- it's not always clear that the hypervisor (\"default netns\") owns the interface, when the interface is virtual. --Sowmini"}
{"_id":"q-en-rfc8335-8a87e6f3f5ba3ee679d9690fcd17877c63a3f166829b8a7685176589e81e3871","text":"Sowmini, You have convinced me that there should be no information leaking at all. So, I think that the next version of the draft should enforce the following rules: If the destination and probed interfaces are in the same VRF\/routing instance\/namespace, the ICMP Extended Echo Reply message will reflect the state of the probe interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. Do you agree? Ron -----Original Message----- From: Sowmini Varadhan [mailto:] Sent: Tuesday, March 28, 2017 6:42 PM To: Ron Bonica <: Reji Thomas <; ; ; Subject: Re: question about xping (draft-bonica-intarea-eping) On (03\/28\/17 22:27), Ron Bonica wrote: Good point! We addressed this in a previous version of the draft, but accidentally dropped it from the current version. Our current thinking is: If the destination and probed interfaces are in the same VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface If the destination interface is in the general or management VRF and the probed interface is in another VRF, the ICMP Extended Echo Reply message will reflect the state of the probed interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. I will add this back to the next revision of the draft. Ok, but what about other forms of VRF-like virtualization like network namespaces? Things can get a bit trickier here because the same ifname can exist in multiple virtual objects. Also, interface ownership can be more blurry for some of these virtualization models like network namespaces- it's not always clear that the hypervisor (\"default netns\") owns the interface, when the interface is virtual. --Sowmini"}
{"_id":"q-en-rfc8335-5d94adb0f05714d2fcb07476b0f898ab8702924699b1f4a2d961ddedb38098c7","text":"On (03\/29\/17 14:50), Ron Bonica wrote: Sowmini, You have convinced me that there should be no information leaking at all. So, I think that the next version of the draft should enforce the following rules: If the destination and probed interfaces are in the same VRF\/routing instance\/namespace, the ICMP Extended Echo Reply message will reflect the state of the probe interface Otherwise, the ICMP Extended Echo message will contain an error code indicating that the probed interface does not exist. Do you agree? Yes, that's a much more consistent model (esp since the same IP address can itself exist in multiple VRFs) and also extends without loss of generality to other virtualization models. thanks for addressing this! --Sowmini"}
{"_id":"q-en-rfc8335-42ac37f117cb49b70f74522e0defda967bd6f01cd4cbf5b94433e73df9cc5cf4","text":"Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). * \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). * \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" * \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? * \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3?"}
{"_id":"q-en-rfc8335-cfd432ea85221502b2dae294d2b61c3effa369ec0c2960bd5afac9c49b0c6aef","text":"Hello Yaron, Thanks for the thoughtful review. Responses inline...... Ron -----Original Message----- From: Yaron Sheffer [mailto:] Sent: Saturday, December 2, 2017 4:35 PM To: Cc: ; ; Subject: Secdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Yaron Sheffer Review result: Has Issues Summary The Security Considerations section is extensive, given that this is not a major protocol. However I think a few additional security risks should be mentioned, see below. In addition, there are several points where this (arguably uneducated) reader was confused, and which could benefit from additional clarity. Details (security-related) The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. * Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. * \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. [RB ] I agree with all of the points that you raise above, except for the part about white listing. This isn't security theater. It's real. For the most part, hosts will stick with the default PROBE configuration. That is, they won't honor an ICMP Extended Echo Request of any type from any source. A good number of network operators will enable PROBE on their routers, but for the reasons that you point out above, they won't want their routers being probed from untrusted subnetworks. They will probably restrict probe access to a few trusted subnets that are within their administrative domain (e.g., the NOC, network controllers). I doubt if anyone will expose their routers to PROBING from all points on the Internet. Other Details Abstract: I think the word \"alternatively\" should really be \"instead\" (also in the Introduction). [RB ] I can fix that in the next version \"The proxy interface resides on a probed node\" - this contradicts the previous paragraph that states that either the proxy is on the same node, or it has direct connectivity to it (and is presumably on a different node). [RB ] Joel Halpern raised the same point in his review. In the next version, the probed node will be called the proxy node. \"The probed interface can reside on the probed node or it can be directly connected to the probed node.\" I'm confused. This contradicts the first paragraph of the Intro: \"The probing interface resides on a probing node while the probed interface resides on a probed node.\" [RB ] Same fix as above \"encapsulated in an IP header\" - shouldn't that be \"in an IP packet\" (at least for IPv4)? [RB ] I will check RFC 792 and use whatever words they used \"Ethernet is running on the probed interface\" - is this well-defined? There are numerous 802.* protocols. Do we mean any of them? Or just 802.3? [RB ] Joel Halpern raised the same issue in his review. We will rename this bit to indicate that it is a Pseudowire endpoint, without mentioning what kind of PW endpoint it is. Ron"}
{"_id":"q-en-rfc8335-bebdde8fd0217103b14325868de58e2a93f1121adafceb7665bff31e027e79f0","text":"Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? View Inlinedraft-ietf-intarea-probe.txt:365 Ethernet is running on the probed interface. Otherwise, the E-bit is clear. This seems pretty limited. Does \"WiFi\" count for instance?"}
{"_id":"q-en-rfc8335-5fca045b0fa5c892c10b3a3192745d5ddc31ee5707fb8a342bf055066358bb2f","text":"Hi Eric, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Eric Rescorla [mailto:] Sent: Tuesday, December 12, 2017 7:21 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Eric Rescorla's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection [RB ] [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? [RB ] The ACL doesn't list all probe-capable nodes. It is configure on a probe-capable node and it enumerates the prefixes from which it will accept an ICMP Extended Echo Request. For example, assume that an ISP deploys PROBE capable software on its routers. By default, these routers won't accept an ICMP Extended Echo Request from anybody. The ISP will probably want to enable PROBE, but only if the ICMP Extended Echo Request comes from the NOC or from a few other trusted prefixes. So, the ISP will put those prefixes into the ACL. I am thinking that the number of prefixes will typically be very small (e.g., the NOC). or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. [RB ] The proxy node could ping the probed interface, but that would require the router to main state. We don't want to go there for scaling and security reasons. Rather than doing that, PROBE looks for an entry in the ARP Table and Neighbor Cache. Prior version 08 of this draft, the proxy node assumed that the probed interface does not exist if it is not in the ARP Table and Neighbor Cache. IETF LC reviewers pointed out that this assumption is not safe. So now, the proxy node reports that the table entry does not exist. In no longer reports that the interface does not exist. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? [RB ] This is a parameter to the Probe application. See the appendix. View Inlinedraft-ietf-intarea-probe.txt:365 Ethernet is running on the probed interface. Otherwise, the E-bit is clear. This seems pretty limited. Does \"WiFi\" count for instance? [RB ] The E-bit was removed in response to last call comments"}
{"_id":"q-en-rfc8335-07465a6e86a5c3f7ecc2e2021bd26467423daef416cf02f32dbc23a0207770e4","text":"On Wed, Dec 13, 2017 at 1:43 PM, Ron Bonica <: Hi Eric, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Eric Rescorla [mailto:] Sent: Tuesday, December 12, 2017 7:21 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Eric Rescorla's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Eric Rescorla has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection [RB ] [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- I share Yaron Sheffer's concern about the incoming ACL. Do you really mean to list all the probe-capable nodes? [RB ] The ACL doesn't list all probe-capable nodes. It is configure on a probe-capable node and it enumerates the prefixes from which it will accept an ICMP Extended Echo Request. For example, assume that an ISP deploys PROBE capable software on its routers. By default, these routers won't accept an ICMP Extended Echo Request from anybody. The ISP will probably want to enable PROBE, but only if the ICMP Extended Echo Request comes from the NOC or from a few other trusted prefixes. So, the ISP will put those prefixes into the ACL. I am thinking that the number of prefixes will typically be very small (e.g., the NOC). Thanks. or IPv6 Neighbor Cache [RFC4861]. Otherwise, it reports that the interface does not exist. Hmm... So you don't try to ping it yourself? That's interesting. [RB ] The proxy node could ping the probed interface, but that would require the router to main state. We don't want to go there for scaling and security reasons. Rather than doing that, PROBE looks for an entry in the ARP Table and Neighbor Cache. Prior version 08 of this draft, the proxy node assumed that the probed interface does not exist if it is not in the ARP Table and Neighbor Cache. IETF LC reviewers pointed out that this assumption is not safe. So now, the proxy node reports that the table entry does not exist. In no longer reports that the interface does not exist. OK. the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. Maybe I'm missing something here, but how does the probing node know? I.e., can it address by IP address and set L=0? [RB ] This is a parameter to the Probe application. See the appendix. I did note that. It seems kind of limited, but it's your choice, obviously -Ekr"}
{"_id":"q-en-rfc8335-cf2cb4743fe6d2016ea17ed87e50956505ff1a816532cafee229ae44d142cc3e","text":"Section 2.1: If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. The interface name MAY be some other human- meaningful name of the interface. The interface name MUST be represented in the UTF-8 charset [RFC3629] using the Default Language [RFC2277]. As I mentioned during the meeting today, the above text has a bunch of problems as written: 1) Saying UTF-8 is not sufficient, you need to discuss normalization form, etc. See RFC 7564. You can't just copy a paragraph from some other spec, you have to determine what properties you actually want, but the Precis WG defined a number of reusable classes. There are precis experts that can help the WG determine what profile is most appropriate. 2) You can't truncate a UTF-8 string at 255 octets and still have a valid UTF-8 string, since characters can span multiple octets and you might truncate in the middle and get a partial character, which leaves you with an invalid string. 3) The length restriction is only part of the SHOULD. Does that mean that if you follow the MAY, there is no such length restriction? Dave -----Original Message----- From: Int-area [mailto:] On Behalf Of Ron Bonica Sent: Wednesday, July 12, 2017 5:46 PM To: ; Carlos Pignataro (cpignata) <: Re: [Int-area] I-D Action: draft-ietf-intarea-probe-00.txt Hi Carlos, Thanks for the review. Inline, below. Ron Hi, Ron, Authors, As I was reading over draft-ietf-intarea-probe-00, and wanted to share a couple of observations for your consideration. Have you considered the tradeoff of defining new ICMP Types versus extending existing ICMP Types? If using existing ICMPv6 Echo Request\/Reply and extending them instead of defining brand new types, the backwards interoperability achieved is higher [ [RB ] I thought about extending the existing ICMP messages, but decided against it for backward compatibility reasons. Both existing messages end with a variable length data field. This field begins at a fixed position, but doesn't have a length attribute of its own. Therefore, we can't add any more fields after it. There may be ways to dance around the problem, but they all involve redefining the existing field in the existing message. Have you considered using other protocols as well in addition to ICMP for the PROBE message, which can elicit ICMP errors or responses with appropriate extensions? In particular UDP is a protocol much used and desired for probes. [RB ] ICMP and UDP would both work. I chose ICMP because ICMP already supports legacy echo\/echo reply. But I'm not feeling religious about this. In the final analysis, I am willing to use whatever protocol the WG prefers. These two points actually reminded me of .ietf.org%2Fhtml%2Fdraft-&data=02%7C01%7Cdthaler%40microsoft.com%7C4f6 74c9180bf4a15581408d4c93d18ff%7C72f988bf86f141af91ab2d7cd011db47%7C1%7 C0%7C636354711627226706&sdata=G5vSnrYbaFBryTvzh5pn3AVaJz3hURtt1PJYLVah rnM%3D&reserved=0 shen-traceroute-ping-ext-04 (and the ICMP-only predecessor draft-shen- udp-traceroute-ext-01) that defines a probe extension applied to ICMP Echo Request and UDP, and RFC 4884 extensions to responses. That approach seems somewhat more generic. Additionally, I was also reminded of the ICMP AUP at RFC 7279, it would be useful to map against that doc to show how this is (as it is the case) a really good use of ICMP. [RB ] Section 3 of 7279 suggests that ICMP can be used for diagnostics. It calls out PING as being an acceptable use. But again, I don't feel religious about this. The protocol works over UDP just as well as it works over ICMP. Ron Thanks! ? Carlos. ******************************* _______________________________________________ Int-area mailing list"}
{"_id":"q-en-rfc8335-02a6206747c87dc98be5ddb661266b671a338025dcef6270ba1fa357e8775f51","text":"It's partly there, but not quite ready. If the Interface Identification Object identifies the probed interface by name, the object payload contains the human-readable interface name. The interface name SHOULD be the full MIB-II ifName, if less than 255 octets, or the first 255 octets of the ifName, if the ifName is longer. First, you and I talked about it being required to be an ifName, where above still has a SHOULD. Second, ifName is defined as a DisplayString, and DisplayString is defined as 0-255 ASCII characters, so the truncation part is irrelevant. I would replace the paragraph with just: If the Interface Identification Object identifies the probed interface by name, the object payload MUST be the MIB-II [RFC2863] ifName. Dave -----Original Message----- From: Ron Bonica [mailto:] Sent: Saturday, July 22, 2017 12:29 PM To: ; ; Dave Thaler <: FW: New Version Notification for draft-ietf-intarea-probe-02.txt Folks, I have updated draft-intarea-probe-02 to reflect Dave Thaler' s comment. Dave, Please look at the diff to see of this change reflects your recommendation. Chairs, If Dave thinks that his comment has been addressed, could we initiate a WG last call? Ron -----Original Message----- From: [mailto:] Sent: Saturday, July 22, 2017 9:21 PM To: Ron Bonica <; Mohamed Boucadair <; Jen Linkova <; Reji Thomas <; J. Linkova <; Chris Lenart <: New Version Notification for draft-ietf-intarea-probe-02.txt A new version of I-D, draft-ietf-intarea-probe-02.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 02 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-07-22 Group: intarea Pages: 17 URL: etf.org%2Finternet-drafts%2Fdraft-ietf-intarea-probe- 02.txt&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f35 5b08d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636 363485276071855&sdata=3l%2Fi4WAtbXZ2uVedTddXWgVRjPSoHDCcavUH2lp Lf90%3D&reserved=0 Status: acker.ietf.org%2Fdoc%2Fdraft-ietf-intarea- probe%2F&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b 1f355b08d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C 636363485276071855&sdata=sYgNOiyesuofXlBYj%2F9LhZ6yDsyx6VDS9nV%2B 17uRbcY%3D&reserved=0 Htmlized: etf.org%2Fhtml%2Fdraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=ri9slj0Joixtj7k3cpd4PP56eduGh941783bRVAK9mY%3D &reserved=0 Htmlized: acker.ietf.org%2Fdoc%2Fhtml%2Fdraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=LAIOJahlwvEKNYddfaJ7ARDmYZSR%2FiG%2B3JqP6kAG DZI%3D&reserved=0 Diff: etf.org%2Frfcdiff%3Furl2%3Ddraft-ietf-intarea-probe- 02&data=02%7C01%7Cdthaler%40microsoft.com%7Ce8cc698fc9b94b1f355b0 8d4d137dddb%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636363 485276071855&sdata=5ZOJy6AIPCx9pErz7Mw96t8u6eB7gZvWUJ%2F9V%2Bq DmRw%3D&reserved=0 Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to test the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Alternatively, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"q-en-rfc8335-8b9057c5f22224c329e6ac9b189ebe5a155328d6809bf2522a70aa85628ffbee","text":"Reviewer: Jean-Michel Combes Review result: Almost Ready Hi, I am an assigned INT directorate reviewer for draft-ietf-intarea-probe-06. These comments were written primarily for the benefit of the Internet Area Directors. Document editors and shepherd(s) should treat these comments just like they would treat comments from any other IETF contributors and resolve them along with any other Last Call comments that have been received. For more details on the INT Directorate, see PROBE: A Utility For Probing Interfaces draft-ietf-intarea-probe-06 <snip1. Introduction <snipIf the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table or the IPv6 Neighbor Cache. Otherwise, it reports that the interface does not exist. <JMCComment: Normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861) are missing. <\/JMC<snip2. ICMP Extended Echo Request <snipo L (local) - The L-bit is set of the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. <JMCTypo: s\/\"The L-bit is set of the probed interface resides on the probed node.\"\/\"The L-bit is set if the probed interface resides on the probed node.\" <\/JMC<snip3. ICMP Extended Echo Reply <snipo F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMCQuestion: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? <\/JMC4. ICMP Message Processing <snipo Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC<snip8. Security Considerations <snipIn order to protect local resources, implementations SHOULD rate-limit incoming ICMP Extended Echo Request messages. <JMCComment: IMHO, the main security threat I see with this mechanism is to use it as \"reflection\" scanning: to discover nodes \"behind\" the proxy interface, without raising alarms from security probes watching the networks hosting these nodes. So, rate-limit can help to mitigate this potential threat too. <\/JMC9. References 9.1. Normative References <snip<JMCComment: Too add normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861), as commented previously. <\/JMC<snipThanks in advance for your replies. Best regards, JMC."}
{"_id":"q-en-rfc8335-16cd3e69a27969315bc7139ea5d92a326c4c8d2fe8dea86e37a5b78d5d268c78","text":"Jean-Michele, Thanks for the thoughtful review. I will post a new version addressing your comments today or tomorrow. Responses inline...... Ron Subject: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Message-ID: <-Type: text\/plain; charset=\"utf-8\" Reviewer: Jean-Michel Combes Review result: Almost Ready Hi, I am an assigned INT directorate reviewer for draft-ietf-intarea-probe-06. These comments were written primarily for the benefit of the Internet Area Directors. Document editors and shepherd(s) should treat these comments just like they would treat comments from any other IETF contributors and resolve them along with any other Last Call comments that have been received. For more details on the INT Directorate, see 3A__ bfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=VGSSVlquIpFROEmOdJ5fpnG3ivRSQQaY23hP8P0 dBQs&s=mO2Ham-yMdBeeKDYThOOP6vfCePpUoAVnBorws9AIuU&e=. PROBE: A Utility For Probing Interfaces draft-ietf-intarea-probe-06 <snip1. Introduction <snipIf the probed interface resides on a node that is directly connected to the probed node, PROBE reports that the interface is up if it appears in the IPv4 Address Resolution Protocol (ARP) table or the IPv6 Neighbor Cache. Otherwise, it reports that the interface does not exist. <JMCComment: Normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861) are missing. <\/JMC<snip[RB ] Good catch. Fixed in next version. 2. ICMP Extended Echo Request <snipo L (local) - The L-bit is set of the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node. <JMCTypo: s\/\"The L-bit is set of the probed interface resides on the probed node.\"\/\"The L-bit is set if the probed interface resides on the probed node.\" <\/JMC<snip[RB ] Another good catch. Fixed in the next version. 3. ICMP Extended Echo Reply <snipo F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMCQuestion: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? <\/JMC[RB ] This was a typo. I meant to say: 0 E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear. 4. ICMP Message Processing <snipo Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. 8. Security Considerations <snipIn order to protect local resources, implementations SHOULD rate-limit incoming ICMP Extended Echo Request messages. <JMCComment: IMHO, the main security threat I see with this mechanism is to use it as \"reflection\" scanning: to discover nodes \"behind\" the proxy interface, without raising alarms from security probes watching the networks hosting these nodes. So, rate-limit can help to mitigate this potential threat too. <\/JMC[RB ] Yes, this does slow down the scanning attack. But it doesn't really mitigate it. The savvy attacker will scan slowly. Thanks again for the thorough review. Ron 9. References 9.1. Normative References <snip<JMCComment: Too add normative references to \"IPv4 Address Resolution Protocol (ARP) table\" (i.e., RFC 826) and \"IPv6 Neighbor Cache\" (i.e., RFC 4861), as commented previously. <\/JMC<snipThanks in advance for your replies. Best regards, JMC. ------------------------------ Subject: Digest Footer _______________________________________________ Int-area mailing list 3A__ 2Darea&d=DwICAg&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=VGSSVlquIpFROEmOdJ5fpnG3ivRSQQaY23hP8P0 dBQs&s=Y0X9xlzWjiF5Nk7ImagKKmupi29NSBXKlHFhrzO7dYc&e= ------------------------------ End of Int-area Digest, Vol 146, Issue 28 *****************************************"}
{"_id":"q-en-rfc8335-a6a3f0e945aa3e35902c594a1469cc5ae17dcf11c27b0d1d9270112bc7dcd535","text":"Hi Ron, 2017-10-30 16:13 GMT+01:00 Ron Bonica <: Jean-Michele, Thanks for the thoughtful review. I will post a new version addressing your comments today or tomorrow. Responses inline...... Ron <snip3. ICMP Extended Echo Reply <snipo F (IPv4) - The F-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the F-bit is clear. o S (IPv6) - The S-bit is set if the A-bit is also set and IPv6 is running on the probed interface. Otherwise, the S-bit is clear. o E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear. <JMCQuestion: Why IPv4 must also run to have the E-bit set? Question: Why the E-bit is not set if IPv4 is not running and IPv6 is running? <\/JMC[RB ] This was a typo. I meant to say: 0 E (Ethernet) - The E-bit is set if the A-bit is also set and Ethernet is running on the probed interface. Otherwise, the E-bit is clear. <JMCOK. <\/JMC4. ICMP Message Processing <snipo Set the Code field as described Section 4.1 o If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit. o If the Code Field is equal to No Error (0) and the L-bit is set and the probed interface is active, set the A-bit. <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMCBut, even if this is ambiguous, IMHO, all the interfaces are active =A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC<snipBest regards, JMC."}
{"_id":"q-en-rfc8335-ec4095ce715d5c6f099810fe2106312681802edd47aa7e561975a1a8df653fbb","text":"Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? Ron <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMCBut, even if this is ambiguous, IMHO, all the interfaces are active =A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC<snipBest regards, JMC."}
{"_id":"q-en-rfc8335-1fc775d10081cc7650a447fe225213a225a01e8b2168a89823560db99d70ad1f","text":"Hi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMCYour opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP\/NC allows only to identify active interfaces). Correct? Best regards, JMC. <\/JMCRon <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMCBut, even if this is ambiguous, IMHO, all the interfaces are active =A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC<snipBest regards, JMC."}
{"_id":"q-en-rfc8335-7f2b996dce57b4227f324a68094cfe0bffec6f8f98039eb136758d4283835d99","text":"Jean-Michel, I understand that Probe addresses two operational needs. One need is to probe the local node and the other is to probe a directly connected node. But in either case, Probe semantics must be consistent. Probe queries the status of exactly one interface. Regardless of whether the L-bit is set or clear, if two interface satisfy the Extended Echo Request Match criteria, the Extended Echo Reply must return an error code (3). Returning any information beyond that would be risky. For example, assume that both interfaces are active, one is running IPv4 only and the other is running IPv6 only? What would the Extended Echo Reply return? Ron From: Jean-Michel Combes [mailto:] Sent: Monday, November 6, 2017 7:09 AM To: Ron Bonica <: Subject: Re: [Int-area] Intdir early review of draft-ietf-intarea-probe-00 Hi Ron, 2017-10-31 17:45 GMT+01:00 Ron Bonica <<mailto:: Hi Jean-Michel, The semantic of this utility is to probe exactly one interface at a time. If multiple interfaces satisfy query’s match conditions, Probe can’t provide a response. I agree that Probe could set the A bit if all of the interfaces are active. But what should it do if one interface is active and the other is not? <JMCYour opinion differs from my opinion because, IMHO, yours is mainly based on the \"probed interface resides on the probed node\" (i.e., it is possible to identify some interfaces are active and some not) and mine is mainly based on the \"probed interface doesn't reside on the probed node\" (i.e., ARP\/NC allows only to identify active interfaces). Correct? Best regards, JMC. <\/JMCRon <JMCQuestion: Why the A-bit is not set when Code Field is equal to Multiple Interfaces Satisfy Query (3) and the L-bit is clear? Question: Same question when L-bit is set. <\/JMC<snip[RB ] Error code 3 (Multiple Interfaces Satisfy Query) means that they query is ambiguous. Or, on other words, that two or more interfaces satisfy the match conditions specified by the query. So, we can't set the A, F, S or E bits because we don't know which interface the user is asking about. <JMCBut, even if this is ambiguous, IMHO, all the interfaces are active =A-bit should be set And Error Code 3 returned to probing interface raises this is ambiguous. Now, I am OK that F, S and E should be cleared to avoid any confusion between the different interfaces. Did I miss something? <\/JMC<snipBest regards, JMC."}
{"_id":"q-en-rfc8335-860679b495c25f719bb145dd1099751906bf281a8e396644f3a7c8081dd2abd2","text":"Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\""}
{"_id":"q-en-rfc8335-5b1392dd3cb14970f30b587f94992c556032424d94796b3ef1567354c5958e4b","text":"Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision."}
{"_id":"q-en-rfc8335-f04dfec8f9bc49672bf1d411e093cded220821423af504f2906ce2d73431d848","text":"Reviewer: Stefan Winter Review result: Has Issues Issues: Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. Request -L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L-Bit clear is default off already. Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. Nits: Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous."}
{"_id":"q-en-rfc8335-7c2a4ca2447b6f908b836a231ee81750428de93c22e9406c7bc158a873b2816c","text":"Stephan, Thanks for the thoughtful review. Responses inline. Rpn -----Original Message----- From: ietf [mailto:] On Behalf Of Stefan Winter Sent: Monday, December 4, 2017 9:02 AM To: Cc: ; ; Subject: Opsdir telechat review of draft-ietf-intarea-probe-07 Reviewer: Stefan Winter Review result: Has Issues Issues: Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false. [RB ] If the L-bit is clear, the proxy interface does not ping the probed interface. Instead, the node upon which the proxy interface resides executes the following procedure: Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such Interface If an entry is found, send a reply stating that the interface is active As you point out, the node upon which the proxy interface resides cannot infer that an interface is active because it appears in the ARP Table \/ Neighbor Cache. Likewise, the node upon which the proxy interface resides cannot infer that an interface does not exist because it does not appear in the ARP Table \/ Neighbor Cache. So, I recommend that we change the procedure as follows: Search ARP Table \/ Neighbor Cache for the address that appear in the Interface Identification Object. If no entry is found, send a reply stating No Such ARP \/ NC Entry (This is a new error code) If an entry is found, send a reply with error code equal to 0 and the A, F, and S flags all clear Does this work for you? Request -L-Bit. I don't get it. The Request part of the spec is used by the probING node. It always sends the request to a proxy node. The proxy node then is the one to figure out by local state if the interface that is to be probed is local to itself, or on a link. [RB ] Sometimes, this is not possible. For example, assume that a router has interfaces ge-0\/0\/0.0 and ge-0\/0\/1.0. The local side of ge-0\/0\/0.0 had the IPv6 link local address fe80::dead:beef. The remote side of the interface ge-0\/0\/1.0 has the same IPv6 link local address. The user can set or clear the L-bit to indicate which interface is being probed. Without the L-but, PROBE would return an error (Multiple Interfaces Satisfy Query). [RB ] Now the question is of course: what purpose does setting the L-Bit on the *request* serve? The probed interface either is local to the proxy node or it's not; no amount of flipping bits changes the reality. I can see how this L-bit information could be set in a *Response* as an information element. But that's not what the document says; [RB ] See above the document actually states two contradictory things a) L (local) - The L-bit is set if the probed interface resides on the probed node. The L-bit is clear if the probed interface is directly connected to the probed node [doesn't make sense, see above] [RB ] How are these contradictory? The user sets the L-bit if the proxy and probed interfaces are on the same node. The user clears the L-bit of the proxy interface is on a node that is directly connected to the probed interface? b) If the L-bit is set, the Interface Identification Object identifies the probed interface by name, index or address. It the L-bit is clear, the Interface Identification Object identifies the probed interface by address. [ makes more sense, but conflicts with previous statement] [RB ] I don't see the contradiction. If you are querying a non-local interface, you are going to search the ARP Table \/ Neighbor Cache. So, you need to query by address. You don't know the remote interface name or interface index. The latter formulation be also begs the questions a) why would one ever clear the L-Bit; identifying an interface by address is also possible when it's set, so setting the L-bit is fit for all situations envisaged and provides a true superset of functionality that L-Bit cleared offers; b) what do you mean with \"name, index **or** address\". Is that an exclusive OR, or any subset of the three, or can they all three be set? Later text suggests that each Interface Identification Object can carry only one of the three (XOR), but previous text suggests that two such Objects might be required for unique idenficiation. So in the end either one or two can be used to identify an object, but not all three? That's totally fine, but could be made more obvious. I also suggest to ditch the L-Bit and operate in a mode as if the L-Bit was always set. It adds no value. I also contemplate later in the text that L-Bit set is default-on while L- Bit clear is default off already. [RB ] I'm not sure that I follow this paragraph Response (chapter 3) The choice of flag names is not very intuitive. Why is IPv4 \"F\" and IPv6 \"S\"? I understand that those are the first letters of the words FOUR and SIX in English. But maybe the flags could actually be named \"4\" and \"6\". Those are ASCII characters like any other, and have a more direct recognition by humans (e.g. when the flags are displayed in protocol decoders). [RB ] Fair enough. I will change them to 4-bit and 6-bit Chapter 4, authorisation: \"not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" I don't understand why the L-bit is a major decision point for authorisation checks. It is in principle superfluous anyway as above, and then one is expecting that policy decisions of sorts \"this probing address is allowed ask for interfaces based on properties different from the address, but this other node is only allowed to operate on address\"? The use case for that escapes me; and also, it can be achieved with \"define enabled query types\" as per Security Considerations. [RB ] This objection may be cleared up as a side effect of clearing the previous objection Security Considerations \"For example, a malicious party can use PROBE to discover interface names.\" This would be discovery by brute forcing the interface name space? Because the reply doesn't give away the name when the request was via address - right? It would be good to make clear that this discovery has to happen as a hit-and-miss of guessed names rather than getting an enumeration on the silver platter. OTOH, there are many well-known naming conventions for interfaces and it's more like a dictionary attack rather than simple brute-force. [RB ] It is a dictionary attack using a very small dictionary ;-) My point wasn't so much to explain how an attacker might discover interface names, but to warn that it is possible. Nits: Chapter 2, Page 4, first bullet of the \"ICMP fields\" enumeration. The value is TTTT0 (four T's) but you then ask IANA to register things with only TTTx (three T's). The fourth T is superfluous. [RB ] Good catch. Fixed in the next version."}
{"_id":"q-en-rfc8335-1323a65680f44fc88dba1a867ef9f72ed330b1069ce900f5bcd6c03f1efc375d","text":"Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12\/4\/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision."}
{"_id":"q-en-rfc8335-75ab5dd90a6c6025c18a5d911ce93f26195dea316c8c17bcd190c0207e8b4576","text":"Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12\/4\/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision."}
{"_id":"q-en-rfc8335-2b39626cac0c95b69388e18e0d1bb33c37a4b12e01f028fed6484d085a20a826","text":"I followed up with Ron on this a bit off-list to try to understand the goal of the E (or P) bit. (My understanding was clealry not a show stopper for advancing the draft.) After some explanation, I asked the following question (Ron suggested I send it to the list.) It seems you are trying to provide clarity for the neither F nor S case? If one had a pure bridge, with IP control, that supported this probe mechanism, couldn't you get the same \"neither F nor S\" answer? Or an ATM switch, or ...? Yours, Joel O"}
{"_id":"q-en-rfc8335-8fd7bbeb71bd46ab752e7700e65e3efa402b51d3c220570127f5489283e9b377","text":"I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12\/4\/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list"}
{"_id":"q-en-rfc8335-0b775ba90c62fe978faf28ee57f951720b621591d78bfdb89b0190df5d8b727d","text":"Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12\/4\/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list 3A__ man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e="}
{"_id":"q-en-rfc8335-201f0abbb6b9a60becba6ab719fc61fa400d02bdb7396badc111532936a2e42e","text":"That would be fa reasoanble way to address my genart review question. Yours, Joel On 12\/6\/17 11:13 AM, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12\/4\/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list 3A__ man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e="}
{"_id":"q-en-rfc8335-51271ce97594691a7d48681b18dda1ef597c07541c30d3fde4c50214792365ce","text":"Ron, Yes you can always add it in later as an update after thinking through the problem in more detail. Stewart On 06\/12\/2017 16:13, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12\/4\/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list 3A__ man_listinfo_gen-2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e="}
{"_id":"q-en-rfc8335-b34b249f230e50fd40ff828007ca6f247e6f4dcc2e7419ffc9a613312432d9bb","text":"Works for me. -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 12:19 PM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 Ron, Yes you can always add it in later as an update after thinking through the problem in more detail. Stewart On 06\/12\/2017 16:13, Ron Bonica wrote: Stewart, Having thought about it for a while, you may be right. PROBE was meant to be an IP tool. Pseudo-wire endpoints were an afterthought, and not a very good afterthought at that. Let's remove the E-bit (aka P-bit) and limit Probe to querying the status of IP interfaces. Ron -----Original Message----- From: Stewart Bryant [mailto:] Sent: Wednesday, December 6, 2017 6:24 AM To: Ron Bonica <; Joel M. Halpern <; Cc: ; ; ; ; ; ; The IESG <: Re: [Gen-art] Genart telechat review of draft-ietf-intarea-probe-07 I cannot quite work out from the document how this works, but if we are going to PING non-IP interfaces I think the groups that work on those need some time to reflect on the implications. There are certainly a number of non-IP interfaces that may have Ethernet addresses. However, I am not sure from a quick look at the text how you would address any interface running a PW other than Ethernet. Bottom line, I think this needs to either preclude non-IP interfaces, or the groups that work with non-IP interfaces need to think through the implications, and possibly propose new identifier types. Stewart On 04\/12\/2017 22:48, Ron Bonica wrote: Joel, The important piece of information is that this is a pseudowire endpoint. These days, most pseudowire endpoints seem to be Ethernet. But some aren't. There are still some legacy layer 2 pseudowires hanging around. So, since we can't enumerate every type of pseudowire endpoint, we might as well just call it a pseudowire endpoint and provide no further information about the type. Ron -----Original Message----- From: Joel M. Halpern [mailto:] Sent: Monday, December 4, 2017 4:19 PM To: Ron Bonica <; Cc: ; ; Subject: Re: Genart telechat review of draft-ietf-intarea-probe-07 Thank you Ron. On the E-bit (or P-Bit), is the important goal that it is a virtual interface, that it is pseudowire, or ? It might help there text indicating what a receiver might do differently based on this bit being set or unset. Having said that, Ethernet Pseudowire is at least a clearer distinction than just \"Ethernet\". And as long as the bit has a clear definition, any disagreement about what \"should\" be identified is clealry NOT a show stopper. Yours, Joel On 12\/4\/17 4:13 PM, Ron Bonica wrote: Hi Joel, Thanks for the review. Responses inline...... Ron -----Original Message----- From: Joel Halpern [mailto:] Sent: Thursday, November 30, 2017 4:45 PM To: Cc: ; ; Subject: Genart telechat review of draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review result: Almost Ready I am the assigned Gen-ART reviewer for this draft. The General Area Review Team (Gen-ART) reviews all IETF documents being processed by the IESG for the IETF Chair. Please wait for direction from your document shepherd or AD before posting a new version of the draft. For more information, please see the FAQ at < 3A__trac.ietf.org_trac_gen_wiki_GenArtfaq&d=DwICaQ&c=HAkYuh63rsuhr 6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir- BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=hKAAxSQXBFWxkxtwUUKzdYcvZ22_3zrp0OZhHK V2AH4&s=X_Kje37D5HB_DdICxGgn_TkAqoXymCuJdJetUjwYPy4&e=. Document: draft-ietf-intarea-probe-07 Reviewer: Joel Halpern Review Date: 2017-11-30 IETF LC End Date: 2017-12-13 IESG Telechat date: 2017-12-14 Summary: This document is almost ready for publication as a Proposed Standard RFC. Major issues: I can not determine from the text why two identification objects are sometimes allowed, or how they are to be used. The texts seems to indicate that they can be somehow combined to identify a single probed interface. But I can not see how. [RB ] Good catch. At one time I thought that this was necessary because IPv6 link-local addresses are not necessarily unique to the node. So, you might need to probe by IP address and something else (e.g., ifName). However, ifName is unique to the node. So, one instance of the interface identification object is enough. I will remove that sentence. Minor issues: In section 2.1 in describing the usage when the probed interface is identified by name or ifindex, the text refers to MIBII, RFC 2863. I would expect to see it refer instead (or at least preferentially) to RFC 7223, the YANG model for the Interface stack. [RB ] Fair enough. I will make that change in the next version. The E bit in the Extended ICMP Echo reply seems a bit odd. Shall we try to encode all the possible interface types in this field? Shall we try to distinguish Ethernet directly over fiber from Ethernet over ...? What about an emulated Ethernet interface (pseudowire, etc.) I do not understand why this is here, and fear it is ambiguous. [RB ] Looking back, I described that badly. This bit is set if the interface is a pseudowire endpoint and it is running Ethernet. Maybe I should call it the P-bit for Pseudowire endpoint. We don't need to specify what type of pseudowire it is. What do you think? Nits\/editorial comments: I find the description of the node containing the proxy interface as being \"the probed node\" as being somewhat odd, as it is not the node containing the probed interface. I would have expected it to be called \"the proxy node\"? [RB ] Fair enough. I can make that change in the next revision. Very nitpicky: In section 4, the step reading \"If the Code Field is equal to No Error (0) and the L-bit is clear, set the A-Bit.\" probably ought to say \"otherwise, clear the A-bit.\" [RB ] Fair enough. I can make that change in the next revision. _______________________________________________ Gen-art mailing list 3A__ man_listinfo_gen- 2Dart&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDT XcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=3aYviNNhuXQukU cgg_np7tq6-CJZDv9M_hHVW_ulyzo&s=7TxRC3k3Vsozba6OX8GmaFv_c- 9INm2pcVkjqx sPpr0&e="}
{"_id":"q-en-rfc8335-959563b56dcadcdd67708ca55682ecc0ffd62f31aae37489bec4e8ddd13e06f5","text":"Hi Ron, We need to ask for one more thing that we didn't ask for in our review, and it's because there's an error in the registration procedure data in the registries. Both and incorrectly state that the IESG Approval or Standards Action are the registration procedures for all \"Code\" registries. However, RFC 4443 and RFC 2780 state that \"The policy for assigning Code values for new IPv6 ICMP Types not defined in this document should be defined in the document defining the new Type\" ( and \"The policy for assigning Code values for new IPv4 ICMP Types should be defined in the document defining the new Type value\" ( section 6). Can you provide registration procedures for all of the Code registries? For our purposes, these could be added to the document as late as after IESG approval, when we're completing the actions, if that's more convenient\/appropriate. Was our identification of 15 as the maximum values for the Code registries correct? Amanda On Tue Dec 12 21:14:40 2017, wrote: Folks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: [mailto:] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <; Mohamed Boucadair <; Jen Linkova <; Reji Thomas <; J. Linkova <; Chris Lenart <: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: There are also htmlized versions available at: A diff from the previous version is available at: Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"q-en-rfc8335-b56a292f6c7e46fbd698fbad2594d3cc4e4e1c64bb782f31ce8938b1adfb51f8","text":"All codes a First Come First Serve (FCFS). I will spin a new version and submit it ASAP. Ron -----Original Message----- From: Amanda Baber via RT [mailto:] Sent: Tuesday, December 12, 2017 4:36 PM Cc: ; ; ; ; ; ; Ron Bonica <; Subject: [IANA ] FW: New Version Notification for draft-ietf-intarea- probe-08.txt Hi Ron, We need to ask for one more thing that we didn't ask for in our review, and it's because there's an error in the registration procedure data in the registries. Both 3A__ 2Dparameters&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=TLb_jHVPHe0Dj7nQ4Cxwyrf8kdC5iiojQPhDvNKJtTc&e= and 3A__ 2Dparameters&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=caVCOf9tFAN8f24EMxRMHvTiDs5J4_xCxb1H9wrRdy0&e= incorrectly state that the IESG Approval or Standards Action are the registration procedures for all \"Code\" registries. However, RFC 4443 and RFC 2780 state that \"The policy for assigning Code values for new IPv6 ICMP Types not defined in this document should be defined in the document defining the new Type\" ( 3A__tools.ietf.org_html_rfc4443-23section- 2D6.1&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=pbDiItpJesJOl2L2iBx1kDXKkeb1C7z0OI5HymB1tmw&e=) and \"The policy for assigning Code values for new IPv4 ICMP Types should be defined in the document defining the new Type value\" ( 3A__tools.ietf.org_html_rfc2780&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjB XeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=FjlPdWOkYxEJzt9MQX1- M75o_na80GFrPWen2FkA- FI&s=mcXN5Wq_JQeqJYW6SKSDoqHccqV9BSu4TL55DhDzBRk&e=, section 6). Can you provide registration procedures for all of the Code registries? For our purposes, these could be added to the document as late as after IESG approval, when we're completing the actions, if that's more convenient\/appropriate. Was our identification of 15 as the maximum values for the Code registries correct? Amanda On Tue Dec 12 21:14:40 2017, wrote: Folks, I have posted a new version of draft-ietf-intarea-probe reflecting IETF LC comments from Joel, Stewart, Stephan, Yaron and Amanda. Please take a look at the document to make sure that I have addressed your comments satisfactorily. Ron -----Original Message----- From: [mailto:] Sent: Tuesday, December 12, 2017 3:59 PM To: Ron Bonica <; Mohamed Boucadair <; Jen Linkova <; Reji Thomas <; J. Linkova <; Chris Lenart <: New Version Notification for draft-ietf-intarea-probe-08.txt A new version of I-D, draft-ietf-intarea-probe-08.txt has been successfully submitted by Ron Bonica and posted to the IETF repository. Name: draft-ietf-intarea-probe Revision: 08 Title: PROBE: A Utility For Probing Interfaces Document date: 2017-12-12 Group: intarea Pages: 17 The IETF datatracker status page for this draft is: org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh 0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8 &m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=4sUgvChAKXjuVzWPrGKqb fqt_jA6PiVIL6DZPsAjZ5w&e= There are also htmlized versions available at: ml_draft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0 UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8& m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=INWpBt9CzwPXJTZhxfmFY- cu3M3T0JhFasMgfRuRyWg&e= org_doc_html_draft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rs uhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHc AwrDThKP8&m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=LUCrIXP0TerM 3OMtBViTNxSMap1b9A7NYTunO5SiyAo&e= A diff from the previous version is available at: 3A__ iff-3Furl2-3Ddraft-2Dietf-2Dintarea-2Dprobe- 2D08&d=DwIDaQ&c=HAkYuh63rs uhr6Scbfh0UjBXeMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHc AwrDThKP8&m=FjlPdWOkYxEJzt9MQX1-M75o_na80GFrPWen2FkA- FI&s=WlzMSjovLFmc yOO7nNHeov_N1fzX_wHL3DSfor0vEsE&e= Abstract: This document describes a network diagnostic tool called PROBE. PROBE is similar to PING, in that it can be used to query the status of a probed interface. It differs from PING in that it does not require bidirectional connectivity between the probing and probed interfaces. Instead, PROBE requires bidirectional connectivity between the probing interface and a proxy interface. The proxy interface can reside on the same node as the probed interface or it can reside on a node to which the probed interface is directly connected. This document updates RFC 4884. Please note that it may take a couple of minutes from the time of submission until the htmlized version and diff are available at tools.ietf.org. The IETF Secretariat"}
{"_id":"q-en-rfc8335-c0c48a421b0b0db2dec3062822fb9db484403404289e18f17914c21667d45b65","text":"Kathleen Moriarty has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- Thanks for your responses on the SecDir review. There were 3 points and I think you've come to a conclusion on each of them, but let me verify from the updated text in versions 8 and 9. From the review: The probed interface can be identified by an IEEE 802 address (presumably, a MAC address). This is an important detail from a security point of view. Normally you don't expect a remote node to be able to access machines by MAC address, and many firewall deployments enforce access control solely at the IP level. KMM: The following was added in 4.1: \"o The L-bit is set and the ICMP Extension Structure does not identify any local interfaces o The L-bit is clear and the address or addresses found in the Interface Identification object appear in neither the IPv4 Address Resolution Protocol (ARP) Table nor the IPv6 Neighbor Cache\" And that's an improvement, thank you. Similarly, in an IPv4 setting, the proxy can be identified by a routable address, and used to probe a non-routable (RFC 1918) address. KMM: I don't see added text to point out this as was requested. Can you point me to the text or add some? \"The incoming ICMP Extend Echo Request carries a source address that is not explicitly authorized for the incoming ICMP Extended Echo Request L-bit setting\" - this implies a per-node whitelist listing all IP addresses that are allowed to probe it. I don't think we mean seriously to list all the addresses that can ping a given node, so this smells like security theater - sorry. KMM: The last one - I agree with Ron, it is common practice to have explicit allow only lists, at least for any organization I worked. I think this is a good recommendation to keep in the document. Thank you!"}
{"_id":"q-en-rfc8335-d3b3b128112ea252d85ce025ab7eda9c5e13fb89794c2295196c1813404669fc","text":"Alvaro Retana has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- (1) The Code field of the Request is set to 0 - what happens if a different value is received? (2) The Request includes 2 fields (Identifier and Sequence Number) that are used “to aid in matching Extended Echo Replies to Extended Echo Requests”. Their use seems to be a local matter (as the values are simply copied in to the Reply. Can you please provide guidance on their use? Why are there 2 fields (and not just a single one)? I’m assuming\/hoping that the design had use cases in mind that can be reflected in the document. (3) It would be nice to set up a registry for the Reserved fields. (4) I’m not sure I understand the use\/intention of the L-bit. The description says that it is used (on the Request) to indicate whether the probed interfaces resides on the proxy node (or not). How does the originator of the Request know that information? The other function of this bit seems to be to control how the Interface Identification Object can identify the probed interface…while it seems to make sense that a probed interface that doesn’t reside on the proxy node would only be identified by it’s address, it still makes me wonder how the sender of the Request would know, and why it even matters that it does and that it indicates it to the proxy node."}
{"_id":"q-en-rfc8335-8307f66d6cafe790853901b518c042680919324a2c62cf37a0834316ddf8fbbc","text":"Alvaro, Thanks for the review. Comments inline...... Ron -----Original Message----- From: Alvaro Retana [mailto:] Sent: Wednesday, December 13, 2017 4:17 PM To: The IESG <: ; Luigi Iannone <; ; Subject: Alvaro Retana's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Alvaro Retana has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to 3A__ 2Dcriteria.html&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=d_E7NtGz7Mkv4ZHGdIjRM02eCQ1JZ_Yt4EEM6IC muk4&s=4NMprXR5y7Q_uFaDi3U-1CH5RCEEnk7dsr64WAgvz58&e= for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: 3A__datatracker.ietf.org_doc_draft-2Dietf-2Dintarea- 2Dprobe_&d=DwIDaQ&c=HAkYuh63rsuhr6Scbfh0UjBXeMK- ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=d_E7NtGz7Mkv4ZHGdIjRM02eCQ1JZ_Yt4EEM6IC muk4&s=em-7xrUp_9BjsRysGOLNV0SVdf0bFXg9jE7Pa5AQ_80&e= ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- (1) The Code field of the Request is set to 0 - what happens if a different value is received? [RB ] Good catch. In version 10 the description will say \"MUST be set to 0 and MUST be ignored on receipt\". (2) The Request includes 2 fields (Identifier and Sequence Number) that are used “to aid in matching Extended Echo Replies to Extended Echo Requests”. Their use seems to be a local matter (as the values are simply copied in to the Reply. Can you please provide guidance on their use? Why are there 2 fields (and not just a single one)? I’m assuming\/hoping that the design had use cases in mind that can be reflected in the document. [RB ] Appendix A describes the PROBE application. In version 10, I will add a sentence describing how the Identifier and Sequence Number are used. (3) It would be nice to set up a registry for the Reserved fields. [RB ] Are you talking about the reserved fields whose value MUST be equal to 0 and MUST be ignored upon receipt? Or are you talking about the following text: Protocol Flag Bit mappings are as follows: Bit 0 (IPv4), Bit 1 (IPv6), Bit 2 (Ethernet), Bits 3-15 (Reserved). If the later, that text has been removed. It was an artifact from a very early version of the draft. (4) I’m not sure I understand the use\/intention of the L-bit. The description says that it is used (on the Request) to indicate whether the probed interfaces resides on the proxy node (or not). How does the originator of the Request know that information? The other function of this bit seems to be to control how the Interface Identification Object can identify the probed interface…while it seems to make sense that a probed interface that doesn’t reside on the proxy node would only be identified by it’s address, it still makes me wonder how the sender of the Request would know, and why it even matters that it does and that it indicates it to the proxy node. [RB ] The L-Bit helps to identify the probed node by specifying whether it resides on the proxy node or is directly connected to the proxy node. In at least one case, it is required for disambiguation. For example, assume that a proxy node has two interfaces, ge-0\/0\/0.0 and ge-0\/0\/0.1. Both links have IPv6 link local addresses. The local side of ge-0\/0\/0.0 has the address fe80::dead:beef and the remote side of ge-0\/0\/0.1 has the same IPv6 link local address. If the ICMP Extended Echo Request identifies the probed interface by address, the L-bit disambiguates between the two similarly numbered interfaces."}
{"_id":"q-en-rfc8335-36e4dbbac15af937a9fc30a169808790e73cad3cb1e9d151a1e7a9add8c78370","text":"Ben Campbell has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- -1.2: There is at least one lower case MUST. Unless that is intended as normative, please consider using the boilerplate from RFC8174. -8, last paragraph: \"MUST NOT leak information\" seems more like a goal or a statement of fact than a normative requirement. (I think the 2nd MUST in that paragraph describes the real normative requirement\")"}
{"_id":"q-en-rfc8335-c5f0ac1d3a61ca47bdbbf0ff0909f1636059b332f11ed08a67157452abba6861","text":"Hi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) Ben Campbell has entered the following ballot position for draft-ietf-intarea-probe-09: No Objection When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) [snip] ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- -1.2: There is at least one lower case MUST. Unless that is intended as normative, please consider using the boilerplate from RFC8174. [RB ] Thanks! This will be fixed in the next version. -8, last paragraph: \"MUST NOT leak information\" seems more like a goal or a statement of fact than a normative requirement. (I think the 2nd MUST in that paragraph describes the real normative requirement\") [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. Ron"}
{"_id":"q-en-rfc8335-e9de22d02f813ae89cf6fe1d4398ae7dc4e867b9163d04e1d81fe62d57e3bad8","text":"On Dec 14, 2017, at 11:03 AM, Ron Bonica <: Hi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) […] [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. I agree it’s really important, but it’s still a statement of fact. It’s not normative in the sense that it doesn’t offer instruction to implementers so much as it offers a reason for the _next_ requirement: \"Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface. “ Isn’t _that_ the real normative requirement? In any case, this is not a blocking comment, so feel free to ignore it :-) Thanks! Ben. Ron"}
{"_id":"q-en-rfc8335-fed70ba22d15f6a4ab5859145bdaeac8b04d2947e0ddd9b10a6b24d3ebf01827","text":"Ben, I am convinced. I will change the first MUST NOT to lower case in version 10. Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Thursday, December 14, 2017 6:23 PM To: Ron Bonica <: The IESG <; ; draft-ietf-intarea- ; ; Subject: Re: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) On Dec 14, 2017, at 11:03 AM, Ron Bonica <: Hi Ben, Thanks for the review. Comments inline..... Ron -----Original Message----- From: Ben Campbell [mailto:] Sent: Wednesday, December 13, 2017 10:11 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Ben Campbell's No Objection on draft-ietf-intarea-probe-09: (with COMMENT) […] [RB ] I respectfully disagree. If PROBE leaks information between routing instances, we will have created a rather serious security vulnerability. So, this is a standing-on-our-heads-serious requirement. I agree it’s really important, but it’s still a statement of fact. It’s not normative in the sense that it doesn’t offer instruction to implementers so much as it offers a reason for the _next_ requirement: \"Therefore, when a node receives an ICMP Extended Echo Request and the proxy interface is in a different VPN than the probed interface, the node MUST return an ICMP Extended Echo Reply with error code equal to (2) No Such Interface. “ Isn’t _that_ the real normative requirement? In any case, this is not a blocking comment, so feel free to ignore it :-) Thanks! Ben. Ron"}
{"_id":"q-en-rfc8335-4cd687a127083457b528d0e7875306701b46b9998e04a717b888ba3bca1ec048","text":"Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) Please refer to for more information about IESG DISCUSS and COMMENT positions. The document, along with other ballot positions, can be found here: ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed \/ on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-)"}
{"_id":"q-en-rfc8335-881603a0913362797513997ff00369fe2096f41f5ac406565e1b89d39d96d2f5","text":"Hi Warren, Thanks for the review. Comments inline....... Happy Holidays, Ron -----Original Message----- From: Warren Kumari [mailto:] Sent: Wednesday, December 13, 2017 4:54 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Warren Kumari's Discuss on draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT) Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed \/ on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: 2Darchive_web_int- 2Darea_current_msg06136.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBX eMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=-FTEnwX0qAUuswd5C59LJixx92pB- lCmDysSzvMuD4E&s=eYX_7OsniE8LwWIAtu0fANguom6rE7Uvol5fgVcNQCU& e= works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. [RB ] Stephan raised the following legitimate points: 1) The presence of an ARP TABLE \/ Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface is active 2) The absence of an ARP Table \/ Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface does not exist We addressed the second point by changing an error message. When the proxy node probes the ARP Table \/ Neighbor Cache and finds nothing, it used to return an ICMP Echo Reply with code equal to \"No Such Interface\". Now it returns an ICMP Echo Reply message with code equal to \"No Such Table Entry\". This is more accurate. Frankly, we didn't address Stephan's first point. I think that we should address it by making the ICMP Echo Reply Message report more accurately. Specifically, when the proxy node searches the ARP Table \/ Neighbor Cache and finds an entry: Set the code to 0 (No Error) Clear the A-bit, the 4-bit and the 6-bit return the state of the neighbor cache entry What do you think? ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-)"}
{"_id":"q-en-rfc8335-218b1fad872113bc7a4c2adeaee1680c4ec82ac9c4fc02839b0c5fa3170abc4a","text":"On Fri, Dec 15, 2017 at 11:06 AM, Ron Bonica <: Hi Warren, Thanks for the review. Comments inline....... Happy Holidays, Ron -----Original Message----- From: Warren Kumari [mailto:] Sent: Wednesday, December 13, 2017 4:54 PM To: The IESG <: ; Luigi Iannone <; ; ; Subject: Warren Kumari's Discuss on draft-ietf-intarea-probe-09: (with DISCUSS and COMMENT) Warren Kumari has entered the following ballot position for draft-ietf-intarea-probe-09: Discuss When responding, please keep the subject line intact and reply to all email addresses included in the To and CC lines. (Feel free to cut this introductory paragraph, however.) ---------------------------------------------------------------------- DISCUSS: ---------------------------------------------------------------------- This is, I believe a minor DISCUSS, and I'll happily clear it once a commitment is made that it will be addressed \/ on the call (AKA, I'm not going to hold up the document, but there isn't a \"Comment\" and \"Very important comment\" in the datatracker). Stefan Winter's OpsDir review contains: \"* Introduction states \"[...] if it appears in the IPv4 Address Resolution Protocol (ARP) table [RFC0826] or IPv6 Neighbor Cache [RFC4861].\" \"Appears\" is a rather loose word, as entries in those tables can have multiple states. E.g. for IPv6, which of the states DELAY, STALE, REACHABLE do you mean? All? Or only a subset? In IPv4, do you mean the \"C\" flag exclusively? Also, when the proxy operates remotely (i.e. bases the reply on ARP\/Neighbor Cache rather than ifOperStatus), does it actively ping the interface in question itself? If not, how does it handle an interface address which is not in the ARP\/Neighbour table simply because the entry has timed out? The interface might be up and active nontheless. In such a case, reporting \"does not exist\" is false.\" Ron Bonica's suggested solution in: 2Darchive_web_int- 2Darea_current_msg06136.html&d=DwICaQ&c=HAkYuh63rsuhr6Scbfh0UjBX eMK-ndb3voDTXcWzoCI&r=Fch9FQ82sir-BoLx84hKuKwl- AWF2EfpHcAwrDThKP8&m=-FTEnwX0qAUuswd5C59LJixx92pB- lCmDysSzvMuD4E&s=eYX_7OsniE8LwWIAtu0fANguom6rE7Uvol5fgVcNQCU& e= works for me, but I do not see it in the version being discussed. This would make a substantive change to the document, I wanted to draw attention to it. [RB ] Stephan raised the following legitimate points: 1) The presence of an ARP TABLE \/ Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface is active 2) The absence of an ARP Table \/ Neighbor Cache entry on the proxy node is not sufficient evidence to prove that the probed interface does not exist We addressed the second point by changing an error message. When the proxy node probes the ARP Table \/ Neighbor Cache and finds nothing, it used to return an ICMP Echo Reply with code equal to \"No Such Interface\". Now it returns an ICMP Echo Reply message with code equal to \"No Such Table Entry\". This is more accurate. Frankly, we didn't address Stephan's first point. I think that we should address it by making the ICMP Echo Reply Message report more accurately. Specifically, when the proxy node searches the ARP Table \/ Neighbor Cache and finds an entry: Set the code to 0 (No Error) Clear the A-bit, the 4-bit and the 6-bit return the state of the neighbor cache entry What do you think? That sounds perfectly fine to me. Note that I have cleared my DISCUSS on the telechat - I was only holding it so that I got a chance to note on the call that these changes will require what could be argued is a substantive change to the document, and to make sure that, like me, the rest of the IESG was fine with that. The above sounds fine to me, and I (of course) trust y'all and Suresh to make whatever changes seem sensible. W ---------------------------------------------------------------------- COMMENT: ---------------------------------------------------------------------- In the version I'd initially reviewed there were codes for things like: \"E (Ethernet) - The E-bit is set if the A-bit is also set and IPv4 is running on the probed interface. Otherwise, the E-bit is clear.\" I was going to fuss and ask what makes Ethernet special -- but, seeing as this is removed in the newest version I have nothing to fuss about. :-) -- I don't think the execution is relevant when it was obviously a bad idea in the first place. This is like putting rabid weasels in your pants, and later expressing regret at having chosen those particular rabid weasels and that pair of pants. ---maf"}
